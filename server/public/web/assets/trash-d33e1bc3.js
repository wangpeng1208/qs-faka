import{d as A,a2 as G,A as I,r as v,o as P,l as C,V as M,W as o,M as e,u as s,_ as l,a0 as u,m as U,a3 as $,a4 as z}from"./vue-d500b9b9.js";import{l as E}from"./category-7ff970dd.js";import{b as F}from"./coupon-cde03d16.js";import{R as K}from"./index-9dbb5010.js";import{t as W}from"./table-d7bc18a8.js";import{u as y}from"./useBatchAction-f3f977e3.js";import{s as j,t as q}from"./constant-27cf0e2a.js";import{I as H}from"./index-34a2bb7b.js";import{B as J}from"./index-bfd2121f.js";import{S as O}from"./index-757c1662.js";import{S as Q}from"./index-898a5e08.js";import{T as X}from"./index-9e154440.js";import{C as Y}from"./index-37731a62.js";import{_ as Z}from"./index-1ae915eb.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./base-5914bb6e.js";import"./plugin-7ba31650.js";import"./dialog-b324d954.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-74792024.js";import"./omit-a270a1e2.js";import"./date-35f9fa82.js";import"./libs-035f127b.js";import"./dep-0742ae64-c1faefd0.js";import"./fake-arrow-6b326c36.js";import"./index-ca6ec6df.js";import"./index-3f8df98e.js";import"./index-0100952e.js";import"./useLengthLimit-f75e20cf.js";import"./browse-58fd0d18.js";import"./close-circle-filled-52c8e9f4.js";import"./_baseSet-7d17e61f.js";import"./index-5571e347.js";import"./dep-34b004f3-3e1a5725.js";import"./index-ea41187d.js";import"./index-817224be.js";import"./index-7d80c0e7.js";import"./index-012f82c2.js";import"./dep-ef1abd17-e2c5098b.js";import"./add-4cdc8168.js";import"./index-3d002e46.js";import"./chevron-right-c3c09f0e.js";import"./ellipsis-880d44a3.js";import"./index-615192d6.js";import"./isNil-c75b1b34.js";import"./form-model-ef5bf9d4.js";import"./dep-b10d5f92-42a6e073.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";const tt={class:"category-header c-flex"},ot={class:"l"},et={key:0,class:"selected-count"},at={class:"r c-flex"},st={name:"GoodsCouponTrash"},rt=A({...st,setup(it){const{pagination:b,fetchData:m,dataLoading:k,headerAffixedTop:x,rehandlePageChange:V,lists:f,searchData:S}=W({fetchFun:F}),T=G(),p=I({cate_id:"",status:""}),_=v([]),B=async()=>{const{data:a}=await E();_.value=a.list};P(()=>{m(),B()});const r=v([]),d=a=>{r.value=a},h=a=>{a>0&&d(a),y({title:"提醒",body:"确定要恢复吗？",ids:r.value,url:"/merchantapi/goods/coupon/restore",fetchList:()=>{m(),r.value=[]}})},L=a=>{a>0&&d(a),y({title:"提醒",body:"确定要清空吗？清空后将无法恢复",ids:r.value,url:"/merchantapi/goods/coupon/clear",fetchList:()=>{m(),r.value=[]}})};return(a,t)=>{const w=H,i=J,g=O,D=Q,N=X,R=Y;return C(),M(R,{title:"优惠券回收站",class:"basic-container",bordered:!1},{actions:o(()=>[e(i,{variant:"text",theme:"default",onClick:t[0]||(t[0]=c=>s(T).push("/merchant/goods/coupon"))},{icon:o(()=>[e(w,{name:"rollback"})]),default:o(()=>[t[3]||(t[3]=l(" 返回 ",-1))]),_:1})]),default:o(()=>{var c;return[u("div",tt,[u("div",ot,[e(i,{variant:"base",disabled:!r.value.length,onClick:h},{default:o(()=>[...t[4]||(t[4]=[l(" 批量恢复 ",-1)])]),_:1},8,["disabled"]),e(i,{variant:"base",theme:"danger",onClick:L},{default:o(()=>[...t[5]||(t[5]=[l(" 清空回收站 ",-1)])]),_:1}),r.value.length?(C(),U("p",et,"已选"+$(r.value.length)+"项",1)):z("",!0)]),u("div",at,[e(D,null,{default:o(()=>[e(g,{modelValue:p.cate_id,"onUpdate:modelValue":t[1]||(t[1]=n=>p.cate_id=n),placeholder:"全部分类",type:"search",clearable:"",options:_.value},null,8,["modelValue","options"]),e(g,{modelValue:p.status,"onUpdate:modelValue":t[2]||(t[2]=n=>p.status=n),placeholder:"全部状态",type:"search",clearable:"",options:s(j)},null,8,["modelValue","options"]),e(i,{theme:"primary",onClick:s(S)},{default:o(()=>[...t[6]||(t[6]=[l("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),e(N,{data:s(f),columns:s(q),"row-key":"id","vertical-align":"top",hover:((c=s(f))==null?void 0:c.length)>0,pagination:s(b),loading:s(k),"header-affixed-top":s(x),"table-layout":"auto","max-height":"100%",onPageChange:s(V),onSelectChange:d},{operation:o(({row:n})=>[e(i,{size:"small",variant:"outline",shape:"round",theme:"success",onClick:nt=>h([n.id])},{default:o(()=>[...t[7]||(t[7]=[l("恢复",-1)])]),_:1},8,["onClick"])]),empty:o(()=>[e(K,{title:"",tip:"优惠券回收站为空",type:"list"})]),_:1},8,["data","columns","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});const ro=Z(rt,[["__scopeId","data-v-d01c59de"]]);export{ro as default};
