import{az as W,a6 as ae,x as le,y as R,aA as te,aB as ue,aC as oe,o as re,n as ie,N as $,K as q,p as ce,I as ve,m as H,q as T,l as de,W as se,ai as he,aj as fe,t as ke,at as be,s as M,E as Ce,w as J}from"./index-ebc513dd.js";import{r as p,o as ge,w as E,h as ye,d as X,t as Q,i as xe,b as V,M as B,f as me,I as Ae,N as pe}from"./vue-51c2f431.js";import{C as z}from"./dep-34b004f3-3e1a5725.js";function Ve(n,e,l,t){for(var i=n.length,r=l+(t?1:-1);t?r--:++r<i;)if(e(n[r],r,n))return r;return-1}function Oe(n){return n!==n}function _e(n,e,l){for(var t=l-1,i=n.length;++t<i;)if(n[t]===e)return t;return-1}function we(n,e,l){return e===e?_e(n,e,l):Ve(n,Oe,l)}function Le(n,e){var l=n==null?0:n.length;return!!l&&we(n,e,0)>-1}function Se(n,e,l){for(var t=-1,i=n==null?0:n.length;++t<i;)if(l(e,n[t]))return!0;return!1}var Be=Math.min;function Ee(n,e,l){for(var t=l?Se:Le,i=n[0].length,r=n.length,h=r,y=Array(r),x=1/0,m=[];h--;){var v=n[h];h&&e&&(v=W(v,ae(e))),x=Be(v.length,x),y[h]=!l&&(e||i>=120&&v.length>=120)?new le(h&&v):void 0}v=n[0];var A=-1,f=y[0];e:for(;++A<i&&m.length<x;){var a=v[A],b=e?e(a):a;if(a=l||a!==0?a:0,!(f?R(f,b):t(m,b,l))){for(h=r;--h;){var C=y[h];if(!(C?R(C,b):t(n[h],b,l)))continue e}f&&f.push(b),m.push(a)}}return m}function je(n){return te(n)?n:[]}var Ne=ue(function(n){var e=W(n,je);return e.length&&e[0]===n[0]?Ee(e):[]});const G=Ne;/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Te={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},lazyLoad:Boolean,name:{type:String,default:""},readonly:{type:Boolean,default:void 0},title:{type:String,default:""},value:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Y=Symbol("CheckboxGroupProvide");/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function De(n,e){var l=p(),t=p(!0),i=function(){if(e.value){t.value=!1;var h=oe(n.value,null,function(){t.value=!0},0);l.value=h}};return ge(i),E([e,n],i),ye(function(){e.value&&l.value.unobserve(n.value)}),{showCheckbox:t}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Ie(n){var e=function(r){var h=z.test(r.key)||z.test(r.code);if(h){r.preventDefault();var y=r.currentTarget.querySelector("input"),x=y.disabled;!x&&n(r)}},l=function(r){r.currentTarget.addEventListener("keydown",e)},t=function(r){r.currentTarget.removeEventListener("keydown",e)};return{onCheckboxFocus:l,onCheckboxBlur:t}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function K(n,e){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),l.push.apply(l,t)}return l}function U(n){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?arguments[e]:{};e%2?K(Object(l),!0).forEach(function(t){T(n,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):K(Object(l)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(l,t))})}return n}var Z=X({name:"TCheckbox",props:U(U({},Te),{},{needRipple:Boolean,stopLabelTrigger:Boolean,index:Number,data:Object}),setup:function(e){var l=p();e.needRipple&&re(l);var t=ie(),i=t.STATUS,r=Q(e),h=r.checked,y=r.modelValue,x=r.lazyLoad,m=$(h,y,e.defaultChecked,e.onChange,"checked"),v=q(m,2),A=v[0],f=v[1],a=xe(Y,void 0),b=p();E(function(){return[e.name,a==null?void 0:a.value.name].join("_")},function(){var g=e.name||(a==null?void 0:a.value.name);g&&(b.value=g)},{immediate:!0});var C=p(!1),j=function(){var w=e.value,S=e.checkAll;return S?a==null?void 0:a.value.isCheckAll:a!=null&&a.value?a.value.checkedValues.includes(w):A.value};E(function(){var g;return[A.value,a==null?void 0:a.value.isCheckAll,a==null||(g=a.value.checkedValues)===null||g===void 0?void 0:g.join(",")]},function(){C.value=j()},{immediate:!0});var D=V(function(){return!e.checkAll&&!C.value&&a!==null&&a!==void 0&&a.value.maxExceeded?!0:null}),I=V(function(){return a==null?void 0:a.value.disabled}),O=ce({beforeDisabled:D,afterDisabled:I}),P=V(function(){return a==null?void 0:a.value.readonly}),N=ve({afterReadonly:P}),L=p(!1);E(function(){return[e.checkAll,e.indeterminate,a==null?void 0:a.value.indeterminate]},function(){L.value=e.checkAll?a==null?void 0:a.value.indeterminate:e.indeterminate},{immediate:!0});var c=H("checkbox"),u=p({});E([C,O,L],function(){u.value=["".concat(c.value),T(T(T({},i.value.checked,C.value),i.value.disabled,O.value),i.value.indeterminate,L.value)]},{immediate:!0});var o=function(w){if(!N.value){var S=!C.value;f(S,{e:w}),a!=null&&a.value.handleCheckboxChange&&a.value.onCheckedChange({checked:S,checkAll:e.checkAll,e:w,option:e})}},s=de(),d=function(w){e.stopLabelTrigger&&w.preventDefault()},k=De(l,x),_=k.showCheckbox,F=Ie(o),ee=F.onCheckboxFocus,ne=F.onCheckboxBlur;return function(){var g=se(e.title)&&e.title?e.title:null;return B("label",{ref:l,class:u.value,tabindex:O.value?void 0:"0",onFocus:ee,onBlur:ne,onClick:d,title:g},[_.value?[B("input",{type:"checkbox",tabindex:"-1",class:"".concat(c.value,"__former"),disabled:O.value,readonly:N.value,indeterminate:L.value,name:b.value,value:e.value?e.value:void 0,checked:C.value,onChange:o,onClick:function(S){return S.stopPropagation()},key:"input"},null),B("span",{class:"".concat(c.value,"__input"),key:"input-span",onClick:e.stopLabelTrigger&&o},null),B("span",{class:"".concat(c.value,"__label"),key:"label"},[s("default","label")])]:null])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Pe={disabled:{type:Boolean,default:void 0},lazyLoad:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array},readonly:{type:Boolean,default:void 0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Me=X({name:"TCheckboxGroup",props:Pe,setup:function(e){var l=H("checkbox-group"),t=ke(),i=Array.isArray,r=Q(e),h=r.value,y=r.modelValue,x=$(h,y,e.defaultValue,e.onChange),m=q(x,2),v=m[0],A=m[1],f=p([]),a=V(function(){if(!i(v.value))return 0;var c=f.value.map(function(o){return o.value}),u=G(v.value,c);return u.length}),b=V(function(){var c=f.value.filter(function(o){return!o.disabled&&!o.readonly&&!o.checkAll}).map(function(o){return o.value}),u=G(c,v.value);return u.length===c.length}),C=V(function(){return!b.value&&a.value<f.value.length&&a.value!==0}),j=V(function(){return!he(e.max)&&v.value.length===e.max});me(function(){if(!e.options)return[];f.value=e.options.map(function(c){return fe(c)?c:{label:String(c),value:c}})});var D=function(){for(var u=new Set,o=new Set,s=0,d=f.value.length;s<d;s++){var k=f.value[s];if(!k.checkAll){if(k.disabled)if(v.value.includes(k.value))o.add(k.value);else continue;if(k.readonly)if(v.value.includes(k.value))o.add(k.value);else continue;if(u.add(k.value),j.value)break}}return{checkAllVal:M(u),uncheckAllVal:M(o)}},I=function(u,o){var s=D(),d=s.checkAllVal,k=s.uncheckAllVal,_=u?d:k;A(_,{e:o.e,type:u?"check":"uncheck",current:void 0,option:void 0})},O=function(u){var o=u.option.value;if(!i(v.value)){console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(be(v.value)));return}var s=M(v.value);if(u.checked)s.push(o);else{var d=s.indexOf(o);s.splice(d,1)}A(s,{e:u.e,current:u.option.value,option:u.option,type:u.checked?"check":"uncheck"})},P=function(u){var o=u.checked,s=u.checkAll,d=u.e;s?I(o,{e:d}):O(u)},N=Ce(),L=function(){var u=N("Checkbox"),o=[];return u==null||u.forEach(function(s){var d=s.props;d&&((d["check-all"]===""||d["check-all"]===!0)&&(d.checkAll=!0),o.push(d))}),o};return Ae(Y,V(function(){return{name:e.name,isCheckAll:b.value,checkedValues:v.value||[],maxExceeded:j.value,disabled:e.disabled,readonly:e.readonly,indeterminate:C.value,handleCheckboxChange:O,onCheckedChange:P}})),function(){var c,u=null;if((c=e.options)!==null&&c!==void 0&&c.length){var o;u=(o=f.value)===null||o===void 0?void 0:o.map(function(d,k){var _;return B(Z,pe({key:"".concat(d.value||"").concat(k),lazyLoad:e.lazyLoad},d,{index:k,checked:(_=v.value)===null||_===void 0?void 0:_.includes(d.value),data:d}),null)})}else{var s=t("default");f.value=L(),u=s}return B("div",{class:l.value,role:"group","aria-label":"checkbox-group"},[u])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ge=J(Z),Ke=J(Me);export{Ke as C,Le as a,Se as b,Ge as c,G as i};
