import{d as p,r as v,l as o,m as r,M as f,a0 as g,a3 as n,u as h,a4 as l,a2 as y}from"./vue-51c2f431.js";import{g as I}from"./order-c12a2b38.js";import{I as k}from"./index-69f74367.js";import{_ as w}from"./index-ebc513dd.js";import"./libs-1cd01688.js";import"./plugins-ccea0c8f.js";import"./others-24e1b5c5.js";import"./echarts-a13411ed.js";const x={class:"result-success"},S={class:"result-success-title"},b={key:0,class:"result-success-describe"},B={key:1},N={name:"PayResult"},O=p({...N,setup(P){const i=y(),d=window.location.search.slice(1),s=new URLSearchParams(d).get("out_trade_no"),u=async()=>await I({trade_no:s}),e=v({ico:"loading",loading:!1,title:"请稍等。。。"}),a=setInterval(async()=>{if(!s){clearInterval(a);return}const t=await u();if(t.code===0){e.value.ico="close-circle",e.value.loading=!1,e.value.title=t.msg,clearInterval(a);return}t.code===1&&(e.value={ico:"check-circle",loading:!1,title:"支付成功"},clearInterval(a),setTimeout(()=>{_(t.data.path,{orderId:s})},2e3))},2e3),_=(t,c={})=>{i.push({path:t,query:c})};return(t,c)=>{const m=k;return o(),r("div",x,[f(m,{class:"result-success-icon",name:e.value.ico},null,8,["name"]),g("div",S,n(e.value.title),1),e.value.loading?(o(),r("div",b,"订单号："+n(h(s)),1)):l("",!0),e.value.loading?(o(),r("div",B,"正在为您跳转")):l("",!0)])}}});const T=w(O,[["__scopeId","data-v-007d1d28"]]);export{T as default};
