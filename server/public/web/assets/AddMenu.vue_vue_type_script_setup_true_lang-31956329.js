import{bD as k,bE as y,bF as A}from"./index-6b6fbd51.js";import{T as S}from"./index-b8d4edf9.js";import{S as x}from"./index-0fc44882.js";import{D as w}from"./index-f937956d.js";import{d as C,r as s,l as i,V as m,W as l,M as D,m as U,G as B,a5 as T,_ as V,a3 as E}from"./vue-d500b9b9.js";const z=C({__name:"AddMenu",emits:["refresh"],setup(F,{expose:f,emit:_}){const c=s([]);(async()=>{const e=await k();e.code&&(c.value=e.data)})();const a=s([]),u=async()=>{const e=await y();e.code&&e.data!==void 0&&(a.value=e.data)};u();const n=s(!1),p=s("添加菜单"),v=_,g=async e=>{if(a.value.length>0&&a.value.some(r=>r.menu_id===e))return;(await A({menu_id:e})).code&&(u(),v("refresh"))};return f({init:()=>{n.value=!0}}),(e,o)=>{const r=S,h=x,M=w;return i(),m(M,{visible:n.value,"onUpdate:visible":o[0]||(o[0]=t=>n.value=t),"close-on-overlay-click":!1,"destroy-on-close":!0,header:p.value,footer:!1},{default:l(()=>[D(h,{align:"center","break-line":""},{default:l(()=>[(i(!0),U(B,null,T(c.value,(t,b)=>(i(),m(r,{key:b,theme:a.value.some(d=>d.id===t.id)?"default":"primary",onClick:d=>g(t.id)},{default:l(()=>[V(E(t.title),1)]),_:2},1032,["theme","onClick"]))),128))]),_:1})]),_:1},8,["visible","header"])}}});export{z as _};
