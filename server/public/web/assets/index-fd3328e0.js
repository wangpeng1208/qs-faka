import{_ as Y}from"./bg_index3-eb28e339.js";import{e as Z,a8 as ee,r as o,l as te,P as i,Q as y,f as s,a7 as e,ab as u,ae as F,a9 as g,a4 as d,H as _,a3 as x,I as le,F as ae,aa as oe,ac as se,ad as ne}from"./vue-bf422dc1.js";import{q as de}from"./complaint-44ad560e.js";import{q as re}from"./order-ea430276.js";import{c as ie,_ as ue}from"./index-8db2df2c.js";import{f as ce}from"./date-20546ee0.js";import _e from"./ComplaintDeatil-2ebd90c1.js";import pe from"./MiniHeader-b0e91535.js";import{M as V,d as ve,I as me,B as fe,F as he,e as ye,f as ge,v as xe,S as be,w as we,N as ke}from"./ui-ba7aaa7e.js";import"./libs-51817cd7.js";import"./plugins-ca970193.js";import"./others-9f318174.js";import"./echarts-bf9d612c.js";import"./icons-a8498fb6.js";import"./index-b02b5348.js";import"./PlaintDialog-28370a99.js";const n=b=>(se("data-v-26e89393"),b=b(),ne(),b),Te={id:"index",class:"order-wrapper"},Ce={class:"order-banner"},Ve={class:"container"},qe=n(()=>e("dt",null,[e("img",{src:Y,style:{transform:"scaleX(-1)",height:"150px"}})],-1)),Se={class:"order-search"},Ie={class:"order-search-box"},Be={class:"item"},Le={class:"input-group"},Me={style:{width:"100%",display:"flex"}},De={style:{width:"20%"}},He=n(()=>e("span",null,"查询类型",-1)),Re=n(()=>e("span",null,"订单号",-1)),Ue=n(()=>e("span",null,"查询密码",-1)),Ne={style:{width:"20%"}},Fe=n(()=>e("span",null,"查询类型",-1)),ze=n(()=>e("div",{class:"p d-none d-lg-block"},[e("span",null,"免责声明："),_("平台不参与商品售卖，如需售后请点击联系商家，若需要平台介入售后：可在【订单投诉】等待平台处理。(且平台只处理24小时内订单)")],-1)),$e={class:"order"},je={key:0,class:"container"},Oe=n(()=>e("div",{class:"no-order"},[e("p",null,"没有查询到订单信息")],-1)),Qe=n(()=>e("div",{class:"no-order"},[e("p",null,"订单未支付")],-1)),Xe={class:"order-list"},Ae={class:"h",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Ee=n(()=>e("dt",null,"下单时间",-1)),Pe=n(()=>e("dt",null,"付款方式",-1)),Ge=n(()=>e("dt",null,"支付金额",-1)),Je=n(()=>e("dt",null,"已发卡密",-1)),Ke=n(()=>e("dt",null,"商品名称",-1)),We={style:{"max-width":"303px"}},Ye={style:{"text-align":"center"}},Ze={style:{"text-align":"center",padding:"20px",margin:"20px"}},et=["innerHTML"],tt={class:"remark"},lt=["innerHTML"],at={class:"remark"},ot=n(()=>e("div",{class:"container copyright"},[_(" 防骗提示：如果您查询卡密时发现有以下情况,证明您很有可能被骗,请及时与快发卡客服联系 "),e("br"),_(' 1.卡密内容为"联系XX取卡"、"付款成功，等待充值" 2.以各种理由推脱到第二天发货 3.商品有问题，卖家不售后 4.承诺充值返现 5.购买的商品为实物，需要快递发货 ')],-1)),st=Z({__name:"index",setup(b){const z=ee(),{tscx:$,orderId:I}=z.currentRoute.value.query,l=o({value:"1",label:"订单查询",text:"轻松查询订单,即刻享受卡密自动交易",submitText:"查询订单"});$&&(l.value={value:"2",label:"投诉查询",text:"轻松查询投诉,保障您的消费权益",submitText:"查询投诉"});const j=[{label:"订单查询",value:"1"},{label:"投诉查询",value:"2"}],O=m=>{m.value==="1"?(l.value.text="轻松查询订单,即刻享受卡密自动交易",l.value.submitText="查询订单"):(l.value.text="轻松查询投诉,保障您的消费权益",l.value.submitText="查询投诉"),l.value=m},q=o(!1),f=o("");I&&(f.value=I);const B=o(3),h=o(""),L=o(""),p=o({trade_no:"Dd240318072806b1a72b16",create_at:1,total_price:"",quantity:"",status:0}),M=o(""),w=o({name:"",remark:""}),D=o({wechat:"",mobile:"",qq:""}),k=o(!1),T=o(!1),v=o(""),H=o(),R=async()=>{var a;if(!f.value.length){V.error("请输入订单号！");return}let m=2;/^1[3456789]\d{9}$/.test(f.value)&&(m=3),B.value=m,q.value=!1,k.value=!0;try{let t;if(l.value.value==="1"?t=await re({orderid:f.value,queryType:B.value,pwd:v.value}):t=await de({trade_no:f.value,pwd:v.value}),k.value=!1,t.code===1001){T.value=!0;return}if(t.code===0){V.error(t.msg);return}l.value.value==="1"?(p.value=t.data.order,h.value=t.data.outCards,L.value=h.value.replace(/\n/g,"<br />"),M.value=t.data.paytype,w.value=t.data.goods,D.value=t.data.shop.shop_contact,q.value=!0,T.value=!1,v.value=""):(a=H.value)==null||a.init(t.data)}catch{k.value=!1,V.error("查询出错")}},U=te({content:"查询",loading:!1}),Q=()=>{v.value?(U.content="查询中...",U.loading=!0,R()):V.error("请输入查询密码")},X=()=>{const m=`${w.value.name}-${p.value.trade_no}.txt`,a=h.value,t=window.URL.createObjectURL(new Blob([a])),c=document.createElement("a");c.style.display="none",c.href=t,c.setAttribute("download",m),document.body.appendChild(c),c.click()},A=()=>{ie(h.value)};return(m,a)=>{const t=ve,c=me,C=fe,E=he,P=ye,G=ge,S=xe,J=be,K=we,W=ke;return i(),y("div",Te,[s(pe),e("div",Ce,[e("div",Ve,[e("dl",null,[qe,e("dd",null,u(l.value.text),1)]),e("div",Se,[e("div",Ie,[e("div",Be,[e("div",Le,[e("div",Me,[e("div",De,[He,s(t,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=r=>l.value=r),class:"searchType","value-type":"object",size:"large",options:j,onChange:O},null,8,["modelValue"])]),e("div",{style:F(l.value.value=="2"?"width:30%;margin-right: 20px;":"width: 60%;margin-right: 20px;")},[Re,s(c,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=r=>f.value=r),class:"orderid_input",size:"large",placeholder:"请输入订单号"},null,8,["modelValue"])],4),l.value.value=="2"?(i(),y("div",{key:0,style:F(l.value.value=="2"?"width:30%;margin-right: 20px;":"")},[Ue,s(c,{modelValue:v.value,"onUpdate:modelValue":a[2]||(a[2]=r=>v.value=r),class:"orderid_input",size:"large",placeholder:"请输入查询密码"},null,8,["modelValue"])],4)):g("",!0),e("div",Ne,[Fe,s(C,{class:"order-btn",onClick:R},{default:d(()=>[_(u(l.value.submitText),1)]),_:1})])])])]),ze])])])]),s(G,{visible:T.value,"onUpdate:visible":a[4]||(a[4]=r=>T.value=r),"close-on-overlay-click":!1,header:"提示",mode:"modal",draggable:"","confirm-btn":"确定","on-confirm":Q},{body:d(()=>[s(P,{ref:"form","label-align":"top"},{default:d(()=>[s(E,{label:"",name:"name"},{default:d(()=>[s(c,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=r=>v.value=r),placeholder:"请输入查询密码",style:{width:"500px"}},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["visible"]),e("div",$e,[q.value?(i(),y("div",je,[s(K,null,{default:d(()=>[p.value?g("",!0):(i(),x(S,{key:0,class:"col-lg-12"},{default:d(()=>[Oe]),_:1})),p.value.status==0?(i(),x(S,{key:1,class:"col-lg-12"},{default:d(()=>[Qe]),_:1})):(i(),x(S,{key:2,span:12},{default:d(()=>[e("div",Xe,[s(C,null,{default:d(()=>[_("订单号："+u(p.value.trade_no),1)]),_:1}),e("div",Ae,[e("dl",null,[Ee,e("dd",null,u(le(ce)(p.value.create_at)),1)]),e("dl",null,[Pe,e("dd",null,u(M.value),1)]),e("dl",null,[Ge,e("dd",null,u(p.value.total_price)+"元",1)]),e("dl",null,[Je,e("dd",null,"发放卡密"+u(p.value.quantity)+"张",1)]),e("dl",null,[Ke,e("dd",We,u(w.value.name),1)])]),e("div",Ye,[s(J,null,{default:d(()=>[h.value?(i(),x(C,{key:0,onClick:X},{default:d(()=>[_("导出卡密")]),_:1})):g("",!0),h.value?(i(),x(C,{key:1,tip:"点击复制",onClick:A},{default:d(()=>[_("复制卡密")]),_:1})):g("",!0)]),_:1})]),e("div",Ze,[e("div",{id:"copyText",innerHTML:L.value},null,8,et),e("div",tt,[_(" 使用说明： "),e("div",{innerHTML:w.value.remark},null,8,lt)]),e("div",at,[_(" 联系商家: "),(i(!0),y(ae,null,oe(D.value,(r,N)=>(i(),y("div",{key:N},u(N)+" : "+u(r),1))),128))])])])]),_:1}))]),_:1})])):g("",!0)]),s(W,{loading:k.value,text:"加载中...",fullscreen:""},null,8,["loading"]),ot,s(_e,{ref_key:"complaintDeatilRef",ref:H},null,512)])}}});const wt=ue(st,[["__scopeId","data-v-26e89393"]]);export{wt as default};
