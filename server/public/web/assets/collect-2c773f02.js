import{c as M,a as B}from"./user-6eaedfbc.js";import{M as v,_ as P}from"./index-5ae314bf.js";import{R as A}from"./index-a9524ed3.js";import{F as N,a as O}from"./index-9de6e4fb.js";import{I as S}from"./index-9b4540ef.js";import{I as j}from"./index-cf0f07c9.js";import{D as G}from"./index-bf58812f.js";import{d as L,r as d,$ as T,l as i,V as p,W as t,a1 as W,M as o,m as b,a4 as c}from"./vue-d500b9b9.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./omit-e39915a9.js";import"./dep-0742ae64-334d1564.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./index-9034b695.js";import"./form-model-962c4be8.js";import"./_baseSet-6774bbcb.js";import"./close-circle-filled-8b5b4fa1.js";import"./useLengthLimit-bf57acc2.js";import"./browse-50d5b530.js";import"./index-7d217f2a.js";import"./dialog-256f8652.js";import"./dep-581cd4f1-d83a7af3.js";import"./index-227fbf78.js";const $={key:0,class:"type"},q={key:1,class:"type"},z={name:"CollectPopup"},H=L({...z,emits:["success"],setup(J,{expose:V,emit:y}){const k=[{label:"支付宝",value:1},{label:"微信",value:2},{label:"银行卡",value:3}],g=[{label:"是",value:1},{label:"否",value:0}],_={id:0,user_id:0,type:1,info:{},allow_update:1,collect_img:""},e=d({..._}),s=d(!1),w=u=>{U(u),s.value=!0},U=async u=>{const{data:l}=await M({id:u});for(const m in e.value)l[m]!=null&&l[m]!==void 0?e.value[m]=l[m]:e.value[m]=_[m];e.value.user_id=u};V({init:w});const D={},x=y,f=d(),I=async()=>{const u=await f.value.validate();if(typeof u!="object"&&u){const l=await B(e.value);l.code===1?(v.success(l.msg),s.value=!1,x("success")):v.error(l.msg)}};return(u,l)=>{const m=A,n=N,r=S,R=j,C=O,E=G,F=T("perms");return i(),p(E,{visible:s.value,"onUpdate:visible":l[9]||(l[9]=a=>s.value=a),"close-on-overlay-click":!1,"destroy-on-close":!0,header:"收款信息","on-confirm":I},{default:t(()=>[W((i(),p(C,{ref_key:"formRef",ref:f,"label-align":"left",data:e.value,rules:D,"label-width":80},{default:t(()=>[o(n,{label:"收款类型",name:"type"},{default:t(()=>[o(m,{modelValue:e.value.type,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.type=a),name:"type",options:k},null,8,["modelValue"])]),_:1}),e.value.type===1||e.value.type===2?(i(),b("div",$,[o(n,{label:"收款账号",name:"account"},{default:t(()=>[o(r,{modelValue:e.value.info.account,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.info.account=a),clearable:"",placeholder:"请输入收款账号"},null,8,["modelValue"])]),_:1}),o(n,{label:"姓名",name:"realname"},{default:t(()=>[o(r,{modelValue:e.value.info.realname,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.info.realname=a),clearable:"",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})])):c("",!0),e.value.type===3?(i(),b("div",q,[o(n,{label:"银行",name:"bank_name"},{default:t(()=>[o(r,{modelValue:e.value.info.bank_name,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.info.bank_name=a),clearable:"",placeholder:"请输入银行"},null,8,["modelValue"])]),_:1}),o(n,{label:"开户行",name:"bank_branch"},{default:t(()=>[o(r,{modelValue:e.value.info.bank_branch,"onUpdate:modelValue":l[4]||(l[4]=a=>e.value.info.bank_branch=a),clearable:"",placeholder:"请输入开户行"},null,8,["modelValue"])]),_:1}),o(n,{label:"银行卡号",name:"bank_card"},{default:t(()=>[o(r,{modelValue:e.value.info.bank_card,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.info.bank_card=a),clearable:"",placeholder:"请输入银行卡号"},null,8,["modelValue"])]),_:1}),o(n,{label:"姓名",name:"realname"},{default:t(()=>[o(r,{modelValue:e.value.info.realname,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.info.realname=a),clearable:"",placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})])):c("",!0),o(n,{label:"身份证号码",name:"idcard_number"},{default:t(()=>[o(r,{modelValue:e.value.info.idcard_number,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.info.idcard_number=a),clearable:"",placeholder:"请输入身份证号码"},null,8,["modelValue"])]),_:1}),e.value.collect_img?(i(),p(n,{key:2,label:"收款图",name:"collect_img"},{default:t(()=>[o(R,{src:"formData.collect_img",style:{width:"200px"}})]),_:1})):c("",!0),o(n,{label:"允许更新",name:"allow_update"},{default:t(()=>[o(m,{modelValue:e.value.allow_update,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.allow_update=a),options:g},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])),[[F,["adminapi/merchant/user/collectEdit"]]])]),_:1},8,["visible"])}}});const ge=P(H,[["__scopeId","data-v-83bf2f2e"]]);export{ge as default};
