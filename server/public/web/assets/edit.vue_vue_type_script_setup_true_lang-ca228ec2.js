import{b as D,e as R}from"./category-a83184c3.js";import{f as x}from"./date-35f9fa82.js";import{M as b}from"./index-5ae314bf.js";import{I as F}from"./index-9b4540ef.js";import{F as I,a as M}from"./index-9de6e4fb.js";import{R as O}from"./index-a9524ed3.js";import{D as q}from"./index-bf58812f.js";import{d as A,r as d,l as B,V as C,W as s,M as o,u as y}from"./vue-d500b9b9.js";const Q=[{colKey:"id",title:"ID"},{colKey:"name",title:"名称"},{colKey:"alias",title:"别名"},{colKey:"type",title:"类型",cell(i,n){let u="";switch(n.row.type){case 1:u="前台列表";break;case 2:u="后台列表";break;default:u="单页";break}return i("span",u)}},{colKey:"status",title:"状态"},{colKey:"create_at",title:"添加时间",cell(i,n){return i("span",x(n.row.create_at))}},{colKey:"operate",title:"操作",fixed:"right"}],E=[{label:"正常",value:1},{label:"禁用",value:0}],L=[{label:"前台列表",value:1},{label:"后台列表",value:2},{label:"单页",value:3}],P={name:"EditPopup"},X=A({...P,emits:["success"],setup(i,{expose:n,emit:u}){const c={id:0,name:"",alias:"",remark:"",status:1,top:0,type:1,create_at:Date.now()},a=d({...c}),f=d(),m=d(!1),v=d("");n({init:l=>{v.value=(l==null?void 0:l.id)>0?"编辑分类":"添加分类",a.value=(l==null?void 0:l.id)>0?{...l}:{...c},m.value=!0}});const V={name:[{required:!0,message:"必填",type:"error"}],alias:[{required:!0,message:"必填",type:"error"}]},g=u,k=async()=>{const l=await f.value.validate();if(typeof l!="object"&&l){const e=a.value.id===0?await D(a.value):await R(a.value);e.code===1?(b.success(e.msg),m.value=!1,g("success")):b.error(e.msg)}};return(l,e)=>{const p=F,r=I,_=O,K=M,U=q;return B(),C(U,{visible:m.value,"onUpdate:visible":e[5]||(e[5]=t=>m.value=t),"destroy-on-close":!0,header:v.value,"on-confirm":k},{default:s(()=>[o(K,{ref_key:"formRef",ref:f,"label-align":"left",data:a.value,rules:V,"label-width":60},{default:s(()=>[o(r,{label:"名称",name:"name"},{default:s(()=>[o(p,{modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.name=t),clearable:"",placeholder:"请输入分类名"},null,8,["modelValue"])]),_:1}),o(r,{label:"别名",name:"alias",tips:"英文别名，方便前台调用"},{default:s(()=>[o(p,{modelValue:a.value.alias,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.alias=t),clearable:""},null,8,["modelValue"])]),_:1}),o(r,{label:"状态",name:"status"},{default:s(()=>[o(_,{modelValue:a.value.status,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.status=t),options:y(E)},null,8,["modelValue","options"])]),_:1}),o(r,{label:"类型",name:"type"},{default:s(()=>[o(_,{modelValue:a.value.type,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.type=t),options:y(L)},null,8,["modelValue","options"])]),_:1}),o(r,{label:"备注",name:"remark",tips:"简短的文字备注，方便自己记忆"},{default:s(()=>[o(p,{modelValue:a.value.remark,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.remark=t),clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])}}});export{X as _,Q as c};
