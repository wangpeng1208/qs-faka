import{b as z,r as G,a as P,g as U,s as $}from"./link-b8711a35.js";import{g as B,a as N}from"./link-697752dc.js";import{c as b,M as m,_ as R}from"./index-6b6fbd51.js";import{R as I}from"./index-ae3a9dfb.js";import{S as W}from"./index-0fc44882.js";import{L as j}from"./index-95260792.js";import{T as q}from"./index-b8d4edf9.js";import{D as A}from"./index-f937956d.js";import{d as E,r,l as F,V as H,W as a,a0 as o,M as l,_ as d,a3 as T,u as V}from"./vue-d500b9b9.js";import"./libs-d79b82a8.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./omit-82a91481.js";import"./dep-0742ae64-0833915c.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./dialog-8ec74ee0.js";import"./dep-581cd4f1-15e6aa5c.js";import"./index-c63cfed1.js";const J={class:"info-block"},K={class:"info-item"},O={class:"info-item"},Q={class:"info-item"},X={class:"info-item"},Y={name:"GoodsLink"},Z=E({...Y,setup(ee,{expose:w}){const t=r({id:0,link:"",short_link:"",status:0}),v=r(!1),f=async s=>{const{data:e}=await z({id:s});e?(t.value={...e},v.value=!0,L(),k()):m.error("获取链接失败")},g=async s=>{const e=await G({type:"good",id:t.value.id,status:s});e.code===1&&(m.success(e.msg),f(t.value.id))},C=async s=>{const e=await P({type:"good",id:t.value.id,status:s});e.code===1&&(m.success(e.msg),f(t.value.id))},_=r([]),x=r([]),L=async()=>{const s=await B(),e=await N();_.value=s.data,x.value=e.data},c=r(null),h=r(null),k=async()=>{const{data:s}=await U({id:t.value.id,type:"good"});c.value=s.pc_template,h.value=s.mobile_template},D=async s=>{const n=await $({field:"pc_template",value:s,id:t.value.id,type:"good"});n.code===1?(m.success(n.msg),k()):m.error(n.msg)},M=[{label:"开启",value:1},{label:"暂停",value:0}];return w({init:f}),(s,e)=>{const n=I,u=W,y=j,p=q,S=A;return F(),H(S,{visible:v.value,"onUpdate:visible":e[6]||(e[6]=i=>v.value=i),"destroy-on-close":!0,"close-on-overlay-click":!1,width:"750",header:"商品链接",footer:!1},{body:a(()=>[o("div",J,[o("div",K,[l(u,null,{default:a(()=>[e[7]||(e[7]=o("h1",null,"链接状态",-1)),l(n,{modelValue:t.value.status,"onUpdate:modelValue":e[0]||(e[0]=i=>t.value.status=i),options:M,onChange:C},null,8,["modelValue"])]),_:1}),e[8]||(e[8]=o("div",{class:"help"},"选择暂停将仅当前商品链接不可用",-1))]),o("div",O,[l(u,null,{default:a(()=>[e[11]||(e[11]=o("h1",null,"绿标短链",-1)),l(y,{theme:"primary",href:t.value.short_link,target:"_blank"},{default:a(()=>[d(T(t.value.short_link),1)]),_:1},8,["href"]),l(p,{class:"hand-cursor",theme:"primary",variant:"light",size:"small",onClick:e[1]||(e[1]=i=>V(b)(t.value.short_link))},{default:a(()=>[...e[9]||(e[9]=[d(" 复制 ",-1)])]),_:1}),l(p,{class:"hand-cursor",theme:"primary",size:"small",onClick:e[2]||(e[2]=i=>g(0))},{default:a(()=>[...e[10]||(e[10]=[d(" 重置短链 ",-1)])]),_:1})]),_:1}),e[12]||(e[12]=o("div",{class:"help"},"绿标短链接打开就是商品长链接，强烈建议使用绿标短链接作为访问链接；如果在朋友圈等地方打广告请发【绿标短链】这个链接，这样可以让您的朋友直接进入您的店铺",-1))]),o("div",Q,[l(u,null,{default:a(()=>[e[15]||(e[15]=o("h1",null,"商品链接",-1)),l(y,{theme:"primary",href:t.value.link,target:"_blank"},{default:a(()=>[d(T(t.value.link),1)]),_:1},8,["href"]),l(p,{class:"hand-cursor",theme:"primary",variant:"light",size:"small",onClick:e[3]||(e[3]=i=>V(b)(t.value.link))},{default:a(()=>[...e[13]||(e[13]=[d(" 复制 ",-1)])]),_:1}),l(p,{class:"hand-cursor",theme:"primary",size:"small",onClick:e[4]||(e[4]=i=>g(1))},{default:a(()=>[...e[14]||(e[14]=[d(" 重置分接 ",-1)])]),_:1})]),_:1}),e[16]||(e[16]=o("div",{class:"help"},"重置商品链接后，当前商品的原短链长连接都会失效；严禁使用此链接发广告",-1))]),o("div",X,[l(u,null,{default:a(()=>[e[17]||(e[17]=o("h1",null,"电脑端风格",-1)),l(n,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=i=>c.value=i),options:_.value,onChange:D},null,8,["modelValue","options"])]),_:1}),e[18]||(e[18]=o("div",{class:"help"},"当前商品链接PC页面风格",-1))])])]),_:1},8,["visible"])}}});const Ve=R(Z,[["__scopeId","data-v-9e35c3ce"]]);export{Ve as default};
