import{Z as ee,$ as ne,a0 as ae,j as be,B as ye,C as ge,m as he,D as we,n as P,E as Oe,w as Ne}from"./index-5ae314bf.js";import{B as W}from"./index-227fbf78.js";import{I as Ie}from"./index-9b4540ef.js";import{c as Pe,a as Ce,l as q,f as E,g as z,b as Se,d as je,e as pe,h as Ve,C as Fe}from"./dep-ef1abd17-ecd005e5.js";import{d as L,b,t as De,r as A,w as G,M as w,N as xe}from"./vue-d500b9b9.js";import{A as Ee}from"./add-ea894c63.js";function H(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),r.push.apply(r,l)}return r}function J(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?H(Object(r),!0).forEach(function(l){ae(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Ke={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M17.5001 15.9142L12.0002 10.4142L6.50015 15.9142L5.08594 14.5L12.0002 7.58582L18.9144 14.5L17.5001 15.9142Z"}}]},Re=L({name:"ChevronUpIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,n){var{attrs:r}=n,l=b(()=>e.size),{className:m,style:g}=ee(l),O=b(()=>["t-icon","t-icon-chevron-up",m.value]),N=b(()=>J(J({},g.value),r.style)),o=b(()=>({class:O.value,style:N.value,onClick:I=>{var y;return(y=e.onClick)===null||y===void 0?void 0:y.call(e,{e:I})}}));return()=>ne(Ke,o.value)}});const ze=Re;function Q(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),r.push.apply(r,l)}return r}function X(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Q(Object(r),!0).forEach(function(l){ae(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Ae={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 11L20 11V13L4 13L4 11Z"}}]},Le=L({name:"RemoveIcon",props:{size:{type:String},onClick:{type:Function}},setup(e,n){var{attrs:r}=n,l=b(()=>e.size),{className:m,style:g}=ee(l),O=b(()=>["t-icon","t-icon-remove",m.value]),N=b(()=>X(X({},g.value),r.style)),o=b(()=>({class:O.value,style:N.value,onClick:I=>{var y;return(y=e.onClick)===null||y===void 0?void 0:y.call(e,{e:I})}}));return()=>ne(Ae,o.value)}});const _e=Le;/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var ke={align:{type:String,validator:function(n){return n?["left","center","right"].includes(n):!0}},allowInputOverLimit:{type:Boolean,default:!0},autoWidth:Boolean,decimalPlaces:{type:[Number,Object],default:void 0},disabled:{type:Boolean,default:void 0},format:{type:Function},inputProps:{type:Object},label:{type:[String,Function]},largeNumber:Boolean,max:{type:[String,Number],default:1/0},min:{type:[String,Number],default:-1/0},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(n){return n?["small","medium","large"].includes(n):!0}},status:{type:String,default:"default",validator:function(n){return n?["default","success","warning","error"].includes(n):!0}},step:{type:[String,Number],default:1},suffix:{type:[String,Function]},theme:{type:String,default:"row",validator:function(n){return n?["column","row","normal"].includes(n):!0}},tips:{type:[String,Function]},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onValidate:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Be(e){var n=be(),r=n.classPrefix,l=n.SIZE,m=n.STATUS,g=De(e),O=g.value,N=g.modelValue,o=g.max,I=g.min,y=ye(O,N,e.defaultValue,e.onChange),p=ge(y,2),s=p[0],f=p[1],S=A(),h=A(""),C=he(),V=we(),_=A(),k=b(function(){return C.value||!Pe(s.value,e.min,e.largeNumber)}),B=b(function(){return C.value||!Ce(s.value,e.max,e.largeNumber)}),re=b(function(){return["".concat(r.value,"-input-number"),l.value[e.size],P(P(P(P({},m.value.disabled,C.value),"".concat(r.value,"-is-controls-right"),e.theme==="column"),"".concat(r.value,"-input-number--").concat(e.theme),e.theme),"".concat(r.value,"-input-number--auto-width"),e.autoWidth)]}),te=b(function(){return["".concat(r.value,"-input-number__decrease"),P({},m.value.disabled,k.value)]}),le=b(function(){return["".concat(r.value,"-input-number__increase"),P({},m.value.disabled,B.value)]}),F=function(u){var a;if(!u&&u!==0)return"";var t=u||u===0?String(u):"";if(!((a=S.value)!==null&&a!==void 0&&(a=a.inputRef)!==null&&a!==void 0&&a.contains(document.activeElement))){var i=E(t,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber,isToFixed:!0});t=i||i===0?String(i):"",e.format&&(t=String(e.format(u,{fixedNumber:t})))}return t};G(s,function(c){var u=e.largeNumber,a=e.decimalPlaces,t=[void 0,null].includes(c)?"":String(c);if(!u&&!Number.isNaN(h.value)){parseFloat(h.value)!==c&&(h.value=F(t));var i=Number(q(t,a,u));a!==void 0&&![void 0,null].includes(c)&&Number(i)!==Number(s.value)&&f(i,{type:"props",e:void 0})}if(u&&(h.value=F(t),a!==void 0&&q(t,a,u)!==c)){var d,v=t;(d=S.value)!==null&&d!==void 0&&(d=d.inputRef)!==null&&d!==void 0&&d.contains(document.activeElement)||(v=E(v,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber,isToFixed:!0})),f(v,{type:"props",e:void 0})}},{immediate:!0}),G([s,o,I],function(){var c;if(![void 0,"",null].includes(s.value)){var u=e.max,a=e.min,t=e.largeNumber,i=z({value:s.value,largeNumber:t,max:u,min:a});_.value=i,(c=e.onValidate)===null||c===void 0||c.call(e,{error:i})}},{immediate:!0});var U=function(u){var a=Ve({op:u,step:e.step,max:e.max,min:e.min,lastValue:s.value,largeNumber:e.largeNumber}),t=e.largeNumber,i=e.max,d=e.min,v=z({value:a,largeNumber:t,max:i,min:d});return{overLimit:v,newValue:a}},T=function(u){if(!(k.value||V.value)){var a=U("reduce");a.overLimit&&!e.allowInputOverLimit||f(a.newValue,{type:"reduce",e:u})}},$=function(u){if(!(B.value||V.value)){var a=U("add");a.overLimit&&!e.allowInputOverLimit||f(a.newValue,{type:"add",e:u})}},ue=function(u,a){var t=a.e,i=Se(u);if(je(i,e.largeNumber)){var d=i;if(e.decimalPlaces!==void 0&&i!==""&&i.includes(".")){var v=i.split("."),D=typeof e.decimalPlaces=="number"?e.decimalPlaces:e.decimalPlaces.places;v[1]&&v[1].length>D&&(d="".concat(v[0],".").concat(v[1].substring(0,D)))}if(h.value=d,e.largeNumber){f(d,{type:"input",e:t});return}var j=d===""?void 0:Number(d);pe(d,Number(s.value))&&f(j,{type:"input",e:t})}},ie=function(u,a){var t,i=e.largeNumber,d=e.max,v=e.min,D=e.decimalPlaces;if(!e.allowInputOverLimit){if([void 0,null].includes(s.value)&&v!==-1/0){var j;f(v,{type:"blur",e:a.e}),(j=e.onBlur)===null||j===void 0||j.call(e,v,a);return}if(s.value!==void 0){var Z=z({value:s.value,largeNumber:i,max:d,min:v});if(Z==="below-minimum"){var K;f(v,{type:"blur",e:a.e}),(K=e.onBlur)===null||K===void 0||K.call(e,v,a);return}if(Z==="exceed-maximum"){var R;f(d,{type:"blur",e:a.e}),(R=e.onBlur)===null||R===void 0||R.call(e,d,a);return}}}var x=E(u,{decimalPlaces:D,largeNumber:i});h.value=F(x),x!==s.value&&f(x,{type:"blur",e:a.e}),(t=e.onBlur)===null||t===void 0||t.call(e,x,a)},oe=function(u,a){var t;h.value=s.value||s.value===0?String(s.value):"",(t=e.onFocus)===null||t===void 0||t.call(e,u,a)},ce=function(u,a){var t;if(!C.value){var i=a.e,d={ArrowUp:$,ArrowDown:T},v=i.code||i.key;d[v]!==void 0&&d[v](i),(t=e.onKeydown)===null||t===void 0||t.call(e,u,a)}},de=function(u,a){var t;(t=e.onKeyup)===null||t===void 0||t.call(e,u,a)},ve=function(u,a){var t;(t=e.onKeypress)===null||t===void 0||t.call(e,u,a)},se=function(u,a){var t;h.value=F(u);var i=E(u,{decimalPlaces:e.decimalPlaces,largeNumber:e.largeNumber});i!==u&&String(i)!==u&&f(i,{type:"enter",e:a.e}),(t=e.onEnter)===null||t===void 0||t.call(e,i,a)},M=function(){C.value||V.value||S.value.focus()},me=function(){S.value.blur()},fe={onBlur:ie,onFocus:oe,onKeydown:ce,onKeyup:de,onKeypress:ve,onEnter:se,onClick:M};return{classPrefix:r,wrapClasses:re,reduceClasses:te,addClasses:le,tDisabled:C,isError:_,listeners:fe,userInput:h,tValue:s,inputRef:S,focus:M,blur:me,handleReduce:T,handleAdd:$,onInnerInputChange:ue,isReadonly:V}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Y(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),r.push.apply(r,l)}return r}function Ue(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Y(Object(r),!0).forEach(function(l){P(e,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(r,l))})}return e}var Te=L({name:"TInputNumber",props:ke,setup:function(n,r){var l=Oe({AddIcon:Ee,RemoveIcon:_e,ChevronDownIcon:Fe,ChevronUpIcon:ze}),m=l.AddIcon,g=l.RemoveIcon,O=l.ChevronDownIcon,N=l.ChevronUpIcon,o=Be(n),I=o.inputRef;return r.expose(Ue({},o)),function(){var y=n.theme==="column"?w(O,{size:n.size},null):w(g,{size:n.size},null),p=n.theme==="column"?w(N,{size:n.size},null):w(m,{size:n.size},null),s=o.isError.value?"error":n.status;return w("div",{class:o.wrapClasses.value},[n.theme!=="normal"&&w(W,{class:o.reduceClasses.value,disabled:o.tDisabled.value,onClick:o.handleReduce,variant:"outline",shape:"square",icon:function(){return y}},null),w(Ie,xe({ref:I,disabled:o.tDisabled.value,readonly:o.isReadonly.value,autocomplete:"off",placeholder:n.placeholder,unselectable:o.isReadonly.value?"on":"off",autoWidth:n.autoWidth,align:n.align||(n.theme==="row"?"center":void 0),status:s,label:n.label,suffix:n.suffix,tips:n.tips},o.listeners,n.inputProps,{value:o.userInput.value,onChange:o.onInnerInputChange}),r.slots),n.theme!=="normal"&&w(W,{class:o.addClasses.value,disabled:o.tDisabled.value,onClick:o.handleAdd,variant:"outline",shape:"square",icon:function(){return p}},null)])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var He=Ne(Te);export{ze as C,He as I};
