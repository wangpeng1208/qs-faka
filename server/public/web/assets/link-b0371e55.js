import{c as z,r as U,a as $,g as B,s as N}from"./link-46e24af1.js";import{g as S,a as R}from"./link-66c88cc4.js";import{c as T,M as m,_ as G}from"./index-1ae915eb.js";import{R as I}from"./index-615192d6.js";import{S as W}from"./index-898a5e08.js";import{L as j}from"./index-dd29d0a0.js";import{T as q}from"./index-5571e347.js";import{D as A}from"./index-6889856c.js";import{d as E,r as n,l as F,V as H,W as l,a0 as a,M as o,_ as r,a3 as b,u as C}from"./vue-d500b9b9.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./omit-a270a1e2.js";import"./dep-0742ae64-c1faefd0.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./dialog-b324d954.js";import"./dep-581cd4f1-74792024.js";import"./index-bfd2121f.js";const J={class:"info-block"},K={class:"info-item"},O={class:"info-item"},Q={class:"info-item"},X={class:"info-item"},Y={name:"CategoryLinkPopup"},Z=E({...Y,setup(ee,{expose:V}){const t=n({id:0,link:"",short_link:"",status:0}),p=n(!1),d=n(!1),v=async s=>{p.value=!0;const{data:e}=await z({id:s});e?(t.value={...e},d.value=!0):m.error("获取链接失败"),p.value=!1},g=async s=>{const e=await U({type:"category",id:t.value.id,status:s});e.code===1&&(m.success(e.msg),v(t.value.id))},w=async s=>{const e=await $({type:"category",id:t.value.id,status:s});e.code===1&&(m.success(e.msg),v(t.value.id))},_=n([]),x=n([]),h=async()=>{const s=await S(),e=await R();_.value=s.data,x.value=e.data},f=n(""),L=n(""),P=async s=>{const{data:e}=await B({id:s,type:"category"});f.value=e.pc_template,L.value=e.mobile_template},D=async s=>{const e=await N({field:"pc_template",value:s,id:t.value.id,type:"category"});e.code===1?m.success(e.msg):m.error(e.msg)};return V({getTemplate:h,featchCategoryLink:v,getUserTemplate:P}),(s,e)=>{const y=I,c=W,k=j,u=q,M=A;return F(),H(M,{visible:d.value,"onUpdate:visible":e[6]||(e[6]=i=>d.value=i),loading:p.value,"destroy-on-close":!0,"close-on-overlay-click":!1,width:"750",header:"分类链接",footer:!1},{default:l(()=>[a("div",J,[a("div",K,[o(c,null,{default:l(()=>[e[7]||(e[7]=a("h1",null,"链接状态",-1)),o(y,{modelValue:t.value.status,"onUpdate:modelValue":e[0]||(e[0]=i=>t.value.status=i),options:[{label:"开启",value:1},{label:"暂停",value:0}],onChange:w},null,8,["modelValue"])]),_:1}),e[8]||(e[8]=a("div",{class:"help"},"选择暂停将仅当前分类链接不可用",-1))]),a("div",O,[o(c,null,{default:l(()=>[e[11]||(e[11]=a("h1",null,"绿标短链",-1)),o(k,{theme:"primary",href:t.value.short_link,target:"_blank"},{default:l(()=>[r(b(t.value.short_link),1)]),_:1},8,["href"]),o(u,{class:"hand-cursor",theme:"primary",variant:"light",size:"small",onClick:e[1]||(e[1]=i=>C(T)(t.value.short_link))},{default:l(()=>[...e[9]||(e[9]=[r(" 复制 ",-1)])]),_:1}),o(u,{class:"hand-cursor",theme:"primary",size:"small",onClick:e[2]||(e[2]=i=>g(0))},{default:l(()=>[...e[10]||(e[10]=[r(" 重置短链 ",-1)])]),_:1})]),_:1}),e[12]||(e[12]=a("div",{class:"help"},"绿标短链接打开就是分类长链接，强烈建议使用绿标短链接作为访问链接；如果在朋友圈等地方打广告请发【绿标短链】这个链接，这样可以让您的朋友直接进入您的店铺",-1))]),a("div",Q,[o(c,null,{default:l(()=>[e[15]||(e[15]=a("h1",null,"分类链接",-1)),o(k,{theme:"primary",href:t.value.link,target:"_blank"},{default:l(()=>[r(b(t.value.link),1)]),_:1},8,["href"]),o(u,{class:"hand-cursor",theme:"primary",variant:"light",size:"small",onClick:e[3]||(e[3]=i=>C(T)(t.value.link))},{default:l(()=>[...e[13]||(e[13]=[r(" 复制 ",-1)])]),_:1}),o(u,{class:"hand-cursor",theme:"primary",size:"small",onClick:e[4]||(e[4]=i=>g(1))},{default:l(()=>[...e[14]||(e[14]=[r(" 重置分接 ",-1)])]),_:1})]),_:1}),e[16]||(e[16]=a("div",{class:"help"},"重置分类链接后，当前分类的原短链长连接都会失效；严禁使用此链接发广告",-1))]),a("div",X,[e[17]||(e[17]=a("h1",null,"电脑端风格",-1)),o(y,{modelValue:f.value,"onUpdate:modelValue":e[5]||(e[5]=i=>f.value=i),options:_.value,onChange:D},null,8,["modelValue","options"]),e[18]||(e[18]=a("div",{class:"help"},"当前分类链接PC页面风格",-1))])])]),_:1},8,["visible","loading"])}}});const Ce=G(Z,[["__scopeId","data-v-aaf13177"]]);export{Ce as default};
