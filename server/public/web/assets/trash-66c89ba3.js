import{l as $}from"./category-baa68958.js";import{t as w}from"./good-95e904d5.js";import{R as G}from"./index-add4fbe3.js";import{t as U}from"./table-2bc65021.js";import{u as E}from"./useBatchAction-1c377cbb.js";import{f as C}from"./date-97dddb73.js";import F from"./rollback-3282f838.js";import M from"./search-fd3d3752.js";import{B as W}from"./index-3b3d7414.js";import{S as j}from"./index-31ca20e2.js";import{I as q}from"./index-15716071.js";import{S as H}from"./index-b206f515.js";import{T as J}from"./index-f001b1b6.js";import{L as O}from"./index-e2e71093.js";import{T as Q}from"./index-b0e918ce.js";import{C as X}from"./index-0945ca82.js";import{d as Y,r as x,A as Z,l as s,V as p,W as e,a0 as d,M as a,u as i,_ as l,m as tt,a3 as _,a4 as c}from"./vue-51c2f431.js";import{_ as et}from"./index-ebc513dd.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./plugin-41574ab4.js";import"./dialog-2582254b.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-7aa320e3.js";import"./omit-7a5ea809.js";import"./libs-1cd01688.js";import"./index-9b6972b9.js";import"./render-fn-f48267a7.js";import"./dep-0742ae64-e2730b23.js";import"./fake-arrow-cad1ce15.js";import"./index-e2b6bb2b.js";import"./index-7eef5ecd.js";import"./_baseSet-75352e55.js";import"./close-circle-filled-9eb22673.js";import"./index-d5e568e3.js";import"./dep-34b004f3-3e1a5725.js";import"./index-9aa638bc.js";import"./useLengthLimit-207427cf.js";import"./browse-ff8f6fe8.js";import"./index-78761eb8.js";import"./_baseDifference-5ee4bc76.js";import"./index-b3f3b742.js";import"./index-8fdc26dc.js";import"./dep-ef1abd17-ab5403a7.js";import"./add-06b22f1a.js";import"./index-cda4d585.js";import"./chevron-right-0650800f.js";import"./ellipsis-f8b55775.js";import"./index-b07945fd.js";import"./isNil-c75b1b34.js";import"./form-model-7023f79a.js";import"./dep-b10d5f92-ed24a547.js";import"./plugins-ccea0c8f.js";import"./others-24e1b5c5.js";import"./echarts-a13411ed.js";const ot={class:"category-header c-flex"},at={class:"l"},it={key:0,class:"selected-count"},lt={class:"r c-flex"},rt={name:"GoodsTrash"},nt=Y({...rt,setup(st){const g=x([]),r=x([]),m=Z({cate_id:null,name:""}),{pagination:V,fetchData:h,dataLoading:S,headerAffixedTop:T,rehandlePageChange:K,lists:y,searchData:B}=U({fetchFun:w,params:m}),z=[{colKey:"id",type:"multiple"},{colKey:"name",title:"商品名称",ellipsis:!0,cell:"name"},{colKey:"cate_name",title:"商品分类"},{colKey:"price",title:"价格"},{colKey:"create_at",title:"创建时间"},{colKey:"delete_at",title:"删除时间"},{colKey:"operation",title:"操作",cell:"operation",fixed:"right"}],L=async()=>{const{data:n}=await $();g.value=n.list};h(),L();const I=n=>{r.value=n},v=(n=0)=>{n&&(r.value=[n]),E({title:"提醒",body:"确定要恢复所选数据吗？",ids:r.value,url:"/merchantapi/goods/good/recover",fetchList:()=>{h(),r.value=[]}})};return(n,t)=>{const b=W,N=j,A=q,f=H,u=J,D=O,P=Q,R=X;return s(),p(R,{title:"商品回收站",class:"basic-container",bordered:!1},{default:e(()=>{var k;return[d("div",ot,[d("div",at,[a(b,{variant:"base",disabled:!r.value.length,onClick:t[0]||(t[0]=o=>v())},{icon:e(()=>[a(i(F))]),default:e(()=>[t[3]||(t[3]=l(" 批量恢复 ",-1))]),_:1},8,["disabled"]),r.value.length?(s(),tt("p",it,"已选"+_(r.value.length)+"项",1)):c("",!0)]),d("div",lt,[a(f,null,{default:e(()=>[a(N,{modelValue:m.cate_id,"onUpdate:modelValue":t[1]||(t[1]=o=>m.cate_id=o),placeholder:"全部分类",type:"search",clearable:"",options:g.value},null,8,["modelValue","options"]),a(A,{modelValue:m.name,"onUpdate:modelValue":t[2]||(t[2]=o=>m.name=o),placeholder:"请输入商品名",clearable:""},{"suffix-icon":e(()=>[a(i(M))]),_:1},8,["modelValue"]),a(b,{theme:"primary",onClick:i(B)},{default:e(()=>[...t[4]||(t[4]=[l("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),a(P,{data:i(y),columns:z,"row-key":"id","vertical-align":"top",hover:((k=i(y))==null?void 0:k.length)>0,"table-layout":"auto",pagination:i(V),loading:i(S),"header-affixed-top":i(T),"max-height":"100%",onPageChange:i(K),onSelectChange:I},{name:e(({row:o})=>[l(_(o.name)+" ",1),a(f,{size:"small",align:"center",class:"tag-demo light"},{default:e(()=>[o.wholesale_discount===1?(s(),p(u,{key:0,title:"支持批发优惠",theme:"success",variant:"light",size:"small"},{default:e(()=>[...t[5]||(t[5]=[l("惠",-1)])]),_:1})):c("",!0),o.coupon_type===1?(s(),p(u,{key:1,title:"支持优惠券",theme:"primary",variant:"light",size:"small"},{default:e(()=>[...t[6]||(t[6]=[l("券",-1)])]),_:1})):c("",!0),o.take_card_type!==0?(s(),p(u,{key:2,title:"提卡必填或选填取卡密码",theme:"warning",variant:"light",size:"small"},{default:e(()=>[...t[7]||(t[7]=[l("取",-1)])]),_:1})):c("",!0),o.visit_type===1?(s(),p(u,{key:3,title:"商品购买页面需要访问密码",theme:"danger",variant:"light",size:"small"},{default:e(()=>[...t[8]||(t[8]=[l("密",-1)])]),_:1})):c("",!0)]),_:2},1024)]),create_at:e(({row:o})=>[d("span",null,_(i(C)(o.create_at)),1)]),delete_at:e(({row:o})=>[d("span",null,_(i(C)(o.delete_at)),1)]),operation:e(({row:o})=>[a(f,null,{default:e(()=>[a(D,{theme:"primary",hover:"color",onClick:mt=>v(o.id)},{default:e(()=>[...t[9]||(t[9]=[l("恢复",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),empty:e(()=>[a(G,{title:"",tip:"商品回收站为空",type:"list"})]),_:1},8,["data","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});const de=et(nt,[["__scopeId","data-v-78b4bc0a"]]);export{de as default};
