import{l as $}from"./category-1e60480f.js";import{t as w}from"./good-2a884832.js";import{R as G}from"./index-5c5ca650.js";import{t as U}from"./table-01005e9b.js";import{u as E}from"./useBatchAction-9a1c38d8.js";import{f as C}from"./date-35f9fa82.js";import F from"./rollback-c8d70e5d.js";import M from"./search-a8b831db.js";import{B as W}from"./index-227fbf78.js";import{S as j}from"./index-c8633d5c.js";import{I as q}from"./index-9b4540ef.js";import{S as H}from"./index-7d217f2a.js";import{T as J}from"./index-2468d71f.js";import{L as O}from"./index-5a96e289.js";import{T as Q}from"./index-552daebe.js";import{C as X}from"./index-7e8487d2.js";import{d as Y,r as x,A as Z,l as s,V as p,W as e,a0 as d,M as a,u as l,_ as i,m as tt,a3 as _,a4 as c}from"./vue-d500b9b9.js";import{_ as et}from"./index-5ae314bf.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./base-93829b7b.js";import"./plugin-e4c34710.js";import"./dialog-256f8652.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-d83a7af3.js";import"./omit-e39915a9.js";import"./libs-035f127b.js";import"./index-2132cfb3.js";import"./dep-0742ae64-334d1564.js";import"./fake-arrow-468f6194.js";import"./index-5a6339b2.js";import"./_baseSet-6774bbcb.js";import"./close-circle-filled-8b5b4fa1.js";import"./index-63b59032.js";import"./dep-34b004f3-3e1a5725.js";import"./index-9034b695.js";import"./useLengthLimit-bf57acc2.js";import"./browse-50d5b530.js";import"./index-e5d2d240.js";import"./index-6f44b012.js";import"./index-4e516f6a.js";import"./dep-ef1abd17-ecd005e5.js";import"./add-ea894c63.js";import"./index-9691defa.js";import"./chevron-right-78d2a65d.js";import"./ellipsis-f81da9a5.js";import"./index-a9524ed3.js";import"./isNil-c75b1b34.js";import"./form-model-962c4be8.js";import"./dep-b10d5f92-053b17fa.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";const ot={class:"category-header c-flex"},at={class:"l"},lt={key:0,class:"selected-count"},it={class:"r c-flex"},rt={name:"GoodsTrash"},nt=Y({...rt,setup(st){const g=x([]),r=x([]),m=Z({cate_id:null,name:""}),{pagination:V,fetchData:h,dataLoading:S,headerAffixedTop:T,rehandlePageChange:K,lists:y,searchData:B}=U({fetchFun:w,params:m}),z=[{colKey:"id",type:"multiple"},{colKey:"name",title:"商品名称",ellipsis:!0,cell:"name"},{colKey:"cate_name",title:"商品分类"},{colKey:"price",title:"价格"},{colKey:"create_at",title:"创建时间"},{colKey:"delete_at",title:"删除时间"},{colKey:"operation",title:"操作",cell:"operation",fixed:"right"}],L=async()=>{const{data:n}=await $();g.value=n.list};h(),L();const I=n=>{r.value=n},v=(n=0)=>{n&&(r.value=[n]),E({title:"提醒",body:"确定要恢复所选数据吗？",ids:r.value,url:"/merchantapi/goods/good/recover",fetchList:()=>{h(),r.value=[]}})};return(n,t)=>{const b=W,N=j,A=q,f=H,u=J,D=O,P=Q,R=X;return s(),p(R,{title:"商品回收站",class:"basic-container",bordered:!1},{default:e(()=>{var k;return[d("div",ot,[d("div",at,[a(b,{variant:"base",disabled:!r.value.length,onClick:t[0]||(t[0]=o=>v())},{icon:e(()=>[a(l(F))]),default:e(()=>[t[3]||(t[3]=i(" 批量恢复 ",-1))]),_:1},8,["disabled"]),r.value.length?(s(),tt("p",lt,"已选"+_(r.value.length)+"项",1)):c("",!0)]),d("div",it,[a(f,null,{default:e(()=>[a(N,{modelValue:m.cate_id,"onUpdate:modelValue":t[1]||(t[1]=o=>m.cate_id=o),placeholder:"全部分类",type:"search",clearable:"",options:g.value},null,8,["modelValue","options"]),a(A,{modelValue:m.name,"onUpdate:modelValue":t[2]||(t[2]=o=>m.name=o),placeholder:"请输入商品名",clearable:""},{"suffix-icon":e(()=>[a(l(M))]),_:1},8,["modelValue"]),a(b,{theme:"primary",onClick:l(B)},{default:e(()=>[...t[4]||(t[4]=[i("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),a(P,{data:l(y),columns:z,"row-key":"id","vertical-align":"top",hover:((k=l(y))==null?void 0:k.length)>0,"table-layout":"auto",pagination:l(V),loading:l(S),"header-affixed-top":l(T),"max-height":"100%",onPageChange:l(K),onSelectChange:I},{name:e(({row:o})=>[i(_(o.name)+" ",1),a(f,{size:"small",align:"center",class:"tag-demo light"},{default:e(()=>[o.wholesale_discount===1?(s(),p(u,{key:0,title:"支持批发优惠",theme:"success",variant:"light",size:"small"},{default:e(()=>[...t[5]||(t[5]=[i("惠",-1)])]),_:1})):c("",!0),o.coupon_type===1?(s(),p(u,{key:1,title:"支持优惠券",theme:"primary",variant:"light",size:"small"},{default:e(()=>[...t[6]||(t[6]=[i("券",-1)])]),_:1})):c("",!0),o.take_card_type!==0?(s(),p(u,{key:2,title:"提卡必填或选填取卡密码",theme:"warning",variant:"light",size:"small"},{default:e(()=>[...t[7]||(t[7]=[i("取",-1)])]),_:1})):c("",!0),o.visit_type===1?(s(),p(u,{key:3,title:"商品购买页面需要访问密码",theme:"danger",variant:"light",size:"small"},{default:e(()=>[...t[8]||(t[8]=[i("密",-1)])]),_:1})):c("",!0)]),_:2},1024)]),create_at:e(({row:o})=>[d("span",null,_(l(C)(o.create_at)),1)]),delete_at:e(({row:o})=>[d("span",null,_(l(C)(o.delete_at)),1)]),operation:e(({row:o})=>[a(f,null,{default:e(()=>[a(D,{theme:"primary",hover:"color",onClick:mt=>v(o.id)},{default:e(()=>[...t[9]||(t[9]=[i("恢复",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),empty:e(()=>[a(G,{title:"",tip:"商品回收站为空",type:"list"})]),_:1},8,["data","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});const me=et(nt,[["__scopeId","data-v-78b4bc0a"]]);export{me as default};
