import{d as A,a2 as G,A as I,r as v,o as P,l as C,V as M,W as o,M as e,u as s,_ as l,a0 as u,m as U,a3 as $,a4 as z}from"./vue-51c2f431.js";import{l as E}from"./category-baa68958.js";import{b as F}from"./coupon-c6da87c9.js";import{R as K}from"./index-add4fbe3.js";import{t as W}from"./table-2bc65021.js";import{u as y}from"./useBatchAction-1c377cbb.js";import{s as j,t as q}from"./constant-322a956b.js";import{I as H}from"./index-69f74367.js";import{B as J}from"./index-3b3d7414.js";import{S as O}from"./index-31ca20e2.js";import{S as Q}from"./index-b206f515.js";import{T as X}from"./index-b0e918ce.js";import{C as Y}from"./index-0945ca82.js";import{_ as Z}from"./index-ebc513dd.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./plugin-41574ab4.js";import"./dialog-2582254b.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-7aa320e3.js";import"./omit-7a5ea809.js";import"./date-97dddb73.js";import"./libs-1cd01688.js";import"./dep-0742ae64-e2730b23.js";import"./fake-arrow-cad1ce15.js";import"./index-e2b6bb2b.js";import"./index-7eef5ecd.js";import"./index-15716071.js";import"./index-9aa638bc.js";import"./useLengthLimit-207427cf.js";import"./browse-ff8f6fe8.js";import"./close-circle-filled-9eb22673.js";import"./_baseSet-75352e55.js";import"./index-f001b1b6.js";import"./dep-34b004f3-3e1a5725.js";import"./index-d5e568e3.js";import"./index-78761eb8.js";import"./_baseDifference-5ee4bc76.js";import"./index-b3f3b742.js";import"./index-8fdc26dc.js";import"./dep-ef1abd17-ab5403a7.js";import"./add-06b22f1a.js";import"./index-cda4d585.js";import"./chevron-right-0650800f.js";import"./ellipsis-f8b55775.js";import"./index-b07945fd.js";import"./isNil-c75b1b34.js";import"./form-model-7023f79a.js";import"./dep-b10d5f92-ed24a547.js";import"./plugins-ccea0c8f.js";import"./others-24e1b5c5.js";import"./echarts-a13411ed.js";const tt={class:"category-header c-flex"},ot={class:"l"},et={key:0,class:"selected-count"},at={class:"r c-flex"},st={name:"GoodsCouponTrash"},rt=A({...st,setup(it){const{pagination:b,fetchData:m,dataLoading:k,headerAffixedTop:x,rehandlePageChange:V,lists:f,searchData:S}=W({fetchFun:F}),T=G(),p=I({cate_id:"",status:""}),_=v([]),B=async()=>{const{data:a}=await E();_.value=a.list};P(()=>{m(),B()});const r=v([]),d=a=>{r.value=a},h=a=>{a>0&&d(a),y({title:"提醒",body:"确定要恢复吗？",ids:r.value,url:"/merchantapi/goods/coupon/restore",fetchList:()=>{m(),r.value=[]}})},L=a=>{a>0&&d(a),y({title:"提醒",body:"确定要清空吗？清空后将无法恢复",ids:r.value,url:"/merchantapi/goods/coupon/clear",fetchList:()=>{m(),r.value=[]}})};return(a,t)=>{const w=H,i=J,g=O,D=Q,N=X,R=Y;return C(),M(R,{title:"优惠券回收站",class:"basic-container",bordered:!1},{actions:o(()=>[e(i,{variant:"text",theme:"default",onClick:t[0]||(t[0]=c=>s(T).push("/merchant/goods/coupon"))},{icon:o(()=>[e(w,{name:"rollback"})]),default:o(()=>[t[3]||(t[3]=l(" 返回 ",-1))]),_:1})]),default:o(()=>{var c;return[u("div",tt,[u("div",ot,[e(i,{variant:"base",disabled:!r.value.length,onClick:h},{default:o(()=>[...t[4]||(t[4]=[l(" 批量恢复 ",-1)])]),_:1},8,["disabled"]),e(i,{variant:"base",theme:"danger",onClick:L},{default:o(()=>[...t[5]||(t[5]=[l(" 清空回收站 ",-1)])]),_:1}),r.value.length?(C(),U("p",et,"已选"+$(r.value.length)+"项",1)):z("",!0)]),u("div",at,[e(D,null,{default:o(()=>[e(g,{modelValue:p.cate_id,"onUpdate:modelValue":t[1]||(t[1]=n=>p.cate_id=n),placeholder:"全部分类",type:"search",clearable:"",options:_.value},null,8,["modelValue","options"]),e(g,{modelValue:p.status,"onUpdate:modelValue":t[2]||(t[2]=n=>p.status=n),placeholder:"全部状态",type:"search",clearable:"",options:s(j)},null,8,["modelValue","options"]),e(i,{theme:"primary",onClick:s(S)},{default:o(()=>[...t[6]||(t[6]=[l("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),e(N,{data:s(f),columns:s(q),"row-key":"id","vertical-align":"top",hover:((c=s(f))==null?void 0:c.length)>0,pagination:s(b),loading:s(k),"header-affixed-top":s(x),"table-layout":"auto","max-height":"100%",onPageChange:s(V),onSelectChange:d},{operation:o(({row:n})=>[e(i,{size:"small",variant:"outline",shape:"round",theme:"success",onClick:nt=>h([n.id])},{default:o(()=>[...t[7]||(t[7]=[l("恢复",-1)])]),_:1},8,["onClick"])]),empty:o(()=>[e(K,{title:"",tip:"优惠券回收站为空",type:"list"})]),_:1},8,["data","columns","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});const io=Z(rt,[["__scopeId","data-v-d01c59de"]]);export{io as default};
