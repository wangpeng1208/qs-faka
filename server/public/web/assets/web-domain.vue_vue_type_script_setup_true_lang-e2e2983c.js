import{g as h,e as y}from"./config-6e561f4d.js";import{M as l}from"./index-ebc513dd.js";import{I as k}from"./index-15716071.js";import{F as V,a as C}from"./index-3f5d4a71.js";import{T as w}from"./index-de8c6515.js";import{B as x}from"./index-3b3d7414.js";import{S as R}from"./index-b206f515.js";import{C as v}from"./index-0945ca82.js";import{d as S,A as j,r as B,l as F,V as M,W as s,M as t,_ as m}from"./vue-51c2f431.js";const U={name:"WebDomain"},L=S({...U,setup(I){const o=j({site_domain:"",site_shop_domain:"",site_shortlink_other_option:""});(async()=>{const n=await h({field:Object.keys(o)});if(n.code===1){for(const e in n.data){let a=n.data[e];if(e==="site_shortlink_other_option"&&a&&typeof a=="object")try{a=JSON.stringify(a,null,2)}catch{a=String(a)}o[e]=a}return}l.error(n.msg)})();const p={site_domain:[{required:!0,message:"请输入主站域名"}]},d=B(),f=async()=>{const n=await d.value.validate();if(typeof n!="object"&&n){const e=await y({data:o});e.code===1?l.success(e.msg):l.error(e.msg)}};return(n,e)=>{const a=k,i=V,u=w,_=x,c=R,b=C,g=v;return F(),M(g,{style:{"padding-top":"20px"},class:"basic-container",bordered:!1},{default:s(()=>[t(b,{ref_key:"formRef",ref:d,"label-align":"left",data:o,rules:p,"label-width":150},{default:s(()=>[t(i,{label:"网站域名",name:"site_domain",tips:"用于资源链接和支付回调的地址生成补全"},{default:s(()=>[t(a,{modelValue:o.site_domain,"onUpdate:modelValue":e[0]||(e[0]=r=>o.site_domain=r),clearable:"",placeholder:"请输入网站域名"},null,8,["modelValue"])]),_:1}),t(i,{label:"链接域名",name:"site_shop_domain",tips:"短链接将会通过此处填写的域名生成对应的短链接。"},{default:s(()=>[t(a,{modelValue:o.site_shop_domain,"onUpdate:modelValue":e[1]||(e[1]=r=>o.site_shop_domain=r),clearable:"",placeholder:"请输入链接域名"},null,8,["modelValue"])]),_:1}),t(i,{label:"万能短网址配置",name:"site_shortlink_other_option"},{tips:s(()=>[...e[3]||(e[3]=[m(' (Json格式)。留空则表示不启用。测试用例：{ "api": "http://api.3wt.cn/api.htm", "from": "url", "method": "get", "params": { "format": "json", "key": "6209ae6d41fb7cd01413eb4d45@ebe9e520aa886c17517c5aad213d730e", "domain": "21" } }',-1)])]),default:s(()=>[t(u,{modelValue:o.site_shortlink_other_option,"onUpdate:modelValue":e[2]||(e[2]=r=>o.site_shortlink_other_option=r),clearable:"",placeholder:"请输入短网址配置",autosize:{minRows:5,maxRows:10}},null,8,["modelValue"])]),_:1}),t(i,null,{default:s(()=>[t(c,{size:"small"},{default:s(()=>[t(_,{theme:"primary",onClick:f},{default:s(()=>[...e[4]||(e[4]=[m("提交",-1)])]),_:1}),t(_,{theme:"default",variant:"base",type:"reset"},{default:s(()=>[...e[5]||(e[5]=[m("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1})}}});export{L as _};
