import{d as A,a2 as D,A as R,l as s,V as i,W as e,a0 as d,M as l,u as o,_ as r,a3 as m,a4 as u,m as x}from"./vue-d500b9b9.js";import{l as $}from"./order-fd431a2e.js";import{R as q}from"./index-5c5ca650.js";import{t as E}from"./table-01005e9b.js";import{c as C}from"./index-5ae314bf.js";import{f as M}from"./date-35f9fa82.js";import{S as F}from"./index-c8633d5c.js";import{I as W}from"./index-3d8f650a.js";import{I as Y}from"./index-9b4540ef.js";import{B as j}from"./index-227fbf78.js";import{S as G}from"./index-7d217f2a.js";import{L as H}from"./index-5a96e289.js";import{T as J}from"./index-e5d2d240.js";import{T as Q}from"./index-2468d71f.js";import{B as X}from"./index-552daebe.js";import{C as Z}from"./index-7e8487d2.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-0742ae64-334d1564.js";import"./fake-arrow-468f6194.js";import"./index-5a6339b2.js";import"./_baseSet-6774bbcb.js";import"./omit-e39915a9.js";import"./close-circle-filled-8b5b4fa1.js";import"./index-63b59032.js";import"./dep-34b004f3-3e1a5725.js";import"./index-9034b695.js";import"./useLengthLimit-bf57acc2.js";import"./browse-50d5b530.js";import"./dep-581cd4f1-d83a7af3.js";import"./index-6f44b012.js";import"./index-4e516f6a.js";import"./dep-ef1abd17-ecd005e5.js";import"./add-ea894c63.js";import"./index-9691defa.js";import"./chevron-right-78d2a65d.js";import"./ellipsis-f81da9a5.js";import"./plugin-e4c34710.js";import"./dialog-256f8652.js";import"./index-a9524ed3.js";import"./isNil-c75b1b34.js";import"./form-model-962c4be8.js";import"./dep-b10d5f92-053b17fa.js";const w=[{colKey:"trade_no",title:"订单"},{colKey:"goods_name",title:"商品名称"},{colKey:"total_product_price",title:"价格"},{colKey:"contact",title:"联系方式"},{colKey:"status",title:"状态"},{colKey:"take_status_text",title:"取卡状态"},{colKey:"take_card_password",title:"取卡密码",width:"100px"},{colKey:"create_at",title:"交易时间"},{colKey:"operation",title:"操作",fixed:"right"}],tt=[{label:"联系方式搜索",value:"contact"},{label:"订单编号搜索",value:"trade_no"},{label:"商品名称搜索",value:"goods_name"}],et=[{label:"待支付",value:0},{label:"已支付",value:1},{label:"已取消",value:2},{label:"已退款",value:3}],at={class:"category-header c-flex"},ot={class:"l"},lt={key:0},rt={key:0},st={name:"OrderOrderList"},ae=A({...st,setup(it){const b=D(),n=R({status:"",keywords:"",type:""}),{pagination:V,fetchData:c,dataLoading:T,headerAffixedTop:K,rehandlePageChange:B,lists:k,searchData:S}=E({fetchFun:$,params:n}),z=y=>{b.push({name:"merchantOrderOrderCard",query:{id:y}})};return S(),(y,a)=>{const g=F,L=W,N=Y,O=j,_=G,f=H,P=J,p=Q,U=X,I=Z;return s(),i(I,{title:"订单管理",class:"basic-container",bordered:!1},{default:e(()=>{var v;return[d("div",at,[d("div",ot,[l(_,null,{default:e(()=>[l(g,{modelValue:n.status,"onUpdate:modelValue":a[0]||(a[0]=t=>n.status=t),clear:o(c),placeholder:"全部状态",clearable:"",options:o(et)},null,8,["modelValue","clear","options"]),l(g,{modelValue:n.type,"onUpdate:modelValue":a[1]||(a[1]=t=>n.type=t),clear:o(c),placeholder:"搜索类型",clearable:"",options:o(tt)},null,8,["modelValue","clear","options"]),l(N,{modelValue:n.keywords,"onUpdate:modelValue":a[2]||(a[2]=t=>n.keywords=t),placeholder:"请输入关键词",clearable:""},{"suffix-icon":e(()=>[l(L,{name:"search"})]),_:1},8,["modelValue"]),l(O,{theme:"primary",onClick:o(c)},{default:e(()=>[...a[3]||(a[3]=[r("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),l(U,{size:"small",data:o(k),columns:o(w),"row-key":"id","vertical-align":"middle",hover:((v=o(k))==null?void 0:v.length)>0,pagination:o(V),loading:o(T),"header-affixed-top":o(K),"max-height":"100%",onPageChange:o(B)},{trade_no:e(({row:t})=>[l(_,{size:"small",direction:"vertical"},{default:e(()=>[l(P,{placement:"top",content:"点击复制"},{default:e(()=>[l(f,{theme:"primary",onClick:h=>o(C)(t.trade_no)},{default:e(()=>[r(m(t.trade_no),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),take_card_password:e(({row:t})=>[t.take_card_password?(s(),i(p,{key:0,shape:"square",tip:"点击复制",onClick:h=>o(C)(t.take_card_password)},{default:e(()=>[r(m(t.take_card_password),1)]),_:2},1032,["onClick"])):u("",!0)]),status:e(({row:t})=>[d("span",null,[t.status===0?(s(),i(p,{key:0,variant:"light-outline",theme:"danger"},{default:e(()=>[...a[4]||(a[4]=[r("未付款",-1)])]),_:1})):t.status===1?(s(),i(p,{key:1,variant:"light-outline",theme:"success"},{default:e(()=>[...a[5]||(a[5]=[r(" 已付款",-1)])]),_:1})):t.status===2?(s(),i(p,{key:2,variant:"light-outline",theme:"danger"},{default:e(()=>[...a[6]||(a[6]=[r("已关闭",-1)])]),_:1})):t.status===3?(s(),i(p,{key:3,variant:"light-outline",theme:"danger"},{default:e(()=>[...a[7]||(a[7]=[r(" 已退款",-1)])]),_:1})):u("",!0)])]),take_status_text:e(({row:t})=>[t.take_status_text=="未取"?(s(),i(p,{key:0,variant:"outline",theme:"danger"},{default:e(()=>[r(m(t.take_status_text),1)]),_:2},1024)):t.take_status_text=="已取"?(s(),i(p,{key:1,variant:"outline",theme:"success"},{default:e(()=>[r(m(t.take_status_text),1)]),_:2},1024)):u("",!0)]),total_product_price:e(({row:t})=>[l(_,{size:"small",direction:"vertical"},{default:e(()=>[d("span",null," 总价："+m(t.total_product_price),1),d("span",null," 实付："+m(t.total_price),1)]),_:2},1024)]),create_at:e(({row:t})=>[r(m(o(M)(t.create_at)),1)]),operation:e(({row:t})=>[t.status==1?(s(),x("span",lt,[l(f,{hover:"color",size:"small",variant:"outline",theme:"primary",onClick:h=>z(t.id)},{default:e(()=>[...a[8]||(a[8]=[r("查看卡密",-1)])]),_:1},8,["onClick"]),t.cards_count==0?(s(),x("span",rt,[l(f,{hover:"color",size:"small",variant:"outline",theme:"success"},{default:e(()=>[...a[9]||(a[9]=[r("导出",-1)])]),_:1})])):u("",!0)])):u("",!0)]),empty:e(()=>[l(q,{title:"",tip:"订单列表为空",type:"list"})]),_:1},8,["data","columns","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});export{ae as default};
