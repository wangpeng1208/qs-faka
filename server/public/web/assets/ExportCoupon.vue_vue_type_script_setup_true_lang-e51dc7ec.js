import{l as C}from"./category-0a39d79d.js";import{d as U}from"./coupon-b28c39d7.js";import{M as F,bO as k}from"./index-6b6fbd51.js";import{S as w}from"./index-18bbad02.js";import{F as G,a as I}from"./index-0fff1870.js";import{a as M,R as N}from"./index-ae3a9dfb.js";import{I as R}from"./index-757197b9.js";import{D as S}from"./index-f937956d.js";import{d as T,A as B,r,l as f,V as _,W as t,M as o,_ as m,a4 as D}from"./vue-d500b9b9.js";const E={name:"ExportCoupon"},Q=T({...E,setup(A,{expose:v}){const l=B({cate_id:0,status:"1",range:"0",file_type:2,number:""}),V=r(!0),u=r(!1),b=async()=>{const n={...l},e=await U(n);e.code===1&&(F.success(e.msg),u.value=!1,k(e.data.url))},p=r([]);return(async()=>{const{data:n}=await C();n.list.unshift({value:0,label:"全部分类"}),p.value=n.list})(),v({init:()=>{u.value=!0}}),(n,e)=>{const c=w,s=G,d=M,i=N,g=R,y=I,x=S;return f(),_(x,{visible:u.value,"onUpdate:visible":e[5]||(e[5]=a=>u.value=a),loading:V.value,"destroy-on-close":!0,"close-on-overlay-click":!0,header:"导出优惠券","on-confirm":b},{default:t(()=>[o(y,{"label-align":"left"},{default:t(()=>[o(s,{label:"商品分类",name:"cate_id"},{default:t(()=>[o(c,{modelValue:l.cate_id,"onUpdate:modelValue":e[0]||(e[0]=a=>l.cate_id=a),placeholder:"请选择分类",help:"不选择时则表示全部分类",options:p.value},null,8,["modelValue","options"])]),_:1}),o(s,{label:"使用状态",name:"status"},{default:t(()=>[o(i,{modelValue:l.status,"onUpdate:modelValue":e[1]||(e[1]=a=>l.status=a)},{default:t(()=>[o(d,{value:"1"},{default:t(()=>[...e[6]||(e[6]=[m("暂未使用",-1)])]),_:1}),o(d,{value:"2"},{default:t(()=>[...e[7]||(e[7]=[m("已经使用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"导出范围",name:"range"},{default:t(()=>[o(i,{modelValue:l.range,"onUpdate:modelValue":e[2]||(e[2]=a=>l.range=a)},{default:t(()=>[o(d,{value:"0"},{default:t(()=>[...e[8]||(e[8]=[m("全部库存",-1)])]),_:1}),o(d,{value:"1"},{default:t(()=>[...e[9]||(e[9]=[m("导出数量",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l.range=="1"?(f(),_(s,{key:0,label:"导出数量",name:"number"},{default:t(()=>[o(g,{modelValue:l.number,"onUpdate:modelValue":e[3]||(e[3]=a=>l.number=a)},null,8,["modelValue"])]),_:1})):D("",!0),o(s,{label:"导出格式",name:"file_type"},{default:t(()=>[o(i,{modelValue:l.file_type,"onUpdate:modelValue":e[4]||(e[4]=a=>l.file_type=a),options:[{label:"Excel格式",value:2},{label:"TXT格式",value:1}]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["visible","loading"])}}});export{Q as _};
