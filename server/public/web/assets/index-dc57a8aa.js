import{b as wt}from"./base-5914bb6e.js";import{c as It,a as Rt,b as kt}from"./shop-ed1e6a9f.js";import{a as Ct,M as _,L as Dt,_ as Nt}from"./index-1ae915eb.js";import St from"./Header-68ea0bdd.js";import Ut from"./OrderDialog-891a03b3.js";import{l as a,m as c,a0 as o,d as Mt,b as $,r as d,t as Qt,A,w as T,M as l,W as u,u as H,G as C,a5 as D,a4 as g,V,a3 as r,_ as B,n as Vt,X as j}from"./vue-d500b9b9.js";import{D as Et}from"./index-e6da58d2.js";import{R as Lt,C as Ft}from"./index-c20d3ea7.js";import{I as Bt}from"./index-3f8df98e.js";import{F as Gt,a as Zt}from"./index-4d676a86.js";import{C as zt}from"./index-5571e347.js";import{S as xt}from"./index-1c1227ed.js";import{C as Yt}from"./index-37731a62.js";import{I as Tt}from"./index-012f82c2.js";import{B as Ht}from"./index-bfd2121f.js";import{S as jt}from"./index-898a5e08.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./index-8eea92d9.js";import"./index-9dfd3379.js";import"./index-817224be.js";import"./index-ca6ec6df.js";import"./omit-a270a1e2.js";import"./chevron-right-c3c09f0e.js";import"./add-4cdc8168.js";import"./fake-arrow-6b326c36.js";import"./mobile-aade27ce.js";import"./index-2132cfb3.js";import"./logo-qq-063f4c3a.js";import"./logo-wechat-stroke-af4a4fce.js";import"./search-a8b831db.js";import"./shield-error-a44b34f4.js";import"./index-c2baa02d.js";import"./date-35f9fa82.js";import"./index-dd29d0a0.js";import"./index-ea41187d.js";import"./dep-34b004f3-3e1a5725.js";import"./index-044da480.js";import"./index-6889856c.js";import"./dialog-b324d954.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-74792024.js";import"./creditcard-fdd74915.js";import"./order-ascending-4879d46c.js";import"./order-descending-875262d7.js";import"./index-0100952e.js";import"./useLengthLimit-f75e20cf.js";import"./browse-58fd0d18.js";import"./close-circle-filled-52c8e9f4.js";import"./dep-0742ae64-c1faefd0.js";import"./form-model-ef5bf9d4.js";import"./_baseSet-7d17e61f.js";import"./isNil-c75b1b34.js";import"./dep-ef1abd17-e2c5098b.js";const Jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAzCAYAAADYfStTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFQTBERUY0RjU0RjMxMUU5QjQ3MEU0Njc2QjREODc5MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFQTBERUY1MDU0RjMxMUU5QjQ3MEU0Njc2QjREODc5MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkVBMERFRjRENTRGMzExRTlCNDcwRTQ2NzZCNEQ4NzkzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkVBMERFRjRFNTRGMzExRTlCNDcwRTQ2NzZCNEQ4NzkzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+YsrVHwAABMNJREFUeNrkmgtv3EQUhe3x7CZtXm2TSCzQhwglhQIS/P9fgUBJStMWKKS0gTZN06YbP7hXfINGlsfxrr3eJox0tFHWHt8z99zHzDouiiLqaAwFi4IVwZLgqmBBMBAYrskFZ4L3greCE8Gx4FQw7sKIuCUhNfSaYB0s65yCppO6a98I/gKvIN4rISWyKfiYz4SVz1ssjHoyE7wQ/MFn3gehDcEdPGKQSle6jZFujreeCA5nRUgf9LlgxN9dEgkR02ccCB42jbGmhK4LtomXDPQxEqBxtSd42QWhjwT3yFjpDL1S560EDz0gvqYmpEH/JZPmPZJIiU9TShxq7K7g97rsEhojyEQ9kxlTw5KSGpwN97BtIkLr3Gh6lFhB6ldjvxPc4n9F6RqDbetNCV0hAQx7Cv7Ck5hm0a/pNm5R48rqyLBtG1vPJaSTrvGQWY+c5yiBrwSfEa/aGlnBFm1UWhFja9haS2gEzhpILWtRi2IvY2oW/QZv+CUhpZW663URVfIchQhZ3GwaJIEzHrJeofMmZN5zv67wfaSTVcyTemWjqEgSBpttFSG98UaDipwiA9X695AaTxAv2lmvCr5FUnUlwdWfY/6uyog3sP0/r0Ss1ifneKbg+00MWcOYbbYCb5inTqIFte0LFiUkWVdMlcjP9HUJ/6+KQ7X9T1WOI3SN9mZcQ0YnvC24Sdfgrl3CwJ+QYlJxr8tMd7g/QXYhrxR0BI9YLBsg4+R/HQ4vDBdu1MRBznd3vQA9K7l9A7Jl+eSQWUWiNz0jQg1pild2keeghoy/aGpDbJlkoyZNu4x0XCPJDGNPaEuc9mMktoVXs5oCP6QJ3aUJNYG4CcW1chhaJLNY87AYl/9KNrrtea1cwbeQyHPaly2v4ofmt9z7G9uEt5CbtDgrhyWLHIoGqdag6SUyS1YhzUVScUK8bLJ6WU28qPz2BU+ZY2HK2qb3rGq3fZ/ilDd07QqF8ErFPbFHbliz3XAL9IpFclnMtDzfODCsatNhiaV9DI0rVslf+SLgFUOs/QgZ25KMG4t2ChcnxMgyMZJWxFPIKwPS9T6E8nNq16SSW7ATZJKyrJ5AalRTU8qnOn97hXLgtyxdbdmndbUlLe+RJFYgFQfIxCzAY2rLtIF/7mKbaLrdaMEKa93Z8QpgKIvtUF/GXDerTWNmWm7ihsjnsdf9+hLTLPYDNcZMIe+JCVmkcrXFvmaAwSq9TzE6pxA/8rYK8YzJxK45Pe1gohgvLVOf9mku4w6zWJNxaomDtsMQK7t46GXPRNw4UUKvO5JDzJ6omBMZff5rg4dOOyKVzKC2NCWjHE7crweHczKkq2HhMHYHiYcd9VLzGgYOhSNxNMdAbjsG2H7kn/qM2Y+YC+qdp+6MwyfwjOZxeIHIDLH5WdW5XEp1zy+Ip4zXkaRVhHQcgD5albZpeuDZG4UIRRxUHH3gadxi48Mqt5XHO/Y54x6642mLt9uLvWtCKGJLsBc4N5i31NSmB9gYNSUU0S3vNLiuzyQQYVPwN9b/3a/gblyq9xT8InZp3iTxhx7v6vl2H+/6/BL9+xJT8wk+0Lex1CvPo57exiobcinelwvFmHujcZmTJHc66gp0RqZUb7qfMTt9o/EfAQYA3ZeeseefkFEAAAAASUVORK5CYII=",tt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAABo0lEQVQ4jbXUP0gcURDH8TOgTbAQi3QK1hbCvNPgn0KEQBqxUAK2aZzZiyKKIoJuSGmKIIiIjQqCRZprBCEWSSESAiEQSMCkUJRACkEL/6H3tVgip7e3t56bhR8sPN6HeTNvN5X6Dw9QIcbbPp+qxHFZoNIpK6LQrtQkij8b5bFT1kVBFGSIusTwZo9aMbZvcAU3SGMieKtHvRg/8nFREI+WB+NukEZR9gtwhbRH14NwMdpFOQzDRcFl6C6/8gzdzjgphouCZOgvDzdeOuUyEg9moOXgk6LkSuIKaWM0Nuz7PHIes3HgmxkYfiy8z6fKGWv3wUVBjJmSeNsY1c74EFEl2S2YXg5dm4/EW4Z4IsqXqCrnsgDw/lPo+mpRPK00iLFzd9OLN+DNBu/ji5DLweef8PRVyAmUbDhuNDnjT1jFX3/B5RUsbcDpOez9hc6RoifcLMDF6HTGUbGWPJ+AnYOgLccn0DMVOeTtW7gzesU4K3U7Oobh4zcYeFfymn7Pb4vF+jrvl92gLR6vE4b/5TAlyrhTft+KsSfBX7IwMVqYl4tr5HDZyKPmZr8AAAAASUVORK5CYII=",Kt={xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",class:"icon",viewBox:"0 0 1024 1024"};function qt(J,N){return a(),c("svg",Kt,[...N[0]||(N[0]=[o("path",{fill:"#2F8AF5",d:"M847.872 734.208 784.384 368.64H239.616l-63.488 365.568c-9.216 51.2 30.72 105.472 81.92 105.472h506.88c52.224 0 92.16-54.272 82.944-105.472M512 648.192c-71.68 0-130.048-58.368-130.048-130.048 0-6.144 4.096-10.24 10.24-10.24s10.24 4.096 10.24 10.24c0 60.416 49.152 109.568 109.568 109.568s109.568-49.152 109.568-109.568c0-6.144 4.096-10.24 10.24-10.24s10.24 4.096 10.24 10.24c0 71.68-58.368 130.048-130.048 130.048"},null,-1),o("path",{fill:"#83C1FF",d:"m791.552 358.4-19.456-96.256c-7.168-39.936-46.08-67.584-87.04-67.584H340.992c-40.96 0-74.752 28.672-81.92 68.608l-15.36 95.232z"},null,-1)])])}const Wt={render:qt},Pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAaCAYAAABLlle3AAADt0lEQVR4XrWWX2hcRRTGf2fu3XSTpqEbK5qmtAhqxaBKDagFpVAJ2LwIWAUriFgVVUFELKAKVfBRX1RAQEC0BMFH0RcLJQj4IraIapWoaZptUrKJxqb7584cQ5hhNnu5u1Twg8MZuLPz2+98c9mVO55RANLb6gBkp8v0FkKUcoUyXJkEMMme5liyp/WhGclG/Rnyf0HFAxKMfIDjKOhxIPFQ+a9Q6QFNkl2tu1DuUQWQR2S7G43gQkkO6rMMeUoXlymJHlMLuI0qS6IvAWkXt1LkVACT3lp/dr1eBJKYVXRpRrM7UZlkAyjgAHhK+t0u7zYfBbwKHG4/z2zaIDyP8E56S/3dAI5FIqm+gQIqhK6OLaT6Sm6/MAhMAW8BR9qzN9ExKcq3KAAvpDc3PvHgxGd5ryoH1AG+1II6QOUJ6dMRP+bE9y+BBwGAH6IJ79RXipUL4EenPJTsbXwElIA+DI8Fd6JgLaw1QFRAEYw+CpQwWsHwBcp+ov70uZtcpppxHgUUdKPLkeS65nvmansjMBFydJnQbAqTtwvXDkG9AagcxuhuhBMoB9mspcCK0ABuyQJOPNCPER6XAXdSLcM4EIXFFTi0Dnz4bsP8EqQiqDKGMI3KQZR2NYGLgEQocYs2zAJKA4VYAsoQKhhgZRV2VuC5CcMv5+GPBRAFAUFlGEenasB84AQowZf+bebVsYxKfCUcqHd4uQ5ZJrz2gGH3Djj9u1IZEFIDagElJ+/yUrDQCVVdNf/gWIou46idhbU6HD1gmNwnzNfg/n3w2THh0LiwuCxF0HPhvgdOGhbhAY45YAwHsYTlVZgYMzx9n3BhBdaaMH6DIMBMVelLhAJVPTDnNIKtmQsg9R0LAyWhWoOXP3Y8+b7j51kYLMObJ5ST3wuVQYo0G6H526ve6ay/PO21DoXfqvDVd/DTLIxcBd/8CJ9PC5WtgHaFajenqi3mcESXvlsL5RS2lmD8+g0Qb08p1kJ/qRuTc72dtmRG869MKAywdydMnVLOzMDwNnDFxJqHds/UXUzP0uJTrHfZ4XpbWTh1hvWxwo4hwVCoS8Bx4K9OpylRDrBAy1VLr8t2Oy3CflVuwso1OPpxkhowtVWMqEhfgqojC58DFoEZ4CzwNfArhOcRHP6YASRACdgCDAD9fp3mfls3Szun5b9AA7gMrPl15sE5pxkgvhzQBEoRmgOSAwZoBLe6jVcjGPU9/D5KbyhEKNaXH20RNIJte75Fo+054gCKnW5QDePNwQozzZ8R13n9Cx1eymjGjLG7AAAAAElFTkSuQmCC",Ot={class:"page-container"},Xt={class:"shop-container"},$t={class:"category-section"},to={class:"section-title"},oo=["src"],eo=["onClick"],so={class:"category-card"},no={class:"category-name"},io={class:"category-count"},ao={key:0},lo={class:"goods-section"},co={class:"section-title"},ro={class:"goods-card"},uo={class:"goods-content"},po={class:"goods-info"},mo={class:"goods-wrapper"},_o={class:"goods-detail"},go={class:"goods-name"},vo={class:"goods-detail"},ho={class:"goods-price"},fo={class:"goods-detail"},Ao={class:"goods-stock"},yo={class:"description-section"},bo=["innerHTML"],wo={key:0,class:"promotion-section"},Io={class:"section-content"},Ro={key:1,class:"promotion-section"},ko={class:"section-content"},Co={key:2,class:"promotion-section"},Do={class:"section-content"},No={class:"purchase-form-section"},So={class:"section-content"},Uo={key:0,class:"payment-section"},Mo={class:"section-content"},Qo={class:"payment-methods"},Vo={class:"payment-options"},Eo=["onClick"],Lo=["src"],Fo={class:"payment-name"},Bo={class:"shop-footer"},Go={class:"footer-copyright"},Zo=["innerHTML"],zo={class:"footer-copyright"},xo={class:"order-bar"},Yo={class:"order-bar-content shop-container"},To={class:"quantity-selector"},Ho={class:"order-summary"},jo={class:"price-info"},Jo={class:"price-total"},Ko={key:0,class:"price-original"},qo={name:"Default"},Wo=Mt({...qo,props:{info:{}},setup(J){const N=Ct(),ot=$(()=>N.config.site_shop_copyright),et=$(()=>N.config.site_info_icp),K=i=>{const t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return i.replace(/&(lt|gt|nbsp|amp|quot);/gi,(v,F)=>t[F])},E=d([]),st=J,{info:f}=Qt(st),G=A({shop_name:"",qq:"",shop_id:"",shop_notice_show:0,shop_notice:"",show_contact:0,shop_contact:{mobile:"",qq:"",wechat:""}}),p=A({categorys:[],goods:[],id:null}),nt=()=>{Object.assign(G,f.value.shop)},it=()=>{Object.assign(p,f.value),p.id=f.value.categorys[0].id},e=A({id:null,content:"",coupon_type:"",visit_type:"",take_card_type:0,limit_quantity:0,price:0,contact_limit:"",sms_payer:0,sms_price:0,name:"",card_order:"",stockStr:"",cards_stock_count:null,wholesale_discount_list:[],event_give:[],addtion_give:[]}),at=()=>{f.value.goods.length>0&&Object.assign(e,f.value.goods[0])};nt(),it(),at();const y=A(f.value.userChannels),Z=A({channel_id:y.length?y[0].channel_id:0,rate:y.length?y[0].rate:0}),lt=async i=>{if(i===p.id)return;const{data:t}=await kt({cate_id:i,token:f.value.token});if(t.length===0){_.error("该栏目下没有商品!");return}p.id=i,p.goods=t,Object.assign(e,t[0]),e.content=K(t[0].content),w(),s.goods_id=e.id},ct=i=>{if(i===e.id)return;const t=p.goods.find(v=>v.id===i);Object.assign(e,t),e.content=K(t.content),w(),s.goods_id=e.id},S=d("无限制"),U=d("[必填]推荐填写QQ号或手机号!"),q=()=>{e.contact_limit==="any"?S.value="任意字符串":e.contact_limit==="mobile"?(S.value="只能输入手机号",U.value="[必填]请填写您的手机号!"):e.contact_limit==="email"?(S.value="只能输入邮箱",U.value="[必填]请填写您的邮箱!"):e.contact_limit==="qq"?(S.value="只能输入QQ号",U.value="[必填]请填写您的QQ号!"):S.value="[必填]请输入联系方式"};q(),T(()=>E.value,i=>{i.includes(1)?(U.value="[必填]请填写您的手机号!",s.is_rev_sms=1):(q(),s.is_rev_sms=0),i.includes(2)?s.isemail=1:s.isemail=0,w()});const M=d(!1);T(()=>M.value,i=>{if(i){s.is_coupon=1;return}s.is_coupon=0});const rt=i=>{Z.channel_id=i,s.pid=i},dt=i=>{i&&(w(),i>e.cards_stock_count&&_.error("库存不足"))},s=A({goods_id:e.id,contact:"",coupon_code:"",pwdforsearch:"",isemail:0,email:"",is_rev_sms:0,pid:Z.channel_id,is_coupon:0,quantity:e.limit_quantity?e.limit_quantity:1});T(()=>s.coupon_code,i=>{i&&w()});const z=d(!1),W=A({}),P=d(),ut=async()=>{var t;if(s.contact===""){_.error("请填写联系方式!");return}if(s.quantity===0){_.error("请填写购买数量!");return}if(s.quantity>e.cards_stock_count){_.error("库存不足!");return}if(s.quantity<e.limit_quantity){_.error("购买数量不能小于最小购买数量!");return}if(s.isemail===1&&s.email===""){_.error("请填写邮箱!");return}if(s.is_rev_sms===1&&s.contact===""){_.error("请填写手机号!");return}if(s.is_coupon===1&&s.coupon_code===""){_.error("请填写优惠券!");return}if(e.take_card_type===1&&s.pwdforsearch===""){_.error("请填写卡密查询密码!");return}z.value=!0;const i=await It(s);i.code===1?(Object.assign(W,i.data),await Vt(),(t=P.value)==null||t.init(W)):_.error(i.msg),z.value=!1},pt=i=>i.toFixed(2),mt=(i,t,v)=>(t.sort((I,R)=>I.num-R.num).forEach(I=>{v>=I.num&&(i=I.price)}),i),x=d(0),Y=d(0),h=d(),Q=d(0),O=d(0),b=d(0),L=d(""),w=async()=>{if(O.value=e.price,Q.value=e.price,e.wholesale_discount_list!=null&&(Q.value=mt(e.price,e.wholesale_discount_list,s.quantity)),Y.value=O.value*s.quantity,Q.value>0?h.value=Q.value*s.quantity:h.value=Y.value,M.value===!0&&s.coupon_code!==""){const i={coupon_code:s.coupon_code,goods_id:e.id,cate_id:p.id,quantity:s.quantity,shop_id:G.shop_id,total_price:Q.value*s.quantity},t=await Rt(i);t.code===1?(t.data.type===1?b.value=t.data.amount:t.data.type===2&&(b.value=h.value*t.data.amount/100),L.value=`优惠券可用,优惠${t.data.amount}${t.data.type===1?"元":"%"}`,b.value>h.value&&(b.value=h.value,L.value=`优惠券可用,优惠${t.data.amount}${t.data.type===1?"元":"%"}，但大于订单金额，本单享受全额优惠【0元购买】`)):(L.value=t.msg,b.value=0)}e.sms_payer===0&&s.is_rev_sms?x.value=e.sms_price:x.value=0,h.value=pt(Number(h.value)+Number(x.value)-Number(b.value))};return w(),(i,t)=>{const v=Et,F=Ft,I=Lt,R=Bt,k=Gt,_t=zt,gt=xt,vt=Zt,ht=Yt,ft=Tt,At=Ht,yt=jt,bt=Dt;return a(),c("div",Ot,[o("div",Xt,[l(St,{"shop-info":G},null,8,["shop-info"]),l(ht,{class:"shop-main-content"},{default:u(()=>[o("div",$t,[o("div",to,[o("img",{src:H(Pt),class:"section-icon"},null,8,oo),t[8]||(t[8]=o("span",{class:"section-title-text"},"商品分类",-1))]),(a(!0),c(C,null,D(p.categorys,(n,m)=>(a(),c("div",{key:m,class:j(["category-item",{"category-item--active":p.id==n.id}]),onClick:X=>lt(n.id)},[o("div",so,[o("div",no,r(n.name),1),o("span",io,"共"+r(n.goodsCount)+"种商品",1),t[9]||(t[9]=o("img",{class:"selection-indicator",src:Jt},null,-1))])],10,eo))),128))]),p.goods.length>0?(a(),c("div",ao,[l(v),o("div",lo,[o("div",co,[l(H(Wt),{class:"section-icon"}),t[10]||(t[10]=o("span",{class:"section-title-text"},"选择商品",-1))]),l(I,null,{default:u(()=>[(a(!0),c(C,null,D(p.goods,(n,m)=>(a(),V(F,{key:m,class:j(["goods-item",{"goods-item--active":e.id==n.id}]),onClick:X=>ct(n.id)},{default:u(()=>[o("div",ro,[o("div",uo,[o("div",po,[o("div",mo,[o("div",_o,[o("h4",go,r(n.name),1)]),o("div",vo,[o("span",ho,"￥"+r(n.price),1)]),o("div",fo,[o("span",Ao,r(n.stockStr),1)])])]),t[11]||(t[11]=o("img",{class:"selection-indicator",src:tt,alt:""},null,-1))])])]),_:2},1032,["class","onClick"]))),128))]),_:1})]),l(v),o("div",yo,[t[15]||(t[15]=o("div",{class:"section-title"},"商品描述",-1)),o("div",{class:"section-content",innerHTML:e.content},null,8,bo),e.wholesale_discount_list.length>0?(a(),c("div",wo,[t[12]||(t[12]=o("h4",{class:"section-title"},"满减优惠",-1)),o("div",Io,[(a(!0),c(C,null,D(e.wholesale_discount_list,(n,m)=>(a(),c("div",{key:m,class:"promotion-item"},"买满"+r(n.num)+"件，单价"+r(n.price)+"元",1))),128))])])):g("",!0),e.event_give!=null&&e.event_give.length>0?(a(),c("div",Ro,[t[13]||(t[13]=o("h4",{class:"section-title"},"活动赠送",-1)),o("div",ko,[(a(!0),c(C,null,D(e.event_give,(n,m)=>(a(),c("div",{key:m,class:"promotion-item"},"买满"+r(n.num)+"件，赠送"+r(n.give_num)+"件",1))),128))])])):g("",!0),e.addtion_give!=null&&e.addtion_give.length>0?(a(),c("div",Co,[t[14]||(t[14]=o("h4",{class:"section-title"},"附加赠送",-1)),o("div",Do,[(a(!0),c(C,null,D(e.addtion_give,(n,m)=>(a(),c("div",{key:m,class:"promotion-item"},[B(" 买满"+r(n.bug_num)+"件，赠送",1),o("b",null,r(n.goods_name),1),B("商品"+r(n.give_num)+"件 ",1)]))),128))])])):g("",!0)]),l(v),o("div",No,[t[16]||(t[16]=o("div",{class:"section-title"},"填写购买信息",-1)),o("div",So,[l(vt,{"label-width":"80",layout:"inline"},{default:u(()=>[l(k,{label:"联系方式",tips:"联系方式特别重要,可用来查询订单"},{default:u(()=>[l(R,{modelValue:s.contact,"onUpdate:modelValue":t[0]||(t[0]=n=>s.contact=n),name:"contact",placeholder:U.value,clearable:""},null,8,["modelValue","placeholder"])]),_:1}),l(k,{label:"提醒服务"},{default:u(()=>[l(_t,{modelValue:E.value,"onUpdate:modelValue":t[1]||(t[1]=n=>E.value=n),multiple:"",options:[{label:"短信提醒",value:1},{label:"邮箱提醒",value:2}]},null,8,["modelValue"])]),_:1}),E.value.includes(2)?(a(),V(k,{key:0,label:"邮箱地址"},{default:u(()=>[l(R,{modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=n=>s.email=n),name:"email",placeholder:"填写你常用的邮箱地址",clearable:""},null,8,["modelValue"])]),_:1})):g("",!0),e.coupon_type?(a(),V(k,{key:1,label:"优惠券"},{default:u(()=>[l(gt,{modelValue:M.value,"onUpdate:modelValue":t[3]||(t[3]=n=>M.value=n)},null,8,["modelValue"])]),_:1})):g("",!0),M.value&&e.coupon_type?(a(),V(k,{key:2,label:"优惠券",tips:L.value},{default:u(()=>[l(R,{modelValue:s.coupon_code,"onUpdate:modelValue":t[4]||(t[4]=n=>s.coupon_code=n),name:"coupon_code",placeholder:"请填写你的优惠券"},null,8,["modelValue"])]),_:1},8,["tips"])):g("",!0),e.take_card_type!=0?(a(),V(k,{key:3,label:"取卡密码"},{default:u(()=>[l(R,{modelValue:s.pwdforsearch,"onUpdate:modelValue":t[5]||(t[5]=n=>s.pwdforsearch=n),placeholder:"请输入取卡密码（6-20位）"},null,8,["modelValue"])]),_:1})):g("",!0)]),_:1})])]),y.length?(a(),c("div",Uo,[l(v),t[18]||(t[18]=o("div",{class:"section-title"},"选择支付方式",-1)),o("div",Mo,[o("div",Qo,[o("div",Vo,[(a(!0),c(C,null,D(y,(n,m)=>(a(),c("div",{key:m,class:j(["payment-option",{"payment-option--selected":Z.channel_id==n.channel_id}]),onClick:X=>rt(n.channel_id)},[o("img",{class:"payment-icon",src:H(wt)+n.ico},null,8,Lo),o("span",Fo,r(n.show_name),1),t[17]||(t[17]=o("img",{class:"selection-indicator",src:tt,alt:""},null,-1))],10,Eo))),128))])])])])):g("",!0)])):g("",!0)]),_:1}),o("footer",Bo,[o("div",Go,[o("span",{innerHTML:ot.value},null,8,Zo)]),o("div",zo,r(et.value),1)]),o("div",xo,[o("div",Yo,[t[21]||(t[21]=o("div",{class:"goods-title"},null,-1)),o("div",To,[l(ft,{modelValue:s.quantity,"onUpdate:modelValue":t[6]||(t[6]=n=>s.quantity=n),step:1,max:e.cards_stock_count,min:e.limit_quantity,"auto-width":"",clearable:"",size:"large",onChange:dt},null,8,["modelValue","max","min"])]),o("div",Ho,[l(yt,{align:"center",size:"large"},{default:u(()=>[o("div",jo,[t[19]||(t[19]=B(" 支付金额 ",-1)),o("span",Jo,"￥"+r(h.value),1),e.coupon_type&&s.coupon_code?(a(),c("span",Ko,"原价："+r(Y.value),1)):g("",!0)]),l(At,{shape:"round",theme:"primary",variant:"base",size:"large",onClick:t[7]||(t[7]=n=>ut())},{default:u(()=>[...t[20]||(t[20]=[B(" 确认订单 ",-1)])]),_:1})]),_:1})])])]),l(bt,{loading:z.value,text:"生成订单中...",attach:"body",fullscreen:"",size:"small"},null,8,["loading"]),l(Ut,{ref_key:"orderRef",ref:P},null,512)])])}}});const Xe=Nt(Wo,[["__scopeId","data-v-84bfdaf3"]]);export{Xe as default};
