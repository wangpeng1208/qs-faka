import{i as $,r as B,c as F,g as N,a as O,b as R,s as A}from"./link-2b2fc0b4.js";import{c as C,M as p,L as G}from"./index-5ae314bf.js";import w from"./file-copy-ff3e7664.js";import I from"./refresh-ecf85c6f.js";import{D as W}from"./plugin-e4c34710.js";import{R as j}from"./index-a9524ed3.js";import{F as q,a as E}from"./index-9de6e4fb.js";import{L as H}from"./index-5a96e289.js";import{T as J}from"./index-2468d71f.js";import{S as K}from"./index-7d217f2a.js";import{S as Q}from"./index-191c61c5.js";import{C as X}from"./index-7e8487d2.js";import{d as Y,r as i,A as Z,l as tt,V as et,W as a,M as e,_ as r,a3 as L,u}from"./vue-d500b9b9.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./index-2132cfb3.js";import"./dialog-256f8652.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-d83a7af3.js";import"./index-227fbf78.js";import"./omit-e39915a9.js";import"./dep-0742ae64-334d1564.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./index-9034b695.js";import"./form-model-962c4be8.js";import"./_baseSet-6774bbcb.js";import"./close-circle-filled-8b5b4fa1.js";const at={name:"UserLink"},Bt=Y({...at,setup(ot){const m=i(!1),o=Z({link:"",short_link:"",src:"",user_status:0,link_status:null}),x=[{label:"开启",value:1},{label:"暂停",value:0}],k=async()=>{m.value=!0;const{data:l}=await $();o.short_link=l.shortLink,o.link=l.link,o.src=l.link_src,o.user_status=l.user_status,o.link_status=l.link_status,m.value=!1};k();const v=async l=>{let t="";l===0?t="确定要重置短链接吗？重置链接后，之前的短链接将不能访问！":l===1&&(t="确定要重置总链接吗？重置链接后，之前的总链接将及短链接不能访问！");const c=W({header:"温馨提示",body:t,theme:"warning",confirmBtn:"确认",closeOnOverlayClick:!1,onConfirm:()=>{c.hide(),m.value=!0,B({status:l}).then(n=>{n.code===1?(p.success(n.msg),k()):p.error(n.msg),m.value=!1})},onClose:()=>{c.hide()}})},S=async l=>{const t=await F({status:l});t.code===1&&p.success(t.msg)},b=i(!0),h=i([]),D=i([]);(async()=>{const l=await N(),t=await O();h.value=l.data,D.value=t.data,b.value=!1})();const _=i(null),V=i(null),y=async()=>{const l=await R();_.value=l.data.pc_template,V.value=l.data.mobile_template};y();const z=async l=>{const t=await A({field:"pc_template",value:l});t.code===1?(p.success(t.msg),y()):p.error(t.msg)};return(l,t)=>{const c=G,n=j,d=q,T=H,f=J,g=K,M=Q,P=E,U=X;return tt(),et(U,{title:"店铺链接",class:"basic-container",bordered:!1},{default:a(()=>[e(c,{attach:".basic-container",size:"small",loading:m.value},null,8,["loading"]),e(P,{"label-align":"left","label-width":160},{default:a(()=>[e(d,{label:"链接状态",tips:"店铺总链接状态，选择暂停将仅当前店铺“总链接”不可用"},{default:a(()=>[e(n,{modelValue:o.link_status,"onUpdate:modelValue":t[0]||(t[0]=s=>o.link_status=s),options:x,onChange:S},null,8,["modelValue"])]),_:1}),e(d,{label:"绿标短链",tips:"绿标短链接打开就是店铺长链接，强烈建议使用绿标短链接作为访问链接;如果在朋友圈等地方打广告请发【绿标短链】这个链接，这样可以让您的朋友直接进入您的店铺"},{default:a(()=>[e(g,null,{default:a(()=>[e(T,{theme:"primary",href:o==null?void 0:o.short_link,target:"_blank"},{default:a(()=>[r(L(o==null?void 0:o.short_link),1)]),_:1},8,["href"]),e(f,{theme:"primary",variant:"light",size:"small",class:"tag",onClick:t[1]||(t[1]=s=>u(C)(o==null?void 0:o.short_link))},{icon:a(()=>[e(u(w))]),default:a(()=>[t[6]||(t[6]=r(" 复制 ",-1))]),_:1}),e(f,{theme:"primary",size:"small",class:"tag",onClick:t[2]||(t[2]=s=>v(0))},{icon:a(()=>[...t[7]||(t[7]=[])]),default:a(()=>[t[8]||(t[8]=r(" 重置短链接 ",-1))]),_:1})]),_:1})]),_:1}),e(d,{label:"店铺总链",tips:"重置总链接后，原短链长连接都会失效；严禁使用此链接发广告"},{default:a(()=>[e(g,null,{default:a(()=>[e(T,{theme:"primary",href:o.link,target:"_blank"},{default:a(()=>[r(L(o.link),1)]),_:1},8,["href"]),e(f,{theme:"primary",variant:"light",size:"small",class:"tag",onClick:t[3]||(t[3]=s=>u(C)(o.link))},{icon:a(()=>[e(u(w))]),default:a(()=>[t[9]||(t[9]=r("复制 ",-1))]),_:1}),e(f,{theme:"primary",size:"small",class:"tag",onClick:t[4]||(t[4]=s=>v(1))},{icon:a(()=>[e(u(I))]),default:a(()=>[t[10]||(t[10]=r("重置总链接 ",-1))]),_:1})]),_:1})]),_:1}),e(d,{label:"店铺主题",tips:"店铺页面主题风格"},{default:a(()=>[e(M,{loading:b.value,animation:"flashed","row-col":[{type:"rect",width:"600px",height:"30px"}]},{default:a(()=>[e(g,null,{default:a(()=>[e(n,{value:_.value,"onUpdate:value":t[5]||(t[5]=s=>_.value=s),options:h.value,onChange:z},null,8,["value","options"])]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}}});export{Bt as default};
