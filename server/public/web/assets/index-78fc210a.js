import{T as w,E as x}from"./wangeditor-5deff394.js";import{a as V,m as C,b as N}from"./config-ae8085c2.js";import{d as T,s as O,b as n,h as $,l as k,m as B,M as r,u,a6 as E}from"./vue-d500b9b9.js";import{_ as S}from"./index-5ae314bf.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";const F={class:"border-br"},I=T({__name:"index",props:{modelValue:{default:""},mode:{default:"default"},height:{default:"300px"},width:{default:"100%"},toolbarConfig:{default:()=>({})},userType:{default:""},path:{default:"upload/res/"}},emits:["update:modelValue"],setup(i,{emit:m}){const t=i,c=m,d=O(),p=localStorage.getItem(t.userType),{accessToken:f}=JSON.parse(p),h=t.userType==="admin"?V:C,_=` ${N}${h}`,g={Authorization:`Bearer ${f}`},y=async e=>{const o=new FormData;return o.append("file",e),o.append("path",t.path),(await(await fetch(_,{method:"POST",body:o,headers:g})).json()).data.url},b={MENU_CONF:{uploadImage:{async customUpload(e,o){const a=await y(e);o(a)}}}},s=(e,o="px")=>Object.is(Number(e),NaN)?e:`${e}${o}`,U=n(()=>({height:s(t.height),width:s(t.width)})),l=n({get(){return t.modelValue},set(e){c("update:modelValue",e)}});$(()=>{const e=d.value;e!=null&&e.destroy()});const v=e=>{d.value=e};return(e,o)=>(k(),B("div",F,[r(u(w),{style:{"border-bottom":"1px solid #ccc"},editor:d.value,"default-config":e.toolbarConfig,mode:e.mode},null,8,["editor","default-config","mode"]),r(u(x),{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),class:"overflow-y-auto flex-1",style:E(U.value),"default-config":b,mode:e.mode,onOnCreated:v},null,8,["modelValue","style","mode"])]))}});const q=S(I,[["__scopeId","data-v-ad6ace7d"]]);export{q as default};
