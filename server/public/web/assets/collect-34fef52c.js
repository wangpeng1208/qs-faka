import{a as R,s as S,g as j,c as A}from"./cash-b60fbd3d.js";import{M as c,_ as E}from"./index-5ae314bf.js";import{R as G}from"./index-a9524ed3.js";import{F as L,a as z}from"./index-9de6e4fb.js";import{C as D}from"./index-7e8487d2.js";import{S as H}from"./index-c8633d5c.js";import{I as P}from"./index-9b4540ef.js";import{I as W}from"./index-3d8f650a.js";import{B as X}from"./index-227fbf78.js";import{d as J,A as h,b as g,r as p,U as K,l as i,m as d,M as t,W as o,u as V,a0 as C,V as k,a4 as w,_ as Q,G as Y}from"./vue-d500b9b9.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./omit-e39915a9.js";import"./dep-0742ae64-334d1564.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./index-9034b695.js";import"./form-model-962c4be8.js";import"./_baseSet-6774bbcb.js";import"./close-circle-filled-8b5b4fa1.js";import"./fake-arrow-468f6194.js";import"./index-5a6339b2.js";import"./index-2468d71f.js";import"./index-63b59032.js";import"./useLengthLimit-bf57acc2.js";import"./browse-50d5b530.js";const Z=[{label:"自动提现",value:1},{label:"手动提现",value:2}],ee=[{label:"中国工商银行",value:"中国工商银行"},{label:"中国建设银行",value:"中国建设银行"},{label:"中国农业银行",value:"中国农业银行"},{label:"中国邮政储蓄银行",value:"中国邮政储蓄银行"},{label:"招商银行",value:"招商银行"},{label:"农村信用合作社",value:"农村信用合作社"},{label:"兴业银行",value:"兴业银行"},{label:"广东发展银行",value:"广东发展银行"},{label:"深圳发展银行",value:"深圳发展银行"},{label:"民生银行",value:"民生银行"},{label:"交通银行",value:"交通银行"},{label:"中信银行",value:"中信银行"},{label:"光大银行",value:"光大银行"},{label:"中国银行",value:"中国银行"}],ae={class:"tips"},te={key:0},le={key:1},oe={name:"FinanceCollect"},ne=J({...oe,setup(se){const e=h({type:1,account:"",realname:"",idcard_number:"",collect_img:"",allow_update:1,bankname:""}),n=h({user:{money:0,freeze_money:0,cash_type:1},limit_num:0,cash_fee_type:0,cash_fee:0,auto_cash_fee:0,cash_limit_time:"",cash_min_money:0,auto_cash_money:0});(async()=>{const{data:l}=await R();Object.assign(n,l)})();const U=g(()=>n.user.cash_type===1?`自动提现：每日自动结算，最低提现${n.auto_cash_money}元，手续费${n.auto_cash_fee}`:n.user.cash_type===2?`手动提现：允许提现时间次日${n.cash_limit_time}，最低提现${n.cash_min_money}元，手续费${n.cash_fee}`:""),$=async()=>{const l=await S({cash_type:n.user.cash_type});c.success(l.msg)},x=()=>e.type===1?"支付宝账号":e.type===2?"微信账号":e.type===3?"银行卡账号":"支付宝账号",m=g(()=>e.allow_update===0),I=p(!0),_=p([]);(async()=>{const{data:l}=await j();_.value=l.cashTypesOptions,l.info&&(e.account=l.info.info.account,e.realname=l.info.info.realname,e.idcard_number=l.info.info.idcard_number,e.collect_img=l.info.collect_img,e.type=l.info.type,e.allow_update=l.info.allow_update),I.value=!1})();const T={cash_type:[{required:!0,message:"请选择收款方式"}],account:[{required:!0,message:"请输入收款账号"}],realname:[{required:!0,message:"请输入收款人姓名"}],idcard_number:[{required:!0,message:"请输入身份证号"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号"}]},f=p(null),B=async()=>{const l=await f.value.validate();if(typeof l!="object"&&l){(e.type===1||e.type===2)&&delete e.bankname;const a=await A(e);a.code===1?c.success(a.msg):c.error(a.msg)}},F=({name:l,url:a})=>{e[l]=a};return(l,a)=>{const b=G,r=L,y=z,v=D,O=H,u=P,q=K("wp-upload"),M=W,N=X;return i(),d(Y,null,[t(v,{title:"提现设置",class:"basic-container",bordered:!1},{default:o(()=>[t(y,{"label-align":"left","label-width":20},{default:o(()=>[t(r,{name:"cash_type",help:U.value},{default:o(()=>[t(b,{modelValue:n.user.cash_type,"onUpdate:modelValue":a[0]||(a[0]=s=>n.user.cash_type=s),options:V(Z),onChange:$},null,8,["modelValue","options"])]),_:1},8,["help"])]),_:1})]),_:1}),t(v,{class:"basic-container",bordered:!1},{title:o(()=>[a[6]||(a[6]=C("div",{class:"title"},"收款信息",-1)),C("div",ae,[m.value?(i(),d("span",le," [修改收款方式请联系客服]")):(i(),d("span",te," [请务必检查正确]"))])]),default:o(()=>[t(y,{ref_key:"form",ref:f,data:e,rules:T,"label-align":"left","label-width":150,disabled:m.value,onSubmit:B},{default:o(()=>[t(r,{label:"收款方式",name:"type"},{default:o(()=>[t(b,{modelValue:e.type,"onUpdate:modelValue":a[1]||(a[1]=s=>e.type=s),options:_.value,disabled:m.value},null,8,["modelValue","options","disabled"])]),_:1}),e.type==3?(i(),k(r,{key:0,label:"开户银行",name:"bank"},{default:o(()=>[t(O,{modelValue:e.bankname,"onUpdate:modelValue":a[2]||(a[2]=s=>e.bankname=s),options:V(ee)},null,8,["modelValue","options"])]),_:1})):w("",!0),t(r,{label:x,name:"account"},{default:o(()=>[t(u,{modelValue:e.account,"onUpdate:modelValue":a[3]||(a[3]=s=>e.account=s),placeholder:"请输入收款账号"},null,8,["modelValue"])]),_:1}),t(r,{label:"收款人姓名",name:"realname"},{default:o(()=>[t(u,{modelValue:e.realname,"onUpdate:modelValue":a[4]||(a[4]=s=>e.realname=s),placeholder:"请输入收款人姓名"},null,8,["modelValue"])]),_:1}),t(r,{label:"身份证号",name:"idcard_number"},{default:o(()=>[t(u,{modelValue:e.idcard_number,"onUpdate:modelValue":a[5]||(a[5]=s=>e.idcard_number=s),placeholder:"请输入身份证号"},null,8,["modelValue"])]),_:1}),t(r,{label:"收款二维码",name:"collect_img"},{default:o(()=>[t(q,{theme:"image",initial:e,app:"merchant",name:"collect_img",data:{type:"image"},onUpdate:F},null,8,["initial"])]),_:1}),m.value?w("",!0):(i(),k(r,{key:1},{default:o(()=>[t(N,{theme:"primary",class:"form-submit-confirm",type:"submit"},{icon:o(()=>[t(M,{name:"edit"})]),default:o(()=>[a[7]||(a[7]=Q(" 保存 ",-1))]),_:1})]),_:1}))]),_:1},8,["data","disabled"])]),_:1})],64)}}});const je=E(ne,[["__scopeId","data-v-29c247a9"]]);export{je as default};
