import{d as A,a2 as G,A as I,r as v,o as P,l as C,V as M,W as o,M as e,u as s,_ as l,a0 as u,m as U,a3 as $,a4 as z}from"./vue-d500b9b9.js";import{l as E}from"./category-0a39d79d.js";import{b as F}from"./coupon-b28c39d7.js";import{R as K}from"./index-bef910b5.js";import{t as W}from"./table-48199bef.js";import{u as y}from"./useBatchAction-590dba1a.js";import{s as j,t as q}from"./constant-564e8a5c.js";import{I as H}from"./index-ea2a85c9.js";import{B as J}from"./index-c63cfed1.js";import{S as O}from"./index-18bbad02.js";import{S as Q}from"./index-0fc44882.js";import{T as X}from"./index-98194870.js";import{C as Y}from"./index-c2a11f34.js";import{_ as Z}from"./index-6b6fbd51.js";import"./no-list-e2f85d5e.js";import"./global-0d825ba6.js";import"./base-9eb484ec.js";import"./plugin-cad85236.js";import"./dialog-8ec74ee0.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-581cd4f1-15e6aa5c.js";import"./omit-82a91481.js";import"./date-69e2f1fa.js";import"./libs-d79b82a8.js";import"./dep-0742ae64-0833915c.js";import"./fake-arrow-d40b6f7e.js";import"./index-424a7ec0.js";import"./index-757197b9.js";import"./index-e205a427.js";import"./useLengthLimit-14a00f39.js";import"./browse-35e2443f.js";import"./close-circle-filled-3424a47b.js";import"./_baseSet-c1826ef2.js";import"./index-b8d4edf9.js";import"./dep-34b004f3-3e1a5725.js";import"./index-5be2c846.js";import"./index-03ea1434.js";import"./index-d6e54721.js";import"./index-912dcce2.js";import"./dep-ef1abd17-afe34463.js";import"./add-291eb586.js";import"./index-9bccbd74.js";import"./chevron-right-6ae15ba3.js";import"./ellipsis-1db91eb9.js";import"./index-ae3a9dfb.js";import"./isNil-c75b1b34.js";import"./form-model-0fc8dc05.js";import"./dep-b10d5f92-c98df075.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";const tt={class:"category-header c-flex"},ot={class:"l"},et={key:0,class:"selected-count"},at={class:"r c-flex"},st={name:"GoodsCouponTrash"},rt=A({...st,setup(it){const{pagination:b,fetchData:m,dataLoading:k,headerAffixedTop:x,rehandlePageChange:V,lists:f,searchData:S}=W({fetchFun:F}),T=G(),p=I({cate_id:"",status:""}),_=v([]),B=async()=>{const{data:a}=await E();_.value=a.list};P(()=>{m(),B()});const r=v([]),d=a=>{r.value=a},h=a=>{a>0&&d(a),y({title:"提醒",body:"确定要恢复吗？",ids:r.value,url:"/merchantapi/goods/coupon/restore",fetchList:()=>{m(),r.value=[]}})},L=a=>{a>0&&d(a),y({title:"提醒",body:"确定要清空吗？清空后将无法恢复",ids:r.value,url:"/merchantapi/goods/coupon/clear",fetchList:()=>{m(),r.value=[]}})};return(a,t)=>{const w=H,i=J,g=O,D=Q,N=X,R=Y;return C(),M(R,{title:"优惠券回收站",class:"basic-container",bordered:!1},{actions:o(()=>[e(i,{variant:"text",theme:"default",onClick:t[0]||(t[0]=c=>s(T).push("/merchant/goods/coupon"))},{icon:o(()=>[e(w,{name:"rollback"})]),default:o(()=>[t[3]||(t[3]=l(" 返回 ",-1))]),_:1})]),default:o(()=>{var c;return[u("div",tt,[u("div",ot,[e(i,{variant:"base",disabled:!r.value.length,onClick:h},{default:o(()=>[...t[4]||(t[4]=[l(" 批量恢复 ",-1)])]),_:1},8,["disabled"]),e(i,{variant:"base",theme:"danger",onClick:L},{default:o(()=>[...t[5]||(t[5]=[l(" 清空回收站 ",-1)])]),_:1}),r.value.length?(C(),U("p",et,"已选"+$(r.value.length)+"项",1)):z("",!0)]),u("div",at,[e(D,null,{default:o(()=>[e(g,{modelValue:p.cate_id,"onUpdate:modelValue":t[1]||(t[1]=n=>p.cate_id=n),placeholder:"全部分类",type:"search",clearable:"",options:_.value},null,8,["modelValue","options"]),e(g,{modelValue:p.status,"onUpdate:modelValue":t[2]||(t[2]=n=>p.status=n),placeholder:"全部状态",type:"search",clearable:"",options:s(j)},null,8,["modelValue","options"]),e(i,{theme:"primary",onClick:s(S)},{default:o(()=>[...t[6]||(t[6]=[l("查询",-1)])]),_:1},8,["onClick"])]),_:1})])]),e(N,{data:s(f),columns:s(q),"row-key":"id","vertical-align":"top",hover:((c=s(f))==null?void 0:c.length)>0,pagination:s(b),loading:s(k),"header-affixed-top":s(x),"table-layout":"auto","max-height":"100%",onPageChange:s(V),onSelectChange:d},{operation:o(({row:n})=>[e(i,{size:"small",variant:"outline",shape:"round",theme:"success",onClick:nt=>h([n.id])},{default:o(()=>[...t[7]||(t[7]=[l("恢复",-1)])]),_:1},8,["onClick"])]),empty:o(()=>[e(K,{title:"",tip:"优惠券回收站为空",type:"list"})]),_:1},8,["data","columns","hover","pagination","loading","header-affixed-top","onPageChange"])]}),_:1})}}});const ro=Z(rt,[["__scopeId","data-v-d01c59de"]]);export{ro as default};
