import{g as U,e as y}from"./config-96580ff4.js";import{M as f}from"./index-1ae915eb.js";import{R as C}from"./index-615192d6.js";import{F as R,a as w}from"./index-4d676a86.js";import{I}from"./index-012f82c2.js";import{D as B}from"./index-e6da58d2.js";import{B as F}from"./index-bfd2121f.js";import{S as M}from"./index-898a5e08.js";import{C as N}from"./index-37731a62.js";import{d as D,A as P,r as S,l as g,V as b,W as r,M as t,_ as n,a4 as j}from"./vue-d500b9b9.js";import"./libs-035f127b.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./omit-a270a1e2.js";import"./dep-0742ae64-c1faefd0.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./index-0100952e.js";import"./form-model-ef5bf9d4.js";import"./_baseSet-7d17e61f.js";import"./close-circle-filled-52c8e9f4.js";import"./index-3f8df98e.js";import"./useLengthLimit-f75e20cf.js";import"./browse-58fd0d18.js";import"./dep-ef1abd17-e2c5098b.js";import"./add-4cdc8168.js";const ue=D({__name:"index",setup(O){const l=P({site_register_status:0,site_register_need_username:0,site_register_need_mobile:0,site_register_need_mobile_check:0,site_register_need_email:0,site_register_need_email_check:0,site_register_smscode_max_count:0,site_register_smscode_max_time:0,sms_error_limit:0,sms_error_time:0,site_register_smscode_expire_time:0,ip_register_limit:0,site_register_verify:1});(async()=>{const{data:a}=await U({field:Object.keys(l)});for(const e in a)l[e]=a[e]})();const V={site_domain:[{required:!0,message:"请输入主站域名"}]},d=S(),c=async()=>{const a=await d.value.validate();if(typeof a!="object"&&a){const e=await y({data:l});e.code===1?f.success("操作成功"):f.error(e.msg)}},m=[{label:"开启",value:1},{label:"关闭",value:0}];return(a,e)=>{const o=C,s=R,_=I,u=B,p=F,x=M,k=w,v=N;return g(),b(v,{title:"注册设置",class:"basic-container",bordered:!1},{default:r(()=>[t(k,{ref_key:"formRef",ref:d,"label-align":"left",data:l,rules:V,"label-width":180},{default:r(()=>[t(s,{label:"开启会员注册",name:"site_register_status",tips:""},{default:r(()=>[t(o,{modelValue:l.site_register_status,"onUpdate:modelValue":e[0]||(e[0]=i=>l.site_register_status=i),options:m},null,8,["modelValue"])]),_:1}),t(s,{label:"审核机制",name:"site_register_check",tips:"开启注册审核：自动审核-注册账号后可以直接登录"},{default:r(()=>[t(o,{modelValue:l.site_register_verify,"onUpdate:modelValue":e[1]||(e[1]=i=>l.site_register_verify=i),options:[{label:"自动审核",value:1},{label:"手动审核",value:2}]},null,8,["modelValue"])]),_:1}),t(s,{label:"次数限制",name:"ip_register_limit",tips:"一天内同个IP地址限制注册次数, 0表示不限制"},{default:r(()=>[t(_,{modelValue:l.ip_register_limit,"onUpdate:modelValue":e[2]||(e[2]=i=>l.ip_register_limit=i),theme:"normal",min:"0",clearable:"",placeholder:"请输入一天内同个IP地址限制注册次数",suffix:"次"},null,8,["modelValue"])]),_:1}),t(s,{label:"用户名称必填",name:"site_register_need_username",tips:"勾选否，则手机号或者邮箱必须勾选一个(将作为用户名)，否则注册无法进行"},{default:r(()=>[t(o,{modelValue:l.site_register_need_username,"onUpdate:modelValue":e[3]||(e[3]=i=>l.site_register_need_username=i),options:m},null,8,["modelValue"])]),_:1}),t(u,null,{default:r(()=>[...e[12]||(e[12]=[n("手机号",-1)])]),_:1}),t(s,{label:"手机号码必填",name:"site_register_need_mobile",tips:""},{default:r(()=>[t(o,{modelValue:l.site_register_need_mobile,"onUpdate:modelValue":e[4]||(e[4]=i=>l.site_register_need_mobile=i),options:m},null,8,["modelValue"])]),_:1}),l.site_register_need_mobile?(g(),b(s,{key:0,label:"验证手机号码",name:"site_register_need_mobile_check",tips:"是否验证 手机短信验证码"},{default:r(()=>[t(o,{modelValue:l.site_register_need_mobile_check,"onUpdate:modelValue":e[5]||(e[5]=i=>l.site_register_need_mobile_check=i),options:m},null,8,["modelValue"])]),_:1})):j("",!0),t(s,{label:"短信发送频率",name:"site_register_smscode_max_time",tips:"注册短信 发送频率限制, 0表示不限制;单位是秒，建议设置为60秒"},{default:r(()=>[t(_,{modelValue:l.site_register_smscode_max_time,"onUpdate:modelValue":e[6]||(e[6]=i=>l.site_register_smscode_max_time=i),theme:"normal",min:"0",clearable:"",placeholder:"请输入注册短信 发送频率限制",suffix:"秒"},null,8,["modelValue"])]),_:1}),t(s,{label:"输错次数限制",name:"sms_error_limit",tips:"短信验证码输错次数限制, 0表示不限制"},{default:r(()=>[t(_,{modelValue:l.sms_error_limit,"onUpdate:modelValue":e[7]||(e[7]=i=>l.sms_error_limit=i),theme:"normal",min:"0",clearable:"",placeholder:"请输入短信验证码输错次数限制",suffix:"次"},null,8,["modelValue"])]),_:1}),t(s,{label:"输错次数超限禁用时间",name:"sms_error_time",tips:"短信验证码输错次数超限禁用时间（分钟）, 0表示不限制"},{default:r(()=>[t(_,{modelValue:l.sms_error_time,"onUpdate:modelValue":e[8]||(e[8]=i=>l.sms_error_time=i),theme:"normal",min:"0",clearable:"",placeholder:"请输入短信验证码输错次数超限禁用时间（分钟）",suffix:"分钟"},null,8,["modelValue"])]),_:1}),t(u,null,{default:r(()=>[...e[13]||(e[13]=[n("邮箱",-1)])]),_:1}),t(s,{label:"邮箱地址必填",name:"site_register_need_email",tips:""},{default:r(()=>[t(o,{modelValue:l.site_register_need_email,"onUpdate:modelValue":e[9]||(e[9]=i=>l.site_register_need_email=i),options:m},null,8,["modelValue"])]),_:1}),t(s,{label:"开启邮件验证",name:"site_register_need_email_check",tips:"是否验证 邮箱"},{default:r(()=>[t(o,{modelValue:l.site_register_need_email_check,"onUpdate:modelValue":e[10]||(e[10]=i=>l.site_register_need_email_check=i),options:m},null,8,["modelValue"])]),_:1}),t(s,{label:"验证码超时时间",name:"site_register_smscode_expire_time",tips:"验证码超时时间, 0表示不限制"},{default:r(()=>[t(_,{modelValue:l.site_register_smscode_expire_time,"onUpdate:modelValue":e[11]||(e[11]=i=>l.site_register_smscode_expire_time=i),theme:"normal",min:"0",clearable:"",placeholder:"请输入验证码超时时间",suffix:"秒"},null,8,["modelValue"])]),_:1}),t(s,null,{default:r(()=>[t(x,{size:"small"},{default:r(()=>[t(p,{theme:"primary",onClick:c},{default:r(()=>[...e[14]||(e[14]=[n("提交",-1)])]),_:1}),t(p,{theme:"default",variant:"base",type:"reset"},{default:r(()=>[...e[15]||(e[15]=[n("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["data"])]),_:1})}}});export{ue as default};
