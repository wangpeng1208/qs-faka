import{e as y,r as n,l as x,d as m,P as b,a3 as S,a4 as c,a7 as p,ab as C,A as w,f as u,B as K,I as P}from"./vue-bf422dc1.js";import{m as d}from"./analysis-a39da1cd.js";import{p as k}from"./global-0d825ba6.js";import B from"./RankCard-40125d9a.js";import{u as D,d as T}from"./index-b0aabda4.js";import z from"./row-search-33ac9ade.js";import{a as R,b as F}from"./ui-ba7aaa7e.js";import"./workbench-a46bbd49.js";import"./libs-51817cd7.js";import"./plugins-ca970193.js";import"./others-9f318174.js";import"./echarts-bf9d612c.js";import"./icons-a8498fb6.js";import"./collection-33c9e1be.js";import"./pay_type-9d7684c5.js";import"./base-847c52cc.js";const j=[{colKey:"user_id",title:"商户ID"},{colKey:"username",title:"商户名称"},{colKey:"count",title:"提交订单"},{colKey:"paid",title:"已付订单"},{colKey:"unpaid",title:"未付订单"},{colKey:"sum_money",title:"提交金额"},{colKey:"sum_actual_money",title:"商户收入"},{colKey:"sum_platform_money",title:"平台收入"}],A={class:"category-header c-flex"},ee=y({__name:"index",setup(I){const e=n({defaultPageSize:20,total:0,defaultCurrent:1}),l=n([]),r=x({}),s=n(!0),f=m(()=>s.value?"收起搜索":"展开搜索"),i=async(o={})=>{if(Object.assign(r,o),r.action==="export"){const a={...r},t=await d(a);T(t.data.url)}else{const a={page:e.value.defaultCurrent,limit:e.value.defaultPageSize,...r},{data:t}=await d(a);l.value=t.list,e.value={...e.value,total:t.total}}};i();const v=o=>{e.value.defaultCurrent=o.current,e.value.defaultPageSize=o.pageSize,i()},h=D(),_=m(()=>({offsetTop:h.isUseTabsRouter?48:0,container:`.${k}-layout`}));return(o,a)=>{const t=R,g=F;return b(),S(g,{title:"商户支付分析",class:"basic-container",bordered:!1},{actions:c(()=>[p("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=N=>s.value=!s.value)},C(f.value),1)]),default:c(()=>[p("div",A,[w(u(z,{ref:"searchFormRef",onSuccess:i},null,512),[[K,s.value]])]),u(t,{data:l.value,columns:P(j),"row-key":"id","vertical-align":"middle",hover:l.value.length>0,pagination:e.value,"header-affixed-top":_.value,"table-layout":"auto","max-height":"100%",onPageChange:v},{empty:c(()=>[]),_:1},8,["data","columns","hover","pagination","header-affixed-top"]),u(B,{style:{"margin-bottom":"20px"}})]),_:1})}}});export{ee as default};
