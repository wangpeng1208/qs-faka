import{u as Z,j as ee,k as te}from"./user-d6ebd118.js";import{t as oe}from"./table-2bc65021.js";import ie from"./collect-33cf6d0d.js";import{f as re}from"./date-97dddb73.js";import{_ as ne}from"./detail.vue_vue_type_script_setup_true_lang-3676cc59.js";import{_ as ae}from"./edit.vue_vue_type_script_setup_true_lang-f7c2995b.js";import se from"./message-7a4c9cc9.js";import{_ as me}from"./money.vue_vue_type_script_setup_true_lang-af335187.js";import{_ as le}from"./rate.vue_vue_type_script_setup_true_lang-2dbb7f1d.js";import{_ as pe}from"./role.vue_vue_type_script_setup_true_lang-1642c34a.js";import{_ as ce}from"./row-search.vue_vue_type_script_setup_true_lang-aa707d83.js";import{M as k}from"./index-ebc513dd.js";import{B as de}from"./index-3b3d7414.js";import{I as fe}from"./index-69f74367.js";import{L as ue}from"./index-e2e71093.js";import{P as _e}from"./index-ead660bf.js";import{D as ye}from"./index-7416fda7.js";import{S as he}from"./index-b206f515.js";import{T as ve}from"./index-f001b1b6.js";import{T as ke}from"./index-b0e918ce.js";import{C as ge}from"./index-0945ca82.js";import{d as xe,A as Ce,r as u,$ as Re,l as a,V as s,W as t,a0 as g,M as i,a1 as c,_ as n,u as d}from"./vue-51c2f431.js";import"./global-0d825ba6.js";import"./index-b07945fd.js";import"./omit-7a5ea809.js";import"./dep-0742ae64-e2730b23.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./index-3f5d4a71.js";import"./index-9aa638bc.js";import"./form-model-7023f79a.js";import"./_baseSet-75352e55.js";import"./close-circle-filled-9eb22673.js";import"./index-15716071.js";import"./useLengthLimit-207427cf.js";import"./browse-ff8f6fe8.js";import"./index-0cc724ca.js";import"./index-c22455b5.js";import"./dialog-2582254b.js";import"./dep-581cd4f1-7aa320e3.js";import"./libs-1cd01688.js";import"./plugins-ccea0c8f.js";import"./others-24e1b5c5.js";import"./echarts-a13411ed.js";import"./index-def21792.js";import"./index-70c93031.js";import"./index-38503678.js";import"./index-06e12687.js";import"./index-31ca20e2.js";import"./fake-arrow-cad1ce15.js";import"./index-e2b6bb2b.js";import"./index-7eef5ecd.js";import"./index-d5e568e3.js";import"./index-8fdc26dc.js";import"./dep-ef1abd17-ab5403a7.js";import"./add-06b22f1a.js";import"./role-0ff62a5d.js";import"./index-177e8cb4.js";import"./index-b3f3b742.js";import"./index-cda4d585.js";import"./index-78761eb8.js";import"./chevron-right-0650800f.js";import"./ellipsis-f8b55775.js";import"./_baseDifference-5ee4bc76.js";import"./plugin-41574ab4.js";import"./dep-b10d5f92-ed24a547.js";const we=[{colKey:"id",title:"ID",width:"80px"},{colKey:"username",title:"账号",width:"180px"},{colKey:"mobile",title:"手机",width:"180px"},{colKey:"idcard_number",title:"身份证号码",width:"180px"},{colKey:"money",title:"余额",width:"90px"},{colKey:"freeze_money",title:"冻结金额",width:"160px"},{colKey:"status",title:"状态",width:"90px"},{colKey:"is_freeze",title:"冻结",width:"90px"},{colKey:"complaint_count",title:"投诉数",width:"90px"},{colKey:"create_at",title:"注册时间",cell(x,y){return x("span",re(y.row.create_at))},width:"180px"},{colKey:"operate",title:"操作",width:"120px",fixed:"right"}],$e={class:"category-header c-flex"},Ke={class:"category-header c-flex"},be={class:"l"},De={calss:"edit",style:{float:"left",height:"30px"}},Ot=xe({__name:"index",setup(x){const y=Ce({}),{pagination:B,fetchData:_,dataLoading:M,headerAffixedTop:V,rehandlePageChange:I,lists:C,searchData:L}=oe({fetchFun:te,params:y});_();const R=u(),N=o=>{var e;(e=R.value)==null||e.init(o)},j=async o=>{const e=await Z({user_id:o});e.code===1?(k.success(e.msg),_()):k.error(e.msg)},w=u(),A=o=>{var e;(e=w.value)==null||e.init(o)},$=u(),F=o=>{var e;(e=$.value)==null||e.init(o)},K=u(),O=o=>{var e;(e=K.value)==null||e.init(o)},b=u(),W=o=>{var e;(e=b.value)==null||e.init(o)},h=u([""]),q=o=>{h.value.includes(o)?h.value=[]:h.value=[o]},D=u(),E=o=>{var e;(e=D.value)==null||e.init(o)},G=o=>{Object.assign(y,o),L()},P=u(),S=o=>{var e;(e=P.value)==null||e.init(o)},H=async o=>{const e=await ee({id:o});e.code===1?(k.success(e.msg),_()):k.error(e.msg)};return(o,e)=>{const J=de,f=fe,m=ue,Q=_e,U=ye,T=he,v=ve,X=ke,Y=ge,l=Re("perms");return a(),s(Y,{title:"用户管理",class:"basic-container",bordered:!1},{default:t(()=>{var z;return[g("div",$e,[i(ce,{ref:"searchFormRef",onSuccess:G},null,512)]),g("div",Ke,[g("div",be,[c((a(),s(J,{theme:"primary",onClick:e[0]||(e[0]=r=>S(0))},{default:t(()=>[...e[1]||(e[1]=[n("添加",-1)])]),_:1})),[[l,["adminapi/merchant/user/add"]]])])]),i(X,{data:d(C),columns:d(we),"row-key":"id","expand-on-row-click":!1,"expanded-row-keys":h.value,"expand-icon":!1,hover:((z=d(C))==null?void 0:z.length)>0,pagination:d(B),"header-affixed-top":d(V),"max-height":"100%",loading:d(M),onPageChange:d(I)},{expandedRow:t(({row:r})=>[g("div",De,[i(T,null,{separator:t(()=>[i(U,{layout:"vertical"})]),default:t(()=>[c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>S(r.id)},{default:t(()=>[i(f,{name:"edit"}),e[2]||(e[2]=n(" 编辑 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/eidt"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>E(r.id)},{default:t(()=>[i(f,{name:"chat-message"}),e[3]||(e[3]=n(" 发送消息 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/message"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>W(r.id)},{default:t(()=>[i(f,{name:"currency-exchange"}),e[4]||(e[4]=n(" 资金管理 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/money"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>A(r.id)},{default:t(()=>[i(f,{name:"currency-exchange"}),e[5]||(e[5]=n(" 收款信息 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/collectDetail"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>O(r.id)},{default:t(()=>[i(f,{name:"bookmark"}),e[6]||(e[6]=n(" 分配角色 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/role"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>F(r)},{default:t(()=>[i(f,{name:"application"}),e[7]||(e[7]=n(" 设置费率 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/rate"]]]),c((a(),s(m,{theme:"primary",hover:"color",onClick:p=>j(r.id)},{default:t(()=>[i(f,{name:"lock-off"}),e[8]||(e[8]=n(" 登录解锁 ",-1))]),_:1},8,["onClick"])),[[l,["adminapi/merchant/user/unlock"]]]),i(Q,{content:"确认删除吗",onConfirm:p=>H(r.id)},{default:t(()=>[c((a(),s(m,{theme:"danger",hover:"color"},{default:t(()=>[i(f,{name:"delete"}),e[9]||(e[9]=n(" 删除 ",-1))]),_:1})),[[l,["adminapi/merchant/user/del"]]])]),_:1},8,["onConfirm"])]),_:2},1024)])]),status:t(({row:r})=>[r.status===1?(a(),s(v,{key:0,variant:"light",theme:"success"},{default:t(()=>[...e[10]||(e[10]=[n("启用",-1)])]),_:1})):(a(),s(v,{key:1,variant:"light",theme:"danger"},{default:t(()=>[...e[11]||(e[11]=[n("禁用",-1)])]),_:1}))]),is_freeze:t(({row:r})=>[r.is_freeze===1?(a(),s(v,{key:0,variant:"light",theme:"danger"},{default:t(()=>[...e[12]||(e[12]=[n("是",-1)])]),_:1})):(a(),s(v,{key:1,variant:"light",theme:"success"},{default:t(()=>[...e[13]||(e[13]=[n("否",-1)])]),_:1}))]),operate:t(({row:r})=>[i(T,null,{default:t(()=>[i(m,{theme:"primary",size:"small",onClick:p=>N(r)},{default:t(()=>[...e[14]||(e[14]=[n("详情",-1)])]),_:1},8,["onClick"]),i(m,{theme:"primary",size:"small",onClick:p=>q(r.id)},{default:t(()=>[...e[15]||(e[15]=[n("操作",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["data","columns","expanded-row-keys","hover","pagination","header-affixed-top","loading","onPageChange"]),i(ae,{ref_key:"editRef",ref:P,onSuccess:d(_)},null,8,["onSuccess"]),i(me,{ref_key:"moneyRef",ref:b,onSuccess:d(_)},null,8,["onSuccess"]),i(se,{ref_key:"messageRef",ref:D},null,512),i(pe,{ref_key:"roleRef",ref:K},null,512),i(le,{ref_key:"rateRef",ref:$},null,512),i(ie,{ref_key:"collectRef",ref:w},null,512),i(ne,{ref_key:"detailRef",ref:R},null,512)]}),_:1})}}});export{Ot as default};
