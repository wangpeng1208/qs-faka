import{_ as G}from"./bg_index3-eb28e339.js";import{d as J,a2 as K,r as a,A as Y,l as r,m as g,M as s,a0 as e,a3 as i,a6 as H,a4 as c,W as n,_ as y,V as x,u as Z}from"./vue-d500b9b9.js";import{q as ee}from"./complaint-64afe11e.js";import{q as te}from"./order-65d9690c.js";import{M as C,c as le,L as oe,_ as ae}from"./index-6b6fbd51.js";import{f as se}from"./date-69e2f1fa.js";import ne from"./ComplaintDeatil-4509d131.js";import re from"./MiniHeader-ea49d5ca.js";import{S as ie}from"./index-18bbad02.js";import{I as ue}from"./index-757197b9.js";import{B as de}from"./index-c63cfed1.js";import{F as pe,a as me}from"./index-0fff1870.js";import{D as ve}from"./index-f937956d.js";import{C as ce,R as _e}from"./index-2146274c.js";import{S as fe}from"./index-0fc44882.js";import"./libs-d79b82a8.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";import"./echarts-415f4206.js";import"./index-c2baa02d.js";import"./index-d44b8ee5.js";import"./isNil-c75b1b34.js";import"./index-2c7f6dfc.js";import"./index-36f139e2.js";import"./omit-82a91481.js";import"./index-c2a11f34.js";import"./index-55947ee7.js";import"./dep-581cd4f1-15e6aa5c.js";import"./PlaintDialog-d9a1b034.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-0742ae64-0833915c.js";import"./fake-arrow-d40b6f7e.js";import"./index-424a7ec0.js";import"./_baseSet-c1826ef2.js";import"./index-b8d4edf9.js";import"./dep-34b004f3-3e1a5725.js";import"./close-circle-filled-3424a47b.js";import"./index-5be2c846.js";import"./index-e205a427.js";import"./useLengthLimit-14a00f39.js";import"./browse-35e2443f.js";import"./form-model-0fc8dc05.js";import"./dialog-8ec74ee0.js";const ye={id:"index",class:"order-wrapper"},be={class:"order-banner"},ge={class:"container"},xe={class:"order-search"},ke={class:"order-search-box"},we={class:"item"},Te={class:"input-group"},he={style:{width:"100%",display:"flex"}},Ce={style:{width:"20%"}},Ve={style:{width:"20%"}},qe={class:"order"},Me={key:0,class:"container"},Se={class:"order-list"},Be={class:"h",style:{display:"flex","justify-content":"space-between","align-items":"center"}},De={style:{"max-width":"303px"}},Le={style:{"text-align":"center"}},Re={style:{}},Ue=["innerHTML"],He={class:"remark"},Ie=["innerHTML"],Ne={class:"remark"},ze={class:"contact-content"},Qe={key:0},$e={key:1},je={key:2},Ae=J({__name:"index",setup(Fe){const I=K(),{tscx:N,orderId:M}=I.currentRoute.value.query,o=a({value:"1",label:"订单查询",text:"轻松查询订单,即刻享受卡密自动交易",submitText:"查询订单"});N&&(o.value={value:"2",label:"投诉查询",text:"轻松查询投诉,保障您的消费权益",submitText:"查询投诉"});const z=[{label:"订单查询",value:"1"},{label:"投诉查询",value:"2"}],Q=v=>{v.value==="1"?(o.value.text="轻松查询订单,即刻享受卡密自动交易",o.value.submitText="查询订单"):(o.value.text="轻松查询投诉,保障您的消费权益",o.value.submitText="查询投诉"),o.value=v},V=a(!1),_=a("");M&&(_.value=M);const S=a(3),b=a(""),B=a(""),p=a({trade_no:"Dd240318072806b1a72b16",create_at:1,total_price:"",quantity:"",status:0}),D=a(""),k=a({name:"",remark:""}),f=a({wechat:"",mobile:"",qq:""}),w=a(!1),T=a(!1),m=a(""),L=a(),R=async()=>{var t;if(!_.value.length){C.error("请输入订单号！");return}let v=2;/^1[3456789]\d{9}$/.test(_.value)&&(v=3),S.value=v,V.value=!1,w.value=!0;try{let l;if(o.value.value==="1"?l=await te({orderid:_.value,queryType:S.value,pwd:m.value}):l=await ee({trade_no:_.value,pwd:m.value}),w.value=!1,l.code===1001){T.value=!0;return}if(l.code===0){C.error(l.msg);return}o.value.value==="1"?(p.value=l.data.order,b.value=l.data.outCards,B.value=b.value.replace(/\n/g,"<br />"),D.value=l.data.paytype,k.value=l.data.goods,f.value=l.data.shop.shop_contact,V.value=!0,T.value=!1,m.value=""):(t=L.value)==null||t.init(l.data)}catch{w.value=!1,C.error("查询出错")}},U=Y({content:"查询",loading:!1}),$=()=>{m.value?(U.content="查询中...",U.loading=!0,R()):C.error("请输入查询密码")},j=()=>{const v=`${k.value.name}-${p.value.trade_no}.txt`,t=b.value,l=window.URL.createObjectURL(new Blob([t])),u=document.createElement("a");u.style.display="none",u.href=l,u.setAttribute("download",v),document.body.appendChild(u),u.click()},A=()=>{le(b.value)};return(v,t)=>{const l=ie,u=ue,h=de,F=pe,O=me,X=ve,q=ce,E=fe,P=_e,W=oe;return r(),g("div",ye,[s(re),e("div",be,[e("div",ge,[e("dl",null,[t[5]||(t[5]=e("dt",null,[e("img",{src:G,style:{transform:"scaleX(-1)",height:"150px"}})],-1)),e("dd",null,i(o.value.text),1)]),e("div",xe,[e("div",ke,[e("div",we,[e("div",Te,[e("div",he,[e("div",Ce,[t[6]||(t[6]=e("span",null,"查询类型",-1)),s(l,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=d=>o.value=d),class:"searchType","value-type":"object",size:"large",options:z,onChange:Q},null,8,["modelValue"])]),e("div",{style:H(o.value.value=="2"?"width:30%;margin-right: 20px;":"width: 60%;margin-right: 20px;")},[t[7]||(t[7]=e("span",null,"订单号",-1)),s(u,{modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=d=>_.value=d),class:"orderid_input",size:"large",placeholder:"请输入订单号"},null,8,["modelValue"])],4),o.value.value=="2"?(r(),g("div",{key:0,style:H(o.value.value=="2"?"width:30%;margin-right: 20px;":"")},[t[8]||(t[8]=e("span",null,"查询密码",-1)),s(u,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=d=>m.value=d),class:"orderid_input",size:"large",placeholder:"请输入查询密码"},null,8,["modelValue"])],4)):c("",!0),e("div",Ve,[t[9]||(t[9]=e("span",null,"查询类型",-1)),s(h,{class:"order-btn",onClick:R},{default:n(()=>[y(i(o.value.submitText),1)]),_:1})])])])]),t[10]||(t[10]=e("div",{class:"p d-none d-lg-block"},[e("span",null,"免责声明："),y("平台不参与商品售卖，如需售后请点击联系商家，若需要平台介入售后：可在【订单投诉】等待平台处理。(且平台只处理24小时内订单)")],-1))])])])]),s(X,{visible:T.value,"onUpdate:visible":t[4]||(t[4]=d=>T.value=d),"close-on-overlay-click":!1,header:"提示",mode:"modal",draggable:"","confirm-btn":"确定","on-confirm":$},{body:n(()=>[s(O,{ref:"form","label-align":"top"},{default:n(()=>[s(F,{label:"",name:"name"},{default:n(()=>[s(u,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=d=>m.value=d),placeholder:"请输入查询密码",style:{width:"500px"}},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["visible"]),e("div",qe,[V.value?(r(),g("div",Me,[s(P,null,{default:n(()=>[p.value?c("",!0):(r(),x(q,{key:0,class:"col-lg-12"},{default:n(()=>[...t[11]||(t[11]=[e("div",{class:"no-order"},[e("p",null,"没有查询到订单信息")],-1)])]),_:1})),p.value.status==0?(r(),x(q,{key:1,class:"col-lg-12"},{default:n(()=>[...t[12]||(t[12]=[e("div",{class:"no-order"},[e("p",null,"订单未支付")],-1)])]),_:1})):(r(),x(q,{key:2,span:12},{default:n(()=>[e("div",Se,[s(h,null,{default:n(()=>[y("订单号："+i(p.value.trade_no),1)]),_:1}),e("div",Be,[e("dl",null,[t[13]||(t[13]=e("dt",null,"下单时间",-1)),e("dd",null,i(Z(se)(p.value.create_at)),1)]),e("dl",null,[t[14]||(t[14]=e("dt",null,"付款方式",-1)),e("dd",null,i(D.value),1)]),e("dl",null,[t[15]||(t[15]=e("dt",null,"支付金额",-1)),e("dd",null,i(p.value.total_price)+"元",1)]),e("dl",null,[t[16]||(t[16]=e("dt",null,"已发卡密",-1)),e("dd",null,"发放卡密"+i(p.value.quantity)+"张",1)]),e("dl",null,[t[17]||(t[17]=e("dt",null,"商品名称",-1)),e("dd",De,i(k.value.name),1)])]),e("div",Le,[s(E,null,{default:n(()=>[b.value?(r(),x(h,{key:0,onClick:j},{default:n(()=>[...t[18]||(t[18]=[y("导出卡密",-1)])]),_:1})):c("",!0),b.value?(r(),x(h,{key:1,tip:"点击复制",onClick:A},{default:n(()=>[...t[19]||(t[19]=[y("复制卡密",-1)])]),_:1})):c("",!0)]),_:1})]),e("div",Re,[e("div",{id:"copyText",innerHTML:B.value},null,8,Ue),e("div",He,[t[20]||(t[20]=e("span",null,"使用说明",-1)),e("div",{innerHTML:k.value.remark},null,8,Ie)]),e("div",Ne,[t[21]||(t[21]=e("span",null,"联系商家",-1)),e("div",ze,[f.value.mobile?(r(),g("div",Qe,[e("span",null,"手机号："+i(f.value.mobile),1)])):c("",!0),f.value.qq?(r(),g("div",$e,[e("span",null,"QQ号："+i(f.value.qq),1)])):c("",!0),f.value.wechat?(r(),g("div",je,[e("span",null,"微信号："+i(f.value.wechat),1)])):c("",!0)])])])])]),_:1}))]),_:1})])):c("",!0)]),s(W,{loading:w.value,text:"加载中...",fullscreen:""},null,8,["loading"]),t[22]||(t[22]=e("div",{class:"container copyright"},[y(" 防骗提示：如果您查询卡密时发现有以下情况,证明您很有可能被骗,请及时与快发卡客服联系 "),e("br"),y(' 1.卡密内容为"联系XX取卡"、"付款成功，等待充值" 2.以各种理由推脱到第二天发货 3.商品有问题，卖家不售后 4.承诺充值返现 5.购买的商品为实物，需要快递发货 ')],-1)),s(ne,{ref_key:"complaintDeatilRef",ref:L},null,512)])}}});const Rt=ae(Ae,[["__scopeId","data-v-80bb48e3"]]);export{Rt as default};
