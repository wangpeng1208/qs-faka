import{aB as Ut,aA as Ge,ac as bt,X as Wt,Y as Yt,Z as Gt,m as z,W as ce,G as we,q as S,ag as he,s as se,D as ae,ak as Jt,al as Xt,N as Re,K as pe,l as qt,n as Zt,p as mt,I as kt,t as Be,w as Ae,ba as $e,T as ve,P as Ie,F as X,bi as Qt,bb as ze,ai as er,aO as tr,C as de,b6 as Ct,J as Te,am as rr,L as nr,R as ar,bC as ir,b8 as lr,b5 as or,H as sr,at as ur}from"./index-ebc513dd.js";import{I as dr}from"./index-15716071.js";import{P as cr}from"./index-7eef5ecd.js";import{d as ge,b as L,M,r as H,w as q,h as vr,j as St,t as De,N as Ne,F as Ke,n as fr,A as xt,o as He,J as pr,af as hr,a1 as Je,aa as Xe}from"./vue-51c2f431.js";import{a as qe,A as Ze,E as Qe}from"./dep-34b004f3-3e1a5725.js";import{_ as xe,a as ne}from"./dep-0742ae64-e2730b23.js";import{c as gr}from"./index-d5e568e3.js";import{i as Ot}from"./isNil-c75b1b34.js";import{b as yr,o as br}from"./omit-7a5ea809.js";import{b as mr}from"./_baseDifference-5ee4bc76.js";import{p as kr,S as Cr}from"./index-e2b6bb2b.js";import{F as Sr}from"./fake-arrow-cad1ce15.js";import{i as ue}from"./form-model-7023f79a.js";var xr=Ut(function(a,t){return Ge(a)?mr(a,yr(t,1,Ge,!0)):[]});const et=xr;var Pt=/[\\^$.*+?()[\]{}|]/g,Or=RegExp(Pt.source);function Et(a){return a=bt(a),a&&Or.test(a)?a.replace(Pt,"\\$&"):a}var Pr=0;function Er(a){var t=++Pr;return bt(a)+t}function tt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function rt(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(e),!0).forEach(function(r){Gt(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):tt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var Nr={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M14.9999 12L9.49988 6.5L9.49988 17.5L14.9999 12Z"}}]},wr=ge({name:"CaretRightSmallIcon",props:{size:{type:String},onClick:{type:Function}},setup(a,t){var{attrs:e}=t,r=L(()=>a.size),{className:n,style:i}=Wt(r),o=L(()=>["t-icon","t-icon-caret-right-small",n.value]),l=L(()=>rt(rt({},i.value),e.style)),s=L(()=>({class:o.value,style:l.value,onClick:d=>{var u;return(u=a.onClick)===null||u===void 0?void 0:u.call(a,{e:d})}}));return()=>Yt(Nr,s.value)}});const Ar=wr;/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ir={autofocus:Boolean,borderless:Boolean,clearable:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:{type:Boolean,default:!0},highlightKeyword:{type:Boolean,default:!0},inputProps:{type:Object},options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},readonly:{type:Boolean,default:void 0},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},status:{type:String,default:"default",validator:function(t){return t?["default","success","warning","error"].includes(t):!0}},textareaProps:{type:Object},tips:{type:[String,Function]},triggerElement:{type:[String,Function]},value:{type:String,default:void 0},modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},onBlur:Function,onChange:Function,onClear:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onSelect:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Nt=ge({name:"HighlightOption",props:{content:String,keyword:String},setup:function(t){var e=z(),r=L(function(){var n,i=t.content,o=t.keyword;if(!i)return{list:[]};if(!ce(i)||!o)return{list:[i]};var l=new RegExp(Et(o),"i"),s=(n=i.match(l))===null||n===void 0?void 0:n[0];return{list:i.split(s),keyword:s}});return function(){var n=r.value,i=n.list,o=n.keyword;return M("div",{class:"".concat(e.value,"-select-option__highlight-item")},[i.map(function(l,s){return s?[M("b",{class:"".concat(e.value,"-is-highlight"),key:l+o},[o]),l]:l})])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function nt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function at(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):nt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var Dr=ge({name:"AutoCompleteOptionList",props:{sizeClassNames:Object,value:String,size:String,options:Array,popupVisible:Boolean,highlightKeyword:Boolean,filterable:Boolean,filter:Function,empty:[String,Function]},emits:["select"],setup:function(t,e){var r=e.emit,n=e.slots,i=e.expose,o=H(""),l=z(),s=we("autoComplete"),d=s.globalConfig,u=L(function(){return"".concat(l.value,"-select__list")}),g=L(function(){return["".concat(l.value,"-select-option"),S({},t.sizeClassNames.value[t.size],t.size)]}),v=L(function(){var k=(t.options||[]).map(function(f){var p={};return ce(f)?p={text:f,label:f}:(f.text&&!ce(f.text)&&he.warn("AutoComplete","`text` must be a string."),f.text?p=f:ce(f.label)?p=at(at({},f),{},{text:f.label}):he.warn("AutoComplete","one of `label` and `text` must be a existed string.")),p});if(t.filter)k=k.filter(function(f){return t.filter(t.value,f)});else if(t.filterable){var m=new RegExp(Et(t.value),"i");k=k.filter(function(f){return m.test(f.text)})}return k}),c=function(m){for(var f=m.target;f&&f.tagName!=="LI";)f=f.parentNode;var p=f.getAttribute("title");o.value=p,r("select",p,{e:m})},h=function(m){if(qe.test(m.code)||qe.test(m.key)){var f,p=v.value.findIndex(function(F){return F.text===o.value}),b=p-1<0?v.value.length-1:p-1;o.value=(f=v.value[b])===null||f===void 0?void 0:f.text}else if(Ze.test(m.code)||Ze.test(m.key)){var P,A=v.value.findIndex(function(F){return F.text===o.value}),O=A+1>=v.value.length?0:A+1;o.value=(P=v.value[O])===null||P===void 0?void 0:P.text}else(Qe.test(m.code)||Qe.test(m.key))&&o.value&&r("select",o.value,{e:m})},y=function(){Jt(document,"keydown",h)},C=function(){Xt(document,"keydown",h)};return i({addKeyboardListener:y,removeKeyboardListener:C}),q(function(){return t.popupVisible},function(){t.popupVisible?y():C()},{immediate:!0}),q(function(){return t.value},function(){t.value||(o.value="")},{immediate:!0}),vr(function(){C()}),function(){return v.value.length?M("ul",{class:u.value},[v.value.map(function(k){var m=se(g.value);k.text===o.value&&m.push("".concat(l.value,"-select-option--hover"));var f=k.label;if(ae(k.label))f=k.label(St);else if(n.option){var p;f=(p=n.option)===null||p===void 0?void 0:p.call(n,{option:k})}var b=f||k.text;return M("li",{key:k.text,class:m,title:k.text,onClick:c},[ce(b)&&t.highlightKeyword?M(Nt,{content:b,keyword:t.value},null):b])})]):M("div",{class:"".concat(l.value,"-auto-complete__panel--empty")},[t.empty||d.value.empty])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function it(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function U(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?it(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):it(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function _r(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ke(a)}var Mr=ge({name:"TAutoComplete",props:Ir,setup:function(t,e){var r=e.slots,n=De(t),i=n.value,o=n.modelValue,l=Re(i,o,t.defaultValue,t.onChange),s=pe(l,2),d=s[0],u=s[1],g=qt(),v=Be(),c=Zt(),h=c.classPrefix,y=c.SIZE,C=we("input"),k=C.globalConfig,m=mt(),f=kt(),p=H(),b=H(),P=function(I,j){var w,K=I.getBoundingClientRect().width||I.offsetWidth||I.clientWidth,G=j.getBoundingClientRect().width||j.offsetWidth||j.clientWidth;return U({width:K>=G?"".concat(K,"px"):"auto"},(w=t.popupProps)===null||w===void 0?void 0:w.overlayInnerStyle)},A=L(function(){return["".concat(h.value,"-auto-complete")]}),O=L(function(){var D,I=["".concat(h.value,"-select__dropdown")];return(D=t.popupProps)!==null&&D!==void 0&&D.overlayClassName&&(I=I.concat(t.popupProps.overlayClassName)),I}),F=L(function(){var D,I=["".concat(h.value,"-select__dropdown-inner")];return(D=t.popupProps)!==null&&D!==void 0&&D.overlayInnerClassName&&(I=I.concat(t.popupProps.overlayInnerClassName)),I}),B=function(I,j){u(I,j)},W=L(function(){var D=U({value:d.value,size:t.size},t.inputProps);return D}),R=function(I,j){var w;f.value||m.value||(p.value=!0,(w=t.onFocus)===null||w===void 0||w.call(t,U(U({},j),{},{value:I})),fr(function(){var K;(K=b.value)===null||K===void 0||K.addKeyboardListener()}))},Z=function(I,j){var w;(w=t.onBlur)===null||w===void 0||w.call(t,U(U({},j),{},{value:I}))},ie=function(I,j){var w;(w=t.onCompositionend)===null||w===void 0||w.call(t,U(U({},j),{},{value:I}))},Q=function(I,j){var w;(w=t.onCompositionstart)===null||w===void 0||w.call(t,U(U({},j),{},{value:I}))},ee=function(I,j){var w;(w=t.onEnter)===null||w===void 0||w.call(t,U(U({},j),{},{value:I}))},Y=function(I,j){var w;f.value||m.value||(p.value=!1,u(I,j),(w=t.onSelect)===null||w===void 0||w.call(t,I,j))},V=function(I,j){var w=j.trigger;f.value||m.value||w!=="trigger-element-click"&&(p.value=I)};return function(){var D,I=g("default","triggerElement")||M(dr,Ne({borderless:t.borderless,placeholder:(D=t.placeholder)!==null&&D!==void 0?D:k.value.placeholder,tips:t.tips,status:t.status,readonly:f.value,disabled:m.value,autofocus:t.autofocus,clearable:t.clearable,onChange:B,onFocus:R,onBlur:Z,onClear:t.onClear,onCompositionend:ie,onCompositionstart:Q,onEnter:ee},W.value),r),j=Array.isArray(t.options)&&M(Dr,{ref:b,value:d.value,options:t.options,size:t.size,sizeClassNames:y,onSelect:Y,popupVisible:p.value,highlightKeyword:t.highlightKeyword,filterable:t.filterable,filter:t.filter,empty:v("empty")},{option:r.option}),w=v("panelTopContent"),K=v("panelBottomContent"),G=w||j||K?M("div",{class:"".concat(h.value,"-auto-complete__panel")},[w,j,K]):null,me=U(U({},t.popupProps),{},{overlayInnerStyle:P,overlayInnerClassName:F.value,overlayClassName:O.value});return M("div",{class:A.value},[M(cr,Ne({visible:p.value,onVisibleChange:V,trigger:"focus",placement:"bottom-left",hideEmptyPopup:!0,content:G?function(){return G}:null},me),_r(I)?I:{default:function(){return[I]}})])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ln=Ae(Mr);Ae(Nt);function jr(a){return{all:a=a||new Map,on:function(t,e){var r=a.get(t);r?r.push(e):a.set(t,[e])},off:function(t,e){var r=a.get(t);r&&(e?r.splice(r.indexOf(e)>>>0,1):a.set(t,[]))},emit:function(t,e){var r=a.get(t);r&&r.slice().map(function(n){n(e)}),(r=a.get("*"))&&r.slice().map(function(n){n(t,e)})}}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var T="__tdesign_tree-node__",Fr=function(){function a(t){ze(this,a),S(this,T,void 0),this[T]=t}return $e(a,[{key:"value",get:function(){var e=this[T];return e.value}},{key:"label",get:function(){var e=this[T];return e.label}},{key:"data",get:function(){var e=this[T];return e.data}},{key:"actived",get:function(){var e=this[T];return e.actived}},{key:"expanded",get:function(){var e=this[T];return e.expanded}},{key:"checked",get:function(){var e=this[T];return e.checked}},{key:"indeterminate",get:function(){var e=this[T];return e.indeterminate}},{key:"loading",get:function(){var e=this[T];return e.loading}},{key:"disabled",get:function(){var e=this[T];return e.isDisabled()}},{key:"getLevel",value:function(){var e=this[T];return e.getLevel()}},{key:"getIndex",value:function(){var e=this[T];return e.getIndex()}},{key:"isFirst",value:function(){var e=this[T];return e.isFirst()}},{key:"isLast",value:function(){var e=this[T];return e.isLast()}},{key:"isLeaf",value:function(){var e=this[T];return e.isLeaf()}},{key:"insertBefore",value:function(e){var r=this[T];return r.insertBefore(e)}},{key:"insertAfter",value:function(e){var r=this[T];return r.insertAfter(e)}},{key:"appendData",value:function(e){var r=this[T];return r.append(e)}},{key:"getPath",value:function(){var e=this[T],r=e.getPath();return r.map(function(n){return n.getModel()})}},{key:"getParent",value:function(){var e,r=this[T];return(e=r.parent)===null||e===void 0?void 0:e.getModel()}},{key:"getParents",value:function(){var e=this[T],r=e.getParents();return r.map(function(n){return n.getModel()})}},{key:"getRoot",value:function(){var e=this[T],r=e.getRoot();return r==null?void 0:r.getModel()}},{key:"getSiblings",value:function(){var e=this[T],r=e.getSiblings();return r.map(function(n){return n.getModel()})}},{key:"getChildren",value:function(e){var r=this[T],n=!1,i=r.children;if(Array.isArray(i))if(i.length>0)if(e){var o=r.walk();o.shift(),n=o.map(function(l){return l.getModel()})}else n=i.map(function(l){return l.getModel()});else n=!1;else Ie(i)&&(n=i);return n}},{key:"remove",value:function(e){var r=this[T];if(!e){r.remove();return}var n=r.tree,i=n.getNode(e);if(!i){he.warnOnce("Tree","`".concat(e,"` is not exist"));return}var o=i.getParents(),l=o.map(function(s){return s.value});if(l.indexOf(r.value)<0){he.warnOnce("Tree","`".concat(e,"` is not a childNode of current node"));return}i.remove()}},{key:"setData",value:function(e){var r=this[T],n=["value","label","disabled"],i=br(e,["children"].concat(n)),o=r.tree.config.keys;n.forEach(function(l){var s=X(e,(o==null?void 0:o[l])||l);er(s)||(i[l]=s)}),Object.assign(r.data,i),Object.assign(r,i),r.update()}}])}();function Lr(a){var t=new Fr(a);return t}function lt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function Se(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?lt(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):lt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var Tr=Object.prototype.hasOwnProperty,wt={expandMutex:null,activable:null,checkable:null,draggable:null,loading:!1},Vr=Object.keys(wt),Rr=[].concat(Vr,["actived","expanded","checked"]),le="__tdesign_id__",ye=function(){function a(t,e,r){var n=this;ze(this,a),S(this,"tree",void 0),S(this,le,void 0),S(this,"value",void 0),S(this,"label",void 0),S(this,"data",void 0),S(this,"parent",void 0),S(this,"children",void 0),S(this,"model",void 0),S(this,"vmIsLeaf",void 0),S(this,"vmIsFirst",void 0),S(this,"vmIsLast",void 0),S(this,"vmIsRest",void 0),S(this,"vmIsLocked",void 0),S(this,"expanded",void 0),S(this,"expandMutex",void 0),S(this,"actived",void 0),S(this,"activable",void 0),S(this,"checkable",void 0),S(this,"vmCheckable",void 0),S(this,"checked",void 0),S(this,"indeterminate",void 0),S(this,"disabled",void 0),S(this,"draggable",void 0),S(this,"visible",void 0),S(this,"level",void 0),S(this,"loading",void 0),this.data=e,this.tree=t;var i=t.config||{},o=i.prefix||"t",l=i.keys||{},s=l.children||"children",d=l.label||"label",u=l.value||"value",g=l.disabled||"disabled";this.model=null,this.children=null,this.level=0,this.vmCheckable=!1,this.vmIsLeaf=!1,this.vmIsFirst=!1,this.vmIsLast=!1,this.vmIsRest=!1,this.vmIsLocked=!1,this.visible=!1,this.actived=!1,this.checked=!1,this.indeterminate=!1,this.loading=!1,this.expanded=i.expandAll,this.activable=null,this.checkable=null,this.expandMutex=null,this.draggable=null,this[le]=Er(o),this.value=Ot(X(e,u))?this[le]:X(e,u);var v=t.nodeMap,c=t.privateMap;v.get(this.value)&&he.warn("Tree","Dulplicate value: ".concat(this.value)),v.set(this.value,this),c.set(this[le],this),this.label=X(e,d)||"",this.disabled=X(e,g)||!1;var h=e[s];h===!0&&(this.children=h),r&&r instanceof a?this.parent=r:this.parent=null,Rr.forEach(function(y){typeof e[y]<"u"&&(n[y]=e[y])}),this.initActived(),this.initExpanded(),Array.isArray(h)?this.append(h):h===!0&&!i.lazy&&this.loadChildren(),this.initChecked(),this.updateChecked(),this.update(),t.reflow(this)}return $e(a,[{key:"initChecked",value:function(){var e=this.tree,r=this.value,n=this.parent,i=e.checkedMap,o=e.config.checkStrictly;this.checked&&i.set(r,!0),!o&&n!==null&&n!==void 0&&n.checked&&i.set(r,!0)}},{key:"initExpanded",value:function(){var e=this.tree,r=this.expanded,n=e.config;ve(n.expandLevel)&&this.getLevel()<n.expandLevel&&(e.expandedMap.set(this.value,!0),r=!0),this.children===!0&&n.lazy&&(r=!1),r?e.expandedMap.set(this.value,!0):e.expandedMap.delete(this.value),this.expanded=r}},{key:"initActived",value:function(){var e=this.tree,r=this.actived;r&&this.isActivable()&&e.activedMap.set(this.value,!0)}},{key:"append",value:function(e){var r=this,n=[];if(Array.isArray(e)?n.push.apply(n,se(e)):n.push(e),!(n.length<=0)){Array.isArray(this.children)||(this.children=[]);var i=this.children,o=this.tree;n.forEach(function(l){var s=null;l instanceof a?(s=l,s.appendTo(r.tree,r)):(s=new a(r.tree,l,r),i.push(s))}),o.reflow(this),this.updateRelated()}}},{key:"appendTo",value:function(e,r,n){var i=this,o=r,l=-1;ve(n)&&(l=n);var s=(o==null?void 0:o.getParents())||[],d=s.some(function(m){return m===i});if(d)throw new Error("无法将父节点插入到子节点");if(o===this)throw new Error("无法将节点插入到本节点");if(Array.isArray(o==null?void 0:o.children)){var u=o==null?void 0:o.children[l];if(u&&u===this)return}var g=null;if(o instanceof a?(Array.isArray(o==null?void 0:o.children)||(o.children=[]),g=r.children):g=e.children,!Array.isArray(g))throw new Error("无法插入到目标位置，可插入的节点列表不存在");var v=g.length,c=this.getIndex();if(this.remove(),ve(n)){var h=n;if(o===this.parent){var y=g.length;y<v&&c<=h&&(h-=1)}g.splice(h,0,this)}else g.push(this);this.parent=o;var C=this.walk();C.forEach(function(m){var f=m;f.tree=e,e.nodeMap.set(f.value,f),e.privateMap.set(f[le],f),f.expanded&&e.expandedMap.set(f.value,!0)});var k=(o==null?void 0:o.walk())||e.children.map(function(m){return m.walk()}).flat();k.forEach(function(m){m.update(),m.updateChecked()}),e.reflow()}},{key:"insert",value:function(e,r){var n=this.tree,i=this.parent,o=this.getSiblings(),l=null;e instanceof a?(l=e,l.appendTo(n,i,r)):e&&(l=new a(n,e,i),ve(r)&&o.splice(r,0,l),o.forEach(function(s){s.update()})),n.reflow()}},{key:"insertBefore",value:function(e){var r=this.getIndex();this.insert(e,r)}},{key:"insertAfter",value:function(e){var r=this.getIndex();this.insert(e,r+1)}},{key:"remove",value:function(){var e=this.tree,r=this.walk(),n=this.getSiblings(),i=this.getIndex();Array.isArray(n)&&n.splice(i,1),r.forEach(function(o){o.clean()}),n.forEach(function(o){o.update()}),this.updateParents(),e.reflow()}},{key:"clean",value:function(){var e=this.tree,r=this.value;e.activedMap.delete(r),e.checkedMap.delete(r),e.expandedMap.delete(r),e.nodeMap.delete(r),e.filterMap.delete(r),e.privateMap.delete(this[le])}},{key:"loadChildren",value:function(){var t=xe(ne.mark(function r(){var n,i;return ne.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=X(this,"tree.config")||{},!(this.children===!0&&!this.loading)){o.next=2;break}if(!ae(n.load)){o.next=2;break}return this.loading=!0,this.update(),i=[],o.next=1,n.load(this);case 1:i=o.sent,this.tree.emit("load",{node:this,data:i}),this.loading=!1,Array.isArray(i)&&i.length>0?this.append(i):this.children=!1,this.update();case 2:case"end":return o.stop()}},r,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"set",value:function(e){var r=this,n=this.tree,i=Object.keys(e);i.forEach(function(o){(Tr.call(wt,o)||o==="label")&&(r[o]=e[o]),o==="disabled"&&r.setDisabled(e[o])}),n.updated(this)}},{key:"getParent",value:function(){return this.parent}},{key:"getParents",value:function(){for(var e=[],r=this.parent;r;)e.push(r),r=r.parent;return e}},{key:"getSiblings",value:function(){var e=this.parent,r=this.tree,n=[];return e?Array.isArray(e.children)&&(n=e.children):r&&(n=r.children),n}},{key:"getChildren",value:function(e){var r=!1,n=this.children;if(Array.isArray(n))if(n.length>0)if(e){var i=this.walk();i.shift(),r=i.map(function(o){return o.getModel()})}else r=n.map(function(o){return o.getModel()});else r=!1;else Ie(n)&&(r=n);return r}},{key:"getRoot",value:function(){var e=this.getParents();return e[e.length-1]||null}},{key:"getIndex",value:function(){var e=this.getSiblings();return e.indexOf(this)}},{key:"getPath",value:function(){var e=this.getParents();return e.unshift(this),e.reverse()}},{key:"getLevel",value:function(){var e=this.getParents();return e.length}},{key:"isRest",value:function(){var e=this.tree,r=e.config,n=e.filterMap,i=e.hasFilter,o=!1;if(i){var l=this.getModel();o=r.filter(l)}return o?n.set(this.value,!0):n.get(this.value)&&n.delete(this.value),o}},{key:"isVisible",value:function(){var e=this.tree,r=e.nodeMap,n=e.hasFilter,i=e.config,o=i.allowFoldNodeOnFilter,l=!0;if(!r.get(this.value))return!1;if(n&&!o)return l=this.vmIsLocked||this.vmIsRest,l;var s=!0,d=this.getParents();return d.length>0&&(s=d.every(function(u){return u.expanded})),n?l=s&&(this.vmIsRest||this.vmIsLocked):l=s,l}},{key:"isDisabledState",value:function(){var e=this.tree,r=this.parent,n=e.config,i=n.disabled,o=n.disableCheck,l=n.checkStrictly,s=i||!1;return this.disabled&&(s=!0),!l&&r!==null&&r!==void 0&&r.isDisabledState()&&(s=!0),typeof o=="boolean"?o&&(s=!0):typeof o=="function"&&o(this.getModel())&&(s=!0),s}},{key:"isDisabled",value:function(){var e=this.tree,r=e.hasFilter,n=e.config,i=n.allowFoldNodeOnFilter;return r&&!i&&this.vmIsLocked&&!this.vmIsRest?!0:this.isDisabledState()}},{key:"isDraggable",value:function(){var e=!!X(this,"tree.config.draggable");return typeof this.draggable=="boolean"&&(e=this.draggable),e}},{key:"isExpandMutex",value:function(){var e=!!X(this,"tree.config.expandMutex");return typeof this.expandMutex=="boolean"&&(e=this.expandMutex),e}},{key:"isActivable",value:function(){var e=!!X(this,"tree.config.activable");return typeof this.activable=="boolean"&&(e=this.activable),e}},{key:"isCheckable",value:function(){var e=!!X(this,"tree.config.checkable");return typeof this.checkable=="boolean"&&(e=this.checkable),e}},{key:"isActived",value:function(e){var r=this.tree,n=this.value,i=e||r.activedMap;return!!(r.nodeMap.get(n)&&i.get(n))}},{key:"isExpanded",value:function(e){var r=this.tree,n=this.value,i=this.vmIsLocked,o=r.hasFilter,l=r.config,s=l.allowFoldNodeOnFilter;if(o&&!s&&i)return!0;var d=e||r.expandedMap;return!!(r.nodeMap.get(n)&&d.get(n))}},{key:"isChecked",value:function(e){var r=this.children,n=this.tree,i=this.value,o=n.config,l=o.checkStrictly,s=o.valueMode;if(!n.nodeMap.get(i)||!this.isCheckable())return!1;var d=e||n.checkedMap;if(l)return!!d.get(i);var u=!1;if(d.get(i)&&(s!=="onlyLeaf"||this.isLeaf()))return!0;if(Array.isArray(r)&&r.length>0)u=r.every(function(v){var c=v.isChecked(d);return c});else{var g=this.getParents();u=g.some(function(v){return d.get(v.value)})}return u}},{key:"isIndeterminate",value:function(){var e=this.children,r=this.tree,n=this.value,i=r.config.checkStrictly;if(!r.nodeMap.get(n)||!this.isCheckable()||i||!Array.isArray(e))return!1;var o=null,l=e.some(function(s){return!!(s.isIndeterminate()||(Qt(o)&&(o=s.isChecked()),o!==s.isChecked()))});return l}},{key:"isFirst",value:function(){var e=this.getSiblings();return e[0]===this}},{key:"isLast",value:function(){var e=this.getSiblings();return e[e.length-1]===this}},{key:"isLeaf",value:function(){var e=!1;return Array.isArray(this.children)?e=this.children.length<=0:e=!this.children,e}},{key:"lock",value:function(e){this.vmIsLocked=e,this.expanded=this.isExpanded(),this.visible=this.isVisible()}},{key:"afterExpanded",value:function(){this.update(),this.expanded&&this.children===!0&&this.loadChildren(),this.updateChildren()}},{key:"toggleExpanded",value:function(e){return this.setExpanded(!this.isExpanded(),e)}},{key:"setExpanded",value:function(e,r){var n=this.tree,i=n.config,o=Se({directly:!1},r),l=n.expandedMap;if(o.directly||(l=new Map(n.expandedMap)),e){var s=[];s.push(this),i.expandParent&&this.getParents().forEach(function(d){s.push(d)}),s.forEach(function(d){var u=!1;if(d.parent)u=d.parent.isExpandMutex();else{var g;u=n==null||(g=n.config)===null||g===void 0?void 0:g.expandMutex}if(u){var v=d.getSiblings();v.forEach(function(c){l.delete(c.value),c.update(),c.updateChildren()})}l.set(d.value,!0),d.update(),d.updateChildren()})}else l.delete(this.value);return o.directly&&this.afterExpanded(),n.getExpanded(l)}},{key:"toggleActived",value:function(e){return this.setActived(!this.isActived(),e)}},{key:"setActived",value:function(e,r){var n=this.tree,i=Se({isAction:!0,directly:!1},r),o=n.config||{},l=n.activedMap;if(i.directly||(l=new Map(n.activedMap)),i.isAction&&this.isDisabledState())return n.getActived(l);if(this.isActivable())if(e){var s=Array.from(l.keys());o.activeMultiple||l.clear(),s.forEach(function(d){var u=n.getNode(d);u==null||u.update()}),l.set(this.value,!0)}else l.delete(this.value);return this.update(),n.getActived(l)}},{key:"hasEnableUnCheckedChild",value:function(){var e=this.children;if(!Array.isArray(e)||e.length<=0)return!1;var r=!1;return e.some(function(n){return n.isDisabledState()||n.isChecked()?!1:n.isIndeterminate()?n.hasEnableUnCheckedChild()?(r=!0,!0):!1:(r=!0,!0)}),r}},{key:"toggleChecked",value:function(e){if(this.isIndeterminate()){var r=this.hasEnableUnCheckedChild();return this.setChecked(r,e)}return this.setChecked(!this.isChecked(),e)}},{key:"setChecked",value:function(e,r){var n=this.tree,i=n.config||{},o=Se({isAction:!0,directly:!1},r),l=n.checkedMap;if(o.directly||(l=new Map(n.checkedMap)),!this.isCheckable()||o.isAction&&this.isDisabledState())return n.getChecked(l);if(e===this.isChecked()){var s=this.isIndeterminate()&&!this.hasEnableUnCheckedChild();if(!s)return n.getChecked(l)}if(e?l.set(this.value,!0):l.delete(this.value),i.checkStrictly)o.directly&&this.updateChecked();else if(this.spreadChildrenChecked(e,l,o),this.spreadParentChecked(e,l,o),o.directly){var d=n.getRelatedNodes([this.value],{reverse:!0});d.forEach(function(u){u.updateChecked()})}return n.getChecked(l)}},{key:"spreadParentChecked",value:function(e,r,n){var i=Se({isAction:!0,directly:!1},n);if(this.isCheckable()){var o=this.children;Array.isArray(o)&&o.length>0&&r.delete(this.value);var l=this.parent;l&&l.spreadParentChecked(e,r,i)}}},{key:"spreadChildrenChecked",value:function(e,r,n){var i=Se({isAction:!0,directly:!1},n);if(this.isCheckable()&&!(i.isAction&&this.isDisabledState())){var o=this.children;Array.isArray(o)&&(o.length<=0||(r.delete(this.value),o.forEach(function(l){i.isAction&&l.isDisabledState()||(e?r.set(l.value,!0):r.delete(l.value),l.spreadChildrenChecked(e,r,i))})))}}},{key:"setDisabled",value:function(e){this.disabled=e,this.update(),this.updateChildren()}},{key:"update",value:function(){this.level=this.getLevel(),this.vmIsFirst=this.isFirst(),this.vmIsLast=this.isLast(),this.vmIsLeaf=this.isLeaf(),this.vmCheckable=this.isCheckable(),this.vmIsRest=this.isRest(),this.actived=this.isActived(),this.expanded=this.isExpanded(),this.visible=this.isVisible(),this.tree.updated(this)}},{key:"updateChecked",value:function(){var e=this.tree,r=this.value,n=e.checkedMap;this.checked=this.isChecked(),this.indeterminate=this.isIndeterminate(),this.checked&&n.set(r,!0),e.updated(this)}},{key:"updateChildren",value:function(){var e=this;this.spreadChildren(function(r){r!==e&&(r.update(),r.updateChecked())})}},{key:"updateParents",value:function(){var e=this;this.spreadParents(function(r){r!==e&&(r.update(),r.updateChecked())})}},{key:"updateRelated",value:function(){var e=this.tree,r=e.getRelatedNodes([this.value]);r.forEach(function(n){n.update(),n.updateChecked()})}},{key:"walk",value:function(){var e=[];return this.spreadChildren(function(r){e.push(r)}),e}},{key:"spreadChildren",value:function(e){e(this);var r=this.children;Array.isArray(r)&&r.length>0&&r.forEach(function(n){n==null||n.spreadChildren(e)})}},{key:"spreadParents",value:function(e){e(this);var r=this.parent;r&&(r==null||r.spreadParents(e))}},{key:"getModel",value:function(){var e=this.model;return e||(e=Lr(this),this.model=e),e}}])}();/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ot(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function je(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ot(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function Br(a){var t=Promise.resolve();return t.then(a),t}var $r=function(){function a(t){ze(this,a),S(this,"children",void 0),S(this,"nodes",void 0),S(this,"nodeMap",void 0),S(this,"privateMap",void 0),S(this,"config",void 0),S(this,"activedMap",void 0),S(this,"updatedMap",void 0),S(this,"checkedMap",void 0),S(this,"expandedMap",void 0),S(this,"filterMap",void 0),S(this,"hasFilter",void 0),S(this,"emitter",void 0),S(this,"updateTick",void 0),S(this,"shouldReflow",void 0),S(this,"prevFilter",void 0);var e=je({prefix:"t",keys:{},expandAll:!1,expandLevel:0,expandMutex:!1,expandParent:!1,activable:!1,activeMultiple:!1,checkable:!1,checkStrictly:!1,disabled:!1,disableCheck:!1,draggable:!1,load:null,lazy:!1,valueMode:"onlyLeaf",filter:null,allowFoldNodeOnFilter:!1,onLoad:null,onReflow:null,onUpdate:null},t);this.config=e,this.nodes=[],this.children=[],this.nodeMap=new Map,this.privateMap=new Map,this.activedMap=new Map,this.expandedMap=new Map,this.checkedMap=new Map,this.updatedMap=new Map,this.filterMap=new Map,this.prevFilter=null,this.updateTick=null,this.shouldReflow=!1,this.hasFilter=ae(e.filter),this.emitter=jr()}return $e(a,[{key:"setConfig",value:function(e){var r=this.config,n=!1;Object.keys(e).forEach(function(i){var o=e[i];o!==r[i]&&(n=!0,r[i]=o)}),this.hasFilter=ae(r.filter),n&&this.refreshState()}},{key:"getChildren",value:function(){return this.children}},{key:"getNode",value:function(e){var r=null;return ce(e)||ve(e)?r=this.nodeMap.get(e):e instanceof ye&&(r=this.nodeMap.get(e.value)),r||(r=null),r}},{key:"getIndex",value:function(e){return this.nodes.indexOf(e)}},{key:"getParent",value:function(e){var r=null,n=this.getNode(e);return n&&(r=n.getParent()),r}},{key:"getParents",value:function(e){var r=this.getNode(e),n=[];return r&&(n=r.getParents()),n}},{key:"getNodeIndex",value:function(e){var r=this.getNode(e),n=-1;return r&&(n=r.getIndex()),n}},{key:"getNodes",value:function(e,r){var n=[],i="";if(ce(e)||ve(e)?i=e:e instanceof ye&&(i=e.value),!i&&i!==0)n=this.nodes.slice(0);else{var o=this.getNode(i);o&&(n=o.walk())}if(r){var l=je({filter:null,level:1/0},r);ve(l.level)&&l.level!==1/0&&(n=n.filter(function(s){return s.level<=l.level})),ae(l.filter)&&(n=n.filter(function(s){var d=s.getModel();return l.filter(d)})),tr(l.props)&&(n=n.filter(function(s){var d=Object.keys(l.props).every(function(u){var g=s[u]===l.props[u];return g});return d}))}return n}},{key:"append",value:function(e){var r=this;e.forEach(function(n){var i=new ye(r,n);r.children.push(i)}),this.reflow()}},{key:"reload",value:function(e){this.removeAll(),this.append(e)}},{key:"parseNodeData",value:function(e,r){var n="",i=null,o=null;ce(e)||ve(e)?(n=e,i=this.getNode(n),o=r):e instanceof ye&&r?(i=e,o=r):o=e;var l={node:i,data:o};return l}},{key:"appendNodes",value:function(e,r){var n=this.parseNodeData(e,r);n.data&&(n.node?(n.data instanceof ye?n.data.appendTo(this,n.node):de(n.data)?n.node.append(n.data):n.node.append([n.data]),n.node.updateRelated()):n.data instanceof ye?n.data.appendTo(this):Array.isArray(n.data)?this.append(n.data):this.append([n.data]))}},{key:"insertBefore",value:function(e,r){var n=this.getNode(e);n&&n.insertBefore(r)}},{key:"insertAfter",value:function(e,r){var n=this.getNode(e);n&&n.insertAfter(r)}},{key:"refreshNodes",value:function(){var e=this.children,r=this.nodes;r.length=0,e.forEach(function(n){var i=n.walk();Array.prototype.push.apply(r,i)})}},{key:"reflow",value:function(e){this.shouldReflow=!0,this.updated(e)}},{key:"updated",value:function(e){var r=this,n=this.updatedMap;e?n.set(e[le],"changed"):this.getNodes().forEach(function(i){n.set(i[le],"changed")}),!this.updateTick&&(this.updateTick=Br(function(){r.updateTick=null,r.shouldReflow&&(r.refreshNodes(),r.emit("reflow")),r.lockFilterPathNodes();var i="t".concat(new Date().getTime()),o=Array.from(n.keys()),l=o.map(function(s){return n.set(s,i),r.privateMap.get(s)});r.emit("update",{nodes:l,map:n}),r.shouldReflow=!1,n.clear()}))}},{key:"getActived",value:function(e){var r=e||this.activedMap;return Array.from(r.keys())}},{key:"getActivedNodes",value:function(e){var r=this.getNodes(e);return r=r.filter(function(n){return n.isActived()}),r}},{key:"replaceActived",value:function(e){this.resetActived(),this.setActived(e)}},{key:"setActived",value:function(e){var r=this,n=this.config.activeMultiple,i=e.slice(0);n||(i.length=1),i.forEach(function(o){r.activedMap.set(o,!0);var l=r.getNode(o);l&&l.update()})}},{key:"resetActived",value:function(){var e=this.getActived();this.activedMap.clear();var r=this.getRelatedNodes(e);r.forEach(function(n){n.update()})}},{key:"getExpanded",value:function(e){var r=e||this.expandedMap;return Array.from(r.keys())}},{key:"replaceExpanded",value:function(e){var r=this.getExpanded(),n=et(e,r),i=et(r,e);this.setExpandedDirectly(i,!1),this.updateExpanded(i),this.setExpanded(n)}},{key:"setExpanded",value:function(e){this.setExpandedDirectly(e),this.updateExpanded(e)}},{key:"setExpandedDirectly",value:function(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.forEach(function(i){n?r.expandedMap.set(i,!0):r.expandedMap.delete(i);var o=r.getNode(i);o&&o.afterExpanded()})}},{key:"resetExpanded",value:function(){var e=this.getExpanded();this.expandedMap.clear(),this.updateExpanded(e)}},{key:"updateExpanded",value:function(e){var r=this.getRelatedNodes(e,{withParents:!1});r.forEach(function(n){n.update()})}},{key:"getChecked",value:function(e){var r=this.nodeMap,n=this.config,i=n.valueMode,o=n.checkStrictly,l=[],s=e||this.checkedMap;return r.forEach(function(d){d.isChecked(s)&&(i==="parentFirst"&&!o?(!d.parent||!d.parent.isChecked(s))&&l.push(d.value):i==="onlyLeaf"&&!o?d.isLeaf()&&l.push(d.value):l.push(d.value))}),l}},{key:"getCheckedNodes",value:function(e){var r=this.getNodes(e);return r=r.filter(function(n){return n.isChecked()}),r}},{key:"replaceChecked",value:function(e){this.resetChecked(),this.setChecked(e)}},{key:"setChecked",value:function(e){var r=this,n=this.config,i=n.checkStrictly,o=n.checkable;if(o&&(e.forEach(function(d){var u=r.getNode(d);if(u)if(i)r.checkedMap.set(d,!0),u.updateChecked();else{var g=u.walk();g.forEach(function(v){r.checkedMap.set(v.value,!0)})}}),!i)){var l=this.getChecked(),s=this.getRelatedNodes(l);s.forEach(function(d){d.updateChecked()})}}},{key:"resetChecked",value:function(){var e=this.getChecked(),r=this.getRelatedNodes(e);this.checkedMap.clear(),r.forEach(function(n){n.updateChecked()})}},{key:"refreshState",value:function(){var e=this.nodeMap;e.forEach(function(r){r.update()})}},{key:"updateAll",value:function(){var e=this.nodeMap;e.forEach(function(r){r.update(),r.updateChecked()})}},{key:"remove",value:function(e){var r=this.getNode(e);r&&r.remove()}},{key:"removeAll",value:function(){this.expandedMap.clear(),this.checkedMap.clear(),this.activedMap.clear(),this.filterMap.clear(),this.nodeMap.clear(),this.privateMap.clear(),this.updatedMap.clear(),this.nodes=[],this.children=[],this.reflow()}},{key:"getRelatedNodes",value:function(e,r){var n=this,i=je({reverse:!1,withParents:!0},r),o=new Map;e.forEach(function(s){if(!o.get(s)){var d=n.getNode(s);if(d){var u=d.getParents().reverse(),g=d.walk(),v=[];i.withParents?v=u.concat(g):v=g,v.forEach(function(c){o.set(c.value,c)})}}});var l=Array.from(o.values());return i.reverse&&(l=l.reverse()),l}},{key:"emit",value:function(e,r){var n=this.config,i=this.emitter,o=Ct("on-".concat(e)),l=n[o];ae(l)&&l(r),i.emit(e,r)}},{key:"lockFilterPathNodes",value:function(){var e=this.config,r=this.getNodes();this.prevFilter&&r.forEach(function(i){i.vmIsLocked&&i.lock(!1)});var n=e.filter;!n||!ae(n)||(this.prevFilter=e.filter,r.reverse().forEach(function(i){var o=i.getParent();o&&(i.vmIsRest||i.vmIsLocked)&&(o.vmIsLocked||o.lock(!0))}))}}])}();/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var zr={default:void 0},Kr={name:"TTreeNode",inject:{onDrag:zr}};function Hr(a){return Ae(a)}function At(a){return St}function Ur(a){return a.$slots}function Fe(a,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"value",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"defaultValue",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"onChange",i=t.modelValue,o;return e==="value"?o=Re(t[e],i,a[r],a[n],e):o=Te(t[e],a[r],a[n],e),o}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ve=function(a){return a[a.Before=-1]="Before",a[a.Inside=0]="Inside",a[a.After=1]="After",a}(Ve||{});function Wr(a){var t=a.treeItemRef,e=xt({isDragOver:!1,isDragging:!1,dropPosition:0}),r=function(v){var c,h=t.value;if(h){var y=h==null||(c=h.getBoundingClientRect)===null||c===void 0?void 0:c.call(h),C=window.scrollY+y.top,k=v.pageY,m=y.height/4,f=k-C;f<m?e.dropPosition=-1:f<y.height-m?e.dropPosition=0:e.dropPosition=1}},n=function(v,c){var h,y,C,k,m,f=a.node,p=a.treeScope,b=p.drag;if(b)switch(v){case"dragStart":e.isDragging=!0,e.dropPosition=0,(h=b.handleDragStart)===null||h===void 0||h.call(b,{node:f,dragEvent:c});break;case"dragEnd":e.isDragging=!1,e.isDragOver=!1,e.dropPosition=0,u.cancel(),(y=b.handleDragEnd)===null||y===void 0||y.call(b,{node:f,dragEvent:c});break;case"dragOver":e.isDragOver=!0,u(c),(C=b.handleDragOver)===null||C===void 0||C.call(b,{node:f,dragEvent:c});break;case"dragLeave":e.isDragOver=!1,e.dropPosition=0,u.cancel(),(k=b.handleDragLeave)===null||k===void 0||k.call(b,{node:f,dragEvent:c});break;case"drop":(m=b.handleDrop)===null||m===void 0||m.call(b,{node:f,dropPosition:e.dropPosition,dragEvent:c}),e.isDragOver=!1,u.cancel();break}},i=function(v){var c=a.node;if(c.isDraggable()){v.stopPropagation(),n("dragStart",v);try{var h;(h=v.dataTransfer)===null||h===void 0||h.setData("text/plain","")}catch{}}},o=function(v){var c=a.node;c.isDraggable()&&(v.stopPropagation(),n("dragEnd",v))},l=function(v){var c=a.node;c.isDraggable()&&(v.stopPropagation(),v.preventDefault(),n("dragOver",v))},s=function(v){var c=a.node;c.isDraggable()&&(v.stopPropagation(),n("dragLeave",v))},d=function(v){var c=a.node;c.isDraggable()&&(v.stopPropagation(),v.preventDefault(),n("drop",v))},u=rr(function(g){r(g)});return{dragStates:e,handleDragStart:i,handleDragEnd:o,handleDragOver:l,handleDragLeave:s,handleDrop:d}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function st(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function Yr(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?st(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):st(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function be(a,t,e){var r=Ct("on-".concat(e));e.replace(/^on/,"").toLowerCase();for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];typeof a[r]=="function"&&a[r].apply(a,i)}function It(a,t){for(var e=[],r=a;r&&r.parentNode&&(e.push(r),r!==t);)r=r.parentNode;return e}function Gr(a,t,e){var r=It(t,e);return r.map(function(n){var i={name:a,value:(n==null?void 0:n.getAttribute(a))||"",el:n};return i}).filter(function(n){return n.value})}function Jr(a,t,e){var r=Gr(a,t,e),n=r.pop()||null;return n}function Xr(a,t,e){var r=It(t,e),n=r.some(function(i){return i.classList.contains(a)});return n}function _e(a,t){var e=null,r=null,n=Yr({},t);if(typeof a=="function"){var i;r=a(n.createElement,(i=n.node)===null||i===void 0?void 0:i.getModel())}else typeof a=="string"&&(r=a);return(typeof r=="string"||r)&&(e=r),e}function qr(a){return typeof a=="string"||typeof a=="number"}function oe(a,t){var e=null,r=null;return typeof t=="string"||typeof t=="number"?r=t:t&&qr(t.value)&&(r=t.value),e=a.getNode(r),e}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Zr(a){var t=a.props,e=a.context,r=a.scope,n=a.store,i=null,o=function(c){var h=c.dragEvent,y=c.node;i=y;var C={node:y.getModel(),e:h};be(t,e,"drag-start",C)},l=function(c){var h=c.dragEvent,y=c.node;i=y;var C={node:y.getModel(),e:h};be(t,e,"drag-end",C)},s=function(c){var h=c.dragEvent,y=c.node,C={node:y.getModel(),e:h};be(t,e,"drag-over",C)},d=function(c){var h=c.dragEvent,y=c.node,C={node:y.getModel(),e:h};be(t,e,"drag-leave",C)},u=function(c){var h,y=c.dragEvent,C=c.node,k=c.dropPosition;if(!(C.value===i.value||C.getParents().some(function(p){return p.value===i.value}))){var m={dropNode:C.getModel(),dragNode:i.getModel(),dropPosition:k,e:y};if(((h=t.allowDrop)===null||h===void 0?void 0:h.call(t,m))!==!1){var f=n.getNodes();f.some(function(p){return p.value===C.value?(k===Ve.Inside?i.appendTo(n,p):k===Ve.Before?C.insertBefore(i):C.insertAfter(i),!0):!1}),be(t,e,"drop",m)}}},g={handleDragStart:o,handleDragEnd:l,handleDragOver:s,handleDragLeave:d,handleDrop:u};return r.drag=g,{drag:g}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Dt(a){var t=a,e=t.store,r=z("tree").value,n=pe(a.vmValue,2),i=n[0],o=n[1],l=pe(a.vmActived,2),s=l[0],d=l[1],u=pe(a.vmExpanded,2),g=u[0],v=u[1],c=function(p,b){var P=oe(e,p),A=t.mouseEvent,O={node:P.getModel(),e:A,trigger:"setItem"};if(A){O.trigger="node-click";var F=A.target,B=A.currentTarget;Xr("".concat(r,"__icon"),F,B)&&(O.trigger="icon-click")}var W=P.setExpanded(b,{directly:!0});return v(W,O),O.trigger!=="setItem"&&e.replaceExpanded(g.value||[]),W},h=function(p){var b=oe(e,p);if(b.children)return c(b,!b.isExpanded())},y=function(p,b){var P=oe(e,p),A=t.mouseEvent,O={node:P.getModel(),e:A,trigger:"setItem"};A&&(O.trigger="node-click");var F=P.setActived(b,{isAction:O.trigger==="node-click",directly:!0});return d(F,O),O.trigger!=="setItem"&&e.replaceActived(s.value||[]),F},C=function(p){var b=oe(e,p);return y(b,!b.isActived())},k=function(p,b,P){var A=oe(e,p),O=P==null?void 0:P.e,F={node:A.getModel(),e:O,trigger:"setItem"};O&&(F.trigger="node-click");var B=A.setChecked(b,{isAction:F.trigger==="node-click",directly:!0});return o(B,F),F.trigger!=="setItem"&&e.replaceChecked(i.value||[]),B},m=function(p,b){var P=oe(e,p);if(P.isIndeterminate()){var A=P.hasEnableUnCheckedChild();return k(P,A,b)}return k(P,!P.isChecked(),b)};return{setExpanded:c,toggleExpanded:h,setActived:y,toggleActived:C,setChecked:k,toggleChecked:m}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Qr(a,t){var e=De(a),r=H(null),n=a.treeScope,i=n.store,o=i.privateMap.get(a.itemKey),l={stateId:a.stateId,props:a,context:t,treeScope:n,refProps:e,node:o,treeItemRef:r};return{state:l}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function _t(a){var t=a.context,e=z().value,r=function(l,s){var d=a.node,u=new Event("change"),g={event:u,node:d};t.emit("change",g,s)},n=!1,i=function(l){var s,d,u=a.node,g=a.treeScope,v=g.treeProps,c=v===void 0?{}:v,h=c.expandOnClickNode,y=l.target,C=u.children&&h&&(y.className==="".concat(e,"-checkbox__input")||y.tagName.toLowerCase()==="input");if(!(n||C)){n=!0,setTimeout(function(){n=!1}),h&&u.children&&((s=y.className)===null||s===void 0||(d=s.indexOf)===null||d===void 0?void 0:d.call(s,"".concat(e,"-tree__label")))!==-1&&l.preventDefault();var k={mouseEvent:l,event:l,node:u,path:u.getPath()};t.emit("click",k)}};return{handleChange:r,handleClick:i}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function en(a){var t=z().value,e=z("tree").value,r=function(l){var s=ar({CaretRightSmallIcon:Ar}),d=s.CaretRightSmallIcon;return M(d,null,null)},n=function(l){l.preventDefault()},i=function(l){var s=a.node,d=a.treeScope,u=d.scopedSlots,g=(d==null?void 0:d.treeProps)||{},v=g.icon,c=!1,h=null;v===!0?u!=null&&u.icon?h=u.icon({node:s==null?void 0:s.getModel()}):s.vmIsLeaf?h="":(c=!0,h=r(),s.loading&&s.expanded&&(h=M(nr,null,null))):v&&(h=_e(v,{createElement:l,node:s}));var y=M("span",{class:["".concat(e,"__icon"),"".concat(t,"-folder-icon"),c?"".concat(e,"__icon--default"):""],trigger:"expand",ignore:"active",onmousedown:n},[h]);return y};return{renderIcon:i}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ut(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function dt(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ut(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function tn(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ke(a)}function rn(a){var t=z().value,e=z("tree").value,r=_t(a),n=r.handleChange,i=function(l){var s=a.node,d=a.treeScope,u=d.scopedSlots,g=d.treeProps,v=g===void 0?{}:g,c=v.label,h=v.expandOnClickNode,y=(v==null?void 0:v.checkProps)||{},C=null;c===!0?u!=null&&u.label?C=u.label({node:s==null?void 0:s.getModel()}):C=s.label||"":C=_e(c,{createElement:l,node:s});var k=["".concat(e,"__label"),S({},"".concat(t,"-is-active"),s.isActivable()?s.actived:!1)],m=L(function(){var A,O=Array.isArray(s.children)&&((A=s.children)===null||A===void 0?void 0:A.length)>0,F=Ie(s.children)&&s.children,B=O||F;return h&&B});if(s.vmCheckable){var f=!1;s.vmIsLocked&&!s.vmIsRest&&(f=!0),s.isDisabled()&&(f=!0);var p=dt(dt({},y),{},{disabled:f}),b=function(){return C}();C=M(gr,{class:k,checked:s.checked,indeterminate:s.indeterminate,disabled:f,name:String(s.value),onChange:n,stopLabelTrigger:m.value,ignore:v.expandOnClickNode?"active":"expand,active",props:p,title:s.label},tn(C)?C:{default:function(){return[b]}})}else{var P=M("span",{style:"position: relative"},[C]);C=s.isActivable()?M("span",{key:"1",ref:"label",class:k,title:s.label},[P]):M("span",{key:"2",class:k,title:s.label},[P])}return C};return{renderLabel:i}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function nn(a){var t=z("tree").value,e=function(n){var i=a.node,o=a.treeScope,l=o.scopedSlots,s=(o==null?void 0:o.treeProps)||{},d=s.line,u=!!s.icon,g=null;if(d===!0){if(l!=null&&l.line)g=l.line({node:i==null?void 0:i.getModel()});else if(i.parent&&i.tree){var v=i.vmIsLeaf,c=i.vmIsFirst,h=i.level,y=[];y.push("".concat(t,"__line")),(v||!u)&&y.push("".concat(t,"__line--leaf")),c&&u&&y.push("".concat(t,"__line--first"));var C=[],k=i.getParents();k.pop(),k.forEach(function(f,p){f.vmIsLast||C.push("calc(-".concat(p+1," * var(--space)) 0 var(--color)"))});var m={"--level":h?String(h):void 0,"box-shadow":C.join(",")};g=M("span",{class:y,style:m},null)}}else g=_e(d,{createElement:n,node:i});return g};return{renderLine:e}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function an(a){var t=z("tree").value,e=function(n){var i=a.node,o=a.treeScope,l=o.scopedSlots,s=(o==null?void 0:o.treeProps)||{},d=s.operations,u=null;return l!=null&&l.operations?u=l.operations({node:i==null?void 0:i.getModel()}):u=_e(d,{createElement:n,node:i}),u&&(u=M("span",{class:"".concat(t,"__operations"),ignore:"active,expand"},[u])),u};return{renderOperations:e}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ct(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function ln(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ct(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ct(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function on(a){var t=a.treeScope,e=a.treeItemRef,r=t.virtualConfig,n=t.treeContentRef,i=t.scrollProps,o=z().value,l=z("tree").value,s=_t(a),d=s.handleClick,u=en(a),g=u.renderIcon,v=rn(a),c=v.renderLabel,h=nn(a),y=h.renderLine,C=an(a),k=C.renderOperations,m=Wr(a),f=m.dragStates,p=m.handleDragStart,b=m.handleDragEnd,P=m.handleDragOver,A=m.handleDragLeave,O=m.handleDrop,F=ir(n,e,xt(ln({},i==null?void 0:i.value))),B=F.hasLazyLoadHolder,W=F.tRowHeight;function R(){var Y=a.node,V=r==null?void 0:r.isVirtualScroll.value;if(V)var D=setTimeout(function(){r.handleRowMounted({ref:e,data:Y}),clearTimeout(D)},100)}He(function(){R()}),pr(function(){R()});var Z=function(){var V=a.node,D=V.level,I="--level: ".concat(D,";"),j="".concat(I);return j},ie=function(){var V=a.node,D=f.isDragOver,I=f.isDragging,j=f.dropPosition,w=[];return w.push("".concat(l,"__item")),w.push(S(S(S({},"".concat(l,"__item--open"),V.expanded),"".concat(o,"-is-active"),V.isActivable()?V.actived:!1),"".concat(o,"-is-disabled"),V.isDisabled())),w.push(S({},"".concat(l,"__item--draggable"),!V.isDisabled()&&V.isDraggable())),V.visible?w.push("".concat(l,"__item--visible")):w.push("".concat(l,"__item--hidden")),V.vmIsLocked&&w.push("".concat(l,"__item--locked")),V.vmIsRest&&w.push("".concat(l,"__item--matched")),w.push(S(S(S(S({},"".concat(l,"__item--dragging"),I),"".concat(l,"__item--tip-top"),D&&j<0),"".concat(l,"__item--tip-bottom"),D&&j>0),"".concat(l,"__item--tip-highlight"),!I&&D&&j===0)),w},Q=function(V){var D=[],I=g(V),j=y(V);j&&D.push(j),I&&D.push(I);var w=c(V);w&&D.push(w);var K=k(V);return K&&D.push(K),D},ee=function(V){var D=a.node,I=a.props;if(!D)return null;var j=D.level,w=D.value,K=Z(),G=ie(),me=a;me.stateId=I.stateId;var Oe=M("div",{ref:"treeItemRef",class:G,"data-value":w,"data-level":j,style:K,onClick:function($){return d($)},draggable:!D.isDisabled()&&D.isDraggable(),onDragstart:function($){return p($)},onDragend:function($){return b($)},onDragover:function($){return P($)},onDragleave:function($){return A($)},onDrop:function($){return O($)}},[B.value?[M("div",null,null)]:Q(V)]);return Oe};return{hasLazyLoadHolder:B,tRowHeight:W,renderItemNode:ee}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function vt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function ft(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?vt(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):vt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var sn={stateId:{type:String},itemKey:{type:String},rowIndex:{type:Number},treeScope:{type:Object}},un=ge(ft(ft({props:sn},Kr),{},{setup:function(t,e){var r=Qr(t,e),n=r.state,i=n.treeItemRef;H();var o=on(n),l=o.renderItemNode;return{treeItemRef:i,renderItemNode:l}},render:function(t){var e=At();return typeof this.renderItemNode=="function"?this.renderItemNode(e):null}}));/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function dn(a){var t=a,e=t.props,r=t.context,n=Dt(a),i=n.toggleExpanded,o=n.toggleActived,l=n.toggleChecked,s=function(g){var v=g.mouseEvent,c=g.event,h=g.node;if(!(!h||!v)){t.mouseEvent=v;var y=e.expandOnClickNode,C=!e.disabled&&!h.disabled&&h.isActivable(),k=!1;if(["trigger","ignore"].forEach(function(f){var p=Jr(f,c.target,c.currentTarget),b=(p==null?void 0:p.value)||"";b.indexOf("expand")>=0&&(f==="trigger"?(y=!0,k=!0):f==="ignore"&&(y=!1)),b.indexOf("active")>=0&&f==="ignore"&&(C=!1)}),!(y&&(i(h),k))){C&&o(h);var m={node:h.getModel(),e:v};be(e,r,"click",m),t.mouseEvent=null}}},d=function(g,v){var c=e.disabled,h=g.node;!h||c||h.disabled||!h.isCheckable()||l(h,v)};return{handleChange:d,handleClick:s}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function cn(a){var t=a.store,e=a.scope,r=a.allNodes,n=a.nodes,i=a.virtualConfig,o=dn(a),l=o.handleClick,s=o.handleChange,d=H(!1),u=new Map,g=function(){r.value=t.getNodes()},v=function(){var k=i==null?void 0:i.isVirtualScroll.value;if(!k){var m=[],f=!1;r.value.forEach(function(p){p.visible&&(f=!0,u.set(p.value,p.value)),u.has(p.value)&&m.push(p)}),u.forEach(function(p){t.getNode(p)||u.delete(p)}),n.value=m,d.value=!f}},c=function(){var k=i==null?void 0:i.isVirtualScroll.value;if(k){var m=i.visibleData.value;n.value=m,d.value=m.length<=0}},h=function(k,m,f,p){var b=m.VIRTUAL_SCROLL_INDEX||f,P=m[le],A=M(un,{key:P,rowIndex:b,stateId:p,itemKey:P,treeScope:e,onClick:l,onChange:s},null);return A},y=function(k){var m="render-".concat(new Date().getTime()),f=n.value.map(function(p,b){return h(k,p,b,m)});return f};return q(r,v),q(i.visibleData,c),g(),v(),c(),t.emitter.on("update",g),{nodesEmpty:d,renderTreeNodes:y}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function pt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function Le(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pt(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):pt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function vn(a){var t=a,e=t.props,r=t.context,n=t.allNodes,i=t.nodes,o=t.scope,l=t.treeContentRef,s=t.isScrolling,d=L(function(){return Le({rowHeight:34},e.scroll)});o.scrollProps=d;var u=L(function(){var m=n.value.filter(function(f){return f.visible});return{data:m,scroll:d.value,preventResizeRefresh:!0}}),g=lr(l,u);o.virtualConfig=g,t.virtualConfig=g,He(function(){var m=g==null?void 0:g.isVirtualScroll.value;m&&g.handleScroll()});var v=function(f){var p;(p=e.onScroll)===null||p===void 0||p.call(e,{e:f}),r.emit("scroll",{e:f})},c=null,h=function(){s.value=!0,c&&(clearTimeout(c),c=null),c=setTimeout(function(){c=null,s.value=!1},100)},y=0,C=function(f){h();var p=g==null?void 0:g.isVirtualScroll.value,b=f.target||f.srcElement,P=b.scrollTop;y!==P?p&&(g.handleScroll(),i.value=g.visibleData.value):y=0,y=P,v(f)},k=function(f){var p=f.index;if(!p&&p!==0){var b;if(!f.key){he.error("Tree","scrollToElement: one of `index` or `key` must exist.");return}if(p=(b=n.value)===null||b===void 0?void 0:b.findIndex(function(P){var A;return[X(P.data,"key"),X(P.data,((A=e.keys)===null||A===void 0?void 0:A.value)||"value")].includes(f.key)}),p<0){he.error("Tree","".concat(f.key," does not exist in data, check `key` or `data` please."));return}}g.scrollToElement(Le(Le({},f),{},{index:p-1}))};return{treeContentRef:l,onInnerVirtualScroll:C,virtualConfig:g,scrollToElement:k}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function fn(a,t){var e=H(),r=H([]),n=H([]),i=H(!1),o=De(a),l=Fe(a,o,"value","defaultValue","onChange","change"),s=Fe(a,o,"actived","defaultActived","onActive","active"),d=Fe(a,o,"expanded","defaultExpanded","onExpand","expand");function u(v){g.store=v,g.scope.store=v,n.value=v.getNodes()}var g={props:a,context:t,store:null,treeContentRef:e,nodes:r,allNodes:n,isScrolling:i,mouseEvent:null,virtualConfig:null,scope:{store:null,treeContentRef:e,treeProps:a,scopedSlots:{},virtualConfig:null},setStore:u,refProps:o,vmValue:l,vmActived:s,vmExpanded:d};return{state:g}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function pn(a){var t=a.props,e=a.context,r=a.refProps,n=t.valueMode,i=t.filter,o=t.keys,l=new $r({valueMode:n,filter:i}),s=a.vmValue[0],d=a.vmActived[0],u=a.vmExpanded[0],g=function(){var b=kr(t,["expandAll","expandLevel","expandMutex","expandParent","activable","activeMultiple","disabled","disableCheck","checkable","draggable","checkStrictly","load","lazy","valueMode","filter","allowFoldNodeOnFilter"]);l.setConfig(b)},v=function(){var b=t.expandParent;if(Array.isArray(u.value)){var P=new Map;u.value.forEach(function(O){if(P.set(O,!0),b){var F=l.getNode(O);F&&F.getModel().getParents().forEach(function(B){P.set(B.value,!0)})}});var A=Array.from(P.keys());l.setExpanded(A)}},c=!1,h=null,y=function(){if(t.allowFoldNodeOnFilter&&c)if(c=!1,t.filter){h||(h=l.getExpanded());var b=[],P=l.getNodes();P.forEach(function(A){A.vmIsLocked&&b.push(A.value)}),l.setExpanded(b)}else h&&(l.replaceExpanded(h),h=null)},C=function(b,P){t.allowFoldNodeOnFilter&&(c=b!==P)},k=function(b){var P=b.node,A={node:P.getModel()};Array.isArray(s.value)&&s.value.length>0&&l.replaceChecked(s.value),Array.isArray(u.value)&&u.value.length>0&&l.replaceExpanded(u.value),Array.isArray(d.value)&&d.value.length>0&&l.replaceActived(d.value),t!=null&&t.onLoad&&(t==null||t.onLoad(A)),e.emit("load",A)},m=function(b){l.reload(b||[]),l.refreshNodes(),Array.isArray(s.value)&&l.setChecked(s.value),v(),Array.isArray(d.value)&&l.setActived(d.value),l.refreshState()};function f(){l.setConfig({keys:o}),g(),l.append(t.data||[]),l.refreshNodes(),Array.isArray(s.value)&&l.setChecked(s.value),v(),Array.isArray(d.value)&&l.setActived(d.value),l.emitter.on("load",k),l.emitter.on("update",y)}return f(),a.setStore(l),q(function(){return se(s.value||[])},function(p){l.replaceChecked(p)}),q(function(){return se(u.value||[])},function(p){l.replaceExpanded(p)}),q(function(){return se(d.value||[])},function(p){l.replaceActived(p)}),q(r.filter,function(p,b){C(p,b)}),q(r.keys,function(p){l.setConfig({keys:p})}),q(r.expandAll,function(p){if(p){var b=l.getNodes().filter(function(P){return Array.isArray(P.children)&&P.children.length}).map(function(P){return P.value});l.setExpanded(b)}else l.replaceExpanded(h),h=null}),{store:l,rebuild:m,checkFilterExpand:C,updateStoreConfig:g,updateExpanded:v,expandFilterPath:y}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Ee(a){return a&&(isNaN(Number(a))?a:"".concat(a,"px"))}function hn(a){var t=a.props,e=z("tree").value,r=z().value,n=a.virtualConfig,i=a.isScrolling,o=a.refProps,l=o.height,s=o.maxHeight,d=L(function(){var c=[e],h=t.disabled,y=t.hover,C=t.transition,k=t.checkable,m=t.draggable,f=t.expandOnClickNode,p=t.scroll;h&&c.push("".concat(r,"-is-disabled")),y&&c.push("".concat(e,"--hoverable")),k&&c.push("".concat(e,"--checkable")),m&&c.push("".concat(e,"--draggable")),C&&c.push("".concat(e,"--transition")),f&&c.push("".concat(e,"--block-node"));var b=n==null?void 0:n.isVirtualScroll.value;return b?(c.push("".concat(e,"__vscroll")),i.value&&c.push("".concat(e,"--scrolling"))):p&&p.type==="lazy"&&c.push("".concat(e,"__lazyload")),c}),u=L(function(){return{height:Ee(l.value),maxHeight:Ee(s.value),overflowY:Ee(l.value)||Ee(s.value)?"auto":void 0}}),g=L(function(){var c=n==null?void 0:n.isVirtualScroll.value,h=c?n==null?void 0:n.translateY.value:0,y="translateY(".concat(h,"px)"),C={transform:y,"-ms-transform":y,"-moz-transform":y,"-webkit-transform":y};return C}),v=L(function(){var c=n==null?void 0:n.isVirtualScroll.value,h=c?n==null?void 0:n.translateY.value:0,y="translate(0, ".concat(h,"px)");return{transform:y,"-ms-transform":y,"-moz-transform":y,"-webkit-transform":y}});return{treeClasses:d,treeContentStyles:u,scrollStyles:g,cursorStyles:v}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var gn={activable:Boolean,activeMultiple:Boolean,actived:{type:Array,default:void 0},defaultActived:{type:Array},allowDrop:{type:Function},allowFoldNodeOnFilter:Boolean,checkProps:{type:Object},checkStrictly:Boolean,checkable:Boolean,data:{type:Array,default:function(){return[]}},disableCheck:{type:[Boolean,Function],default:!1},disabled:Boolean,draggable:Boolean,empty:{type:[String,Function],default:""},expandAll:Boolean,expandLevel:{type:Number,default:0},expandMutex:Boolean,expandOnClickNode:Boolean,expandParent:Boolean,expanded:{type:Array,default:void 0},defaultExpanded:{type:Array,default:function(){return[]}},filter:{type:Function},height:{type:[String,Number]},hover:Boolean,icon:{type:[Boolean,Function],default:!0},keys:{type:Object},label:{type:[String,Boolean,Function],default:!0},lazy:{type:Boolean,default:!0},line:{type:[Boolean,Function],default:!1},load:{type:Function},maxHeight:{type:[String,Number]},operations:{type:Function},scroll:{type:Object},transition:{type:Boolean,default:!0},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},valueMode:{type:String,default:"onlyLeaf",validator:function(t){return t?["onlyLeaf","parentFirst","all"].includes(t):!0}},onActive:Function,onChange:Function,onClick:Function,onDragEnd:Function,onDragLeave:Function,onDragOver:Function,onDragStart:Function,onDrop:Function,onExpand:Function,onLoad:Function,onScroll:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ht(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function gt(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):ht(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}function yn(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!Ke(a)}var bn=ge({name:"TTree",model:{prop:"value",event:"change"},props:gn,setup:function(t,e){var r=we("tree"),n=r.t,i=r.global,o=z(),l=z("tree"),s=Be(),d=fn(t,e),u=d.state,g=u.treeContentRef,v=u.isScrolling,c=pn(u),h=c.store,y=c.updateStoreConfig,C=c.rebuild;Zr(u);var k=Dt(u),m=k.setActived,f=k.setExpanded,p=k.setChecked,b=vn(u),P=b.onInnerVirtualScroll,A=b.virtualConfig,O=b.scrollToElement,F=cn(u),B=F.renderTreeNodes,W=F.nodesEmpty,R=hn(u),Z=R.treeClasses,ie=R.treeContentStyles,Q=R.scrollStyles,ee=R.cursorStyles;return{t:n,global:i,classPrefix:o,componentName:l,state:u,store:h,treeClasses:Z,treeContentRef:g,renderTNodeJSX:s,rebuild:C,updateStoreConfig:y,setActived:m,setExpanded:f,setChecked:p,renderTreeNodes:B,nodesEmpty:W,isScrolling:v,onInnerVirtualScroll:P,treeContentStyles:ie,scrollStyles:Q,cursorStyles:ee,virtualConfig:A,scrollToElement:O,scrollTo:O}},watch:{data:function(t){this.rebuild(t)}},methods:{refresh:function(){this.store.refreshState()},setItem:function(t,e){var r=this,n=this.store.getNode(t),i=e,o=Object.keys(i);n&&i&&(["expanded","actived","checked"].forEach(function(l){if(o.includes(l)){var s=i[l];delete i[l];var d="set".concat(or(l)),u=r[d];ae(u)&&u.call(r,n,s)}}),n.set(i))},getItem:function(t){var e=this.store.getNode(t);return e==null?void 0:e.getModel()},getItems:function(t){var e=this.store.getNodes(t);return e.map(function(r){return r.getModel()})},appendTo:function(t,e){var r=this.store,n=[];Array.isArray(e)?n=e:n=[e],n.forEach(function(i){var o=(i==null?void 0:i.value)||"",l=oe(r,o);l?r.appendNodes(t,l):r.appendNodes(t,i)})},insertBefore:function(t,e){var r=this.store,n=(e==null?void 0:e.value)||"",i=oe(r,n);i?r.insertBefore(t,i):r.insertBefore(t,e)},insertAfter:function(t,e){var r=this.store,n=(e==null?void 0:e.value)||"",i=oe(r,n);i?r.insertAfter(t,i):r.insertAfter(t,e)},remove:function(t){return this.store.remove(t)},getIndex:function(t){return this.store.getNodeIndex(t)},getParent:function(t){var e=this.store.getParent(t);return e==null?void 0:e.getModel()},getParents:function(t){var e=this.store.getParents(t);return e.map(function(r){return r.getModel()})},getPath:function(t){var e=this.store.getNode(t),r=[];return e&&(r=e.getPath().map(function(n){return n.getModel()})),r},getTreeData:function(t){var e=[];if(t){var r=this.store.getNode(t);if(!r)return[];e=this.store.getNodes(t)}else e=this.store.getNodes();var n={},i=[];return e.forEach(function(o){var l=o.value,s=gt(gt({},o.data),{},{value:l});s.children!==!0&&delete s.children,n[l]=s;var d=o.getParent();if(!d)i.push(s);else{var u=n[d.value];u?(Array.isArray(u.children)||(u.children=[]),u.children.push(s)):i.push(s)}}),i}},render:function(t){var e,r,n,i,o=this.state,l=this.treeClasses,s=this.updateStoreConfig,d=this.renderTreeNodes,u=this.nodesEmpty,g=this.isScrolling,v=this.virtualConfig,c=this.treeContentStyles,h=this.scrollStyles,y=this.cursorStyles,C=At(),k=o.scope,m=o.allNodes,f=o.refProps;k.scopedSlots=Ur(this),s();var p=d(C),b=this.componentName,P=v.isVirtualScroll.value,A=null;if(u){var O=!this.empty&&!this.$slots.empty,F=O?this.t(this.global.empty):this.renderTNodeJSX("empty");A=M("div",{class:"".concat(b,"__empty")},[F])}else p.length<=0&&(A=M("div",null,null));var B=this.$props,W=B.transition,R=null;!W||P&&g?R=M("div",{class:"".concat(b,"__list"),style:h},[p]):R=M(hr,{tag:"div",class:"".concat(b,"__list"),"enter-active-class":"".concat(b,"__item--enter-active"),"leave-active-class":"".concat(b,"__item--leave-active"),style:h},yn(p)?p:{default:function(){return[p]}});var Z=((e=(r=m.value)===null||r===void 0?void 0:r.filter(function(Y){return Y.visible}).length)!==null&&e!==void 0?e:0)*((n=(i=f.scroll.value)===null||i===void 0?void 0:i.rowHeight)!==null&&n!==void 0?n:34),ie={width:"1px",height:"1px",opacity:0,pointerEvents:"none",position:"absolute",left:0,top:"".concat(Z,"px")},Q=M("div",{style:ie},null),ee=M("div",{class:l,ref:"treeContentRef",onScroll:this.onInnerVirtualScroll,style:c},[P&&M("div",{class:"".concat(b,"__vscroll-cursor"),style:y},null),A||R,P&&Q]);return ee}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var mn=Hr(bn);/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var kn={autoWidth:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},data:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:void 0},empty:{type:[String,Function],default:""},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},loading:Boolean,loadingText:{type:[String,Function],default:""},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},selectInputProps:{type:Object},size:{type:String,default:"medium",validator:function(t){return t?["small","medium","large"].includes(t):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagProps:{type:Object},treeProps:{type:Object},value:{type:[String,Number,Object,Array],default:void 0},modelValue:{type:[String,Number,Object,Array],default:void 0},defaultValue:{type:[String,Number,Object,Array]},valueDisplay:{type:Function},valueType:{type:String,default:"value",validator:function(t){return t?["value","object"].includes(t):!0}},onBlur:Function,onChange:Function,onClear:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Cn(a,t,e,r){var n=t;if(n!=null&&ur(n)==="object"){var i;n=(i=n)===null||i===void 0?void 0:i[e]}if(n==null)return[];function o(l,s){var d=null;return l.some(function(u){var g=[].concat(se(s),[u[e]]);return u[e]===n?(d=s,!0):!!(Array.isArray(u[r])&&u[r].length&&(d=o(u[r],g),d!==null))}),d}return o(a,[])||[]}function yt(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),e.push.apply(e,r)}return e}function fe(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(e),!0).forEach(function(r){S(a,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):yt(Object(e)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(e,r))})}return a}var Sn=ge({name:"TTreeSelect",props:kn,setup:function(t,e){var r=e.slots,n=e.expose,i=Be(),o=sr(),l=z(),s=we("treeSelect"),d=s.globalConfig,u=mt(),g=kt(),v=H(null),c=H([]),h=H([]),y=H(null),C=H(0),k=De(t),m=k.value,f=k.modelValue,p=k.popupVisible,b=k.inputValue,P=Re(m,f,t.defaultValue,t.onChange),A=pe(P,2),O=A[0],F=A[1],B=Te(p,!1,t.onPopupVisibleChange,"popupVisible"),W=pe(B,2),R=W[0],Z=W[1],ie=Te(b,t.defaultInputValue,t.onInputChange,"inputValue"),Q=pe(ie,2),ee=Q[0],Y=Q[1],V=function(){var x=function(re){return Cn(t.data,re,$.value,Me.value)},E=[];O.value&&(Array.isArray(O.value)&&t.multiple?E=O.value.flatMap(x):!Array.isArray(O.value)&&!t.multiple&&(E=x(O.value))),h.value=Array.from(new Set([].concat(se(h.value),se(E))))};q(O,xe(ne.mark(function N(){return ne.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=1,Ce();case 1:t.multiple||(c.value=y.value?[y.value.value]:[]),V();case 2:case"end":return x.stop()}},N)}))),q(function(){return t.data},xe(ne.mark(function N(){return ne.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=1,Ce();case 1:zt();case 2:case"end":return x.stop()}},N)})),{deep:!0});var D=L(function(){var N=ee.value||"";return N===""?null:function(x){if(ae(t.filter)){var E=t.filter(String(N),x);if(Ie(E))return E}return x.data[te.value].indexOf(N)>=0}}),I=L(function(){return u.value||t.disabled}),j=L(function(){var N;return R.value&&((N=y.value)===null||N===void 0?void 0:N.label)||t.placeholder||d.value.placeholder}),w=L(function(){return["".concat(l.value,"-select__dropdown"),"narrow-scrollbar"]}),K=L(function(){return{small:"s",medium:"m",large:"l"}[t.size]}),G=L(function(){return t.valueType==="object"}),me=L(function(){return t.multiple?G.value?de(O.value)?O.value.map(function(N){return N.value}):[]:de(O.value)?O.value.map(function(N){return N}):[]:[]}),Oe=L(function(){return t.multiple&&!!t.max&&de(O.value)&&t.max<=O.value.length}),te=L(function(){var N;return!ue(t.treeProps)&&!ue(t.treeProps.keys)?t.treeProps.keys.label||"label":((N=t.keys)===null||N===void 0?void 0:N.label)||"label"}),$=L(function(){var N;return!ue(t.treeProps)&&!ue(t.treeProps.keys)?t.treeProps.keys.value||"value":((N=t.keys)===null||N===void 0?void 0:N.value)||"value"}),Me=L(function(){var N;return!ue(t.treeProps)&&!ue(t.treeProps.keys)?t.treeProps.keys.children||"children":((N=t.keys)===null||N===void 0?void 0:N.children)||"children"});He(xe(ne.mark(function N(){var x;return ne.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:V(),!O.value&&t.defaultValue&&ke(t.defaultValue,null,"uncheck"),G.value?c.value=de(O.value)?O.value.map(function(_){return _==null?void 0:_.value}):[(x=O.value)===null||x===void 0?void 0:x.value]:c.value=de(O.value)?O.value:[O.value],Ce();case 1:case"end":return E.stop()}},N)})));var ke=function(x,E,_){F(x,{node:E,trigger:_}),Ce()},Mt=function(x){var E,_=t.multiple?[]:"";c.value=[],ke(_,null,"clear"),(E=t.onClear)===null||E===void 0||E.call(t,{e:x.e})},jt=function(x,E){var _=x;G.value&&(_=x.map(Pe)),ke(_,E.node,"check")},Ft=function(x,E){if(t.multiple||Z(!1,E),!(t.multiple||!E.node.actived)&&O.value!==E.node.data[$.value]){var _=x;if(G.value){var re=ue(x)?"":x[0];_=Pe(re)}else _=ue(x)?"":x[0];ke(_,E.node,"check"),c.value=x}},Lt=function(x){h.value=x},Tt=function(){Ce()},Vt=function(x){var E;if(!R.value){var _;(_=t.onSearch)===null||_===void 0||_.call(t,String(x));return}Y(x),(E=t.onSearch)===null||E===void 0||E.call(t,String(x))},Ue=function(x,E){var _,re=E.trigger,J=E.index;["tag-remove","backspace"].includes(re)&&de(O.value)&&O.value.splice(J,1),(_=t.onRemove)===null||_===void 0||_.call(t,{value:x,data:null,e:E&&E.e}),ke(O.value,null,re)},Rt=function(x,E){Z(x,E),x&&E.trigger==="trigger-element-click"&&Y("")},Ce=function(){var N=xe(ne.mark(function x(){return ne.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:t.multiple?t.multiple?de(O.value)?y.value=$t():y.value=[]:y.value=null:O.value||O.value===0?y.value=Bt():y.value="";case 1:case"end":return E.stop()}},x)}));return function(){return N.apply(this,arguments)}}(),Bt=function(){var x=G.value?O.value.value:O.value;return Pe(x)},$t=function(){return O.value.map(function(x){var E=G.value?x.value:x;return Pe(E)})},Pe=function(x){if(v.value){var E=v.value.getItem(x);if(E)return fe(fe({},E.data),{},{label:E.data[te.value],value:E.data[$.value]})}var _=We(t.data,x);return _||{label:x,value:x}},We=function(x,E){for(var _=0,re=x.length;_<re;_++){var J=x[_];if(J[$.value]===E)return fe(fe({},J),{},{label:J[te.value],value:J[$.value]});if(J!=null&&J[Me.value]){var Ye=We(J==null?void 0:J[Me.value],E);if(!Ot(Ye))return Ye}}return null},zt=function(){C.value+=1},Kt=function(){return Je(M(mn,Ne({ref:v,key:C.value,value:se(me.value),hover:!0,keys:t.keys,data:t.data,activable:!t.multiple,checkable:t.multiple,disabled:I.value||Oe.value,size:t.size,filter:D.value,icon:!D.value,actived:c.value,expanded:h.value,activeMultiple:t.multiple,onChange:jt,onActive:Ft,onExpand:Lt,onLoad:Tt,expandOnClickNode:!1},t.treeProps),{empty:function(){return o("empty",{defaultNode:M("div",{class:"".concat(l.value,"-select__empty")},[d.value.empty])})}}),[[Xe,!t.loading]])},Ht=function(){return M(Sr,{isActive:R.value,disabled:t.disabled,overlayClassName:S(S({},"".concat(l.value,"-fake-arrow--highlight"),R.value),"".concat(l.value,"-fake-arrow--disable"),t.disabled)},null)};return n({treeRef:v}),function(){return M(Cr,Ne({class:"".concat(l.value,"-tree-select"),value:y.value,inputValue:R.value?ee.value:"",popupVisible:R.value,disabled:I.value,multiple:t.multiple,loading:t.loading,clearable:t.clearable,autoWidth:t.autoWidth,borderless:t.borderless,readonly:g.value,placeholder:j.value,allowInput:t.filterable||ae(t.filter),minCollapsedNum:t.minCollapsedNum,"collapsed-items":t.collapsedItems,popupProps:fe({overlayClassName:w.value},t.popupProps),inputProps:fe({size:t.size},t.inputProps),tagInputProps:{size:t.size},tagProps:fe({maxWidth:300},t.tagProps),label:function(){return i("prefixIcon")},suffix:t.suffix,suffixIcon:function(){return t.suffixIcon||r.suffixIcon?i("suffixIcon"):Ht()},onClear:Mt,onBlur:function(x,E){var _;(_=t.onBlur)===null||_===void 0||_.call(t,{value:O.value,e:E.e})},onFocus:function(x,E){var _;(_=t.onFocus)===null||_===void 0||_.call(t,{value:O.value,e:E.e})},valueDisplay:function(){return i("valueDisplay",{params:t.multiple?{value:y.value,onClose:function(E){var _=y.value.map(function(re){return re.value});Ue(_,{trigger:"tag-remove",index:E,item:_[E]})}}:{value:y.value||S(S({},te.value,""),$.value,void 0)}})},onInputChange:Vt,onTagChange:Ue,onPopupVisibleChange:Rt},t.selectInputProps),{suffix:r.suffix,panel:function(){return M("div",{class:["".concat(l.value,"-select__dropdown-inner"),"".concat(l.value,"-select__dropdown-inner--size-").concat(K.value)]},[i("panelTopContent"),Je(M("p",{class:["".concat(l.value,"-select-loading-tips"),"".concat(l.value,"-select__right-icon-polyfill")]},[o("loadingText",{defaultNode:M("div",{class:"".concat(l.value,"-select__empty")},[d.value.loadingText])})]),[[Xe,t.loading&&!I.value]]),Kt(),i("panelBottomContent")])},collapsedItems:r.collapsedItems})}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Tn=Ae(Sn);export{Ln as A,Tn as T};
