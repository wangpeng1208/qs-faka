import{h as M,j as p,g as Se,as as ye,n as o,l as Oe,E as Q,ap as Re,a1 as Ne,R as ee,C as ae,bC as Pe,bD as Ae,A as Ie,B as xe,p as we,H as We,w as ne}from"./index-1ae915eb.js";import{d as L,i as ke,b as g,r as N,w as $,M as l,o as te,n as G,ab as Y,j as Be,t as Me,I as ze,N as K}from"./vue-d500b9b9.js";import{C as De}from"./index-817224be.js";import{C as je}from"./chevron-right-c3c09f0e.js";import{A as Le}from"./add-4cdc8168.js";/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var E={default:{type:Function},destroyOnHide:{type:Boolean,default:!0},disabled:Boolean,draggable:{type:Boolean,default:!0},label:{type:[String,Function]},lazy:Boolean,panel:{type:[String,Function]},removable:Boolean,value:{type:[String,Number]},onRemove:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var re=L({name:"TTabPanel",props:E,setup:function(e){var n=M("tab-panel"),r=p(),c=r.STATUS,C=Se();ye();var m=ke("tabs"),i=g(function(){return e.value===m.value.value}),v=N(e.lazy?i.value:!0);$(i,function(){i.value?v.value||(v.value=!0):e.destroyOnHide&&(v.value=!1)},{immediate:!0});var s=g(function(){return[n.value,o({},c.value.hidden,!i.value)]});return function(){return v.value?l("div",{class:s.value},[C("default","panel")]):null}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var h={action:{type:[String,Function]},addable:Boolean,disabled:Boolean,dragSort:Boolean,list:{type:Array},placement:{type:String,default:"top",validator:function(e){return e?["left","top","bottom","right"].includes(e):!0}},scrollPosition:{type:String,default:"auto",validator:function(e){return e?["auto","start","center","end"].includes(e):!0}},size:{type:String,default:"medium",validator:function(e){return e?["medium","large"].includes(e):!0}},theme:{type:String,default:"normal",validator:function(e){return e?["normal","card"].includes(e):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onAdd:Function,onChange:Function,onDragSort:Function,onRemove:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Fe=L({name:"TTabNavItem",props:{index:Number,active:{type:Boolean},theme:h.theme,size:h.size,placement:h.placement,label:{type:null},disabled:E.disabled,removable:E.removable,value:E.value,onClick:Function,onTabRemove:Function,onTabPanelRemove:Function},setup:function(e){var n=N();Oe(n);var r=M("tabs__nav-item"),c=Q({CloseIcon:Re}),C=c.CloseIcon,m=M(),i=p(),v=i.STATUS,s=i.SIZE,f=function(S){var y,u=S.e;u&&u.stopPropagation(),e.onTabRemove({e:u,value:e.value,index:e.index}),(y=e.onTabPanelRemove)===null||y===void 0||y.call(e,{e:u,value:e.value})},O=function(S){e.disabled||e.onClick(S)},P=g(function(){return o(o(o(o(o(o(o(o({},r.value,!0),"".concat(m.value,"-tabs__nav--card"),e.theme==="card"),v.value.disabled,e.disabled),v.value.active,e.active),"".concat(m.value,"-is-left"),e.placement==="left"),"".concat(m.value,"-is-right"),e.placement==="right"),s.value.medium,e.size==="medium"),s.value.large,e.size==="large")}),A=function(){return e.removable&&!e.disabled?l("span",{onClick:function(y){return f({e:y})},class:"remove-btn"},[l(C,null,null)]):null},k=function(){return l("div",{class:P.value,onClick:O,ref:n},[l("span",{class:"".concat(r.value,"-text-wrapper")},[e.label]),A()])},x=function(){return l("div",{class:P.value,onClick:O},[l("div",{class:["".concat(r.value,"-wrapper"),o(o({},v.value.disabled,e.disabled),v.value.active,e.active)],ref:n},[l("span",{class:"".concat(r.value,"-text-wrapper")},[e.label])]),A()])};return function(){return e.theme==="card"?k():x()}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ve=L({props:{navs:{type:Array},placement:h.placement,value:h.value},setup:function(e){var n=M("tabs"),r=M(),c=N(),C=g(function(){return["".concat(n.value,"__bar"),"".concat(r.value,"-is-").concat(e.placement)]}),m=N(null),i=function(){for(var f=["left","right"].includes(e.placement.toLowerCase()),O=f?["height","top"]:["width","left"],P=ae(O,2),A=P[0],k=P[1],x=0,d=0;d<e.navs.length;d++){var S;if(e.navs[d].props.value===e.value)break;if((S=e.navs[d])!==null&&S!==void 0&&S.el){var y=getComputedStyle(e.navs[d].el)[A],u=parseFloat(y);x+=u}}return e.navs[d]?o(o({},k,"".concat(x,"px")),A,e.navs[d].el?getComputedStyle(e.navs[d].el)[A]:"0px"):{}},v=function(){return m.value=i()};return te(function(){G(function(){v()})}),$([function(){return e.navs},function(){return e.value},function(){return e.placement}],function(){G(function(){v()})}),Ne(c,ee(function(){v()},35)),function(){return l("div",{class:C.value,style:m.value,ref:c},null)}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var W=function(e){return(e==null?void 0:e.offsetWidth)||0},Ee=function(e){return(e==null?void 0:e.offsetLeft)||0};function $e(t,e,n){var r=t.navsContainer,c=t.activeTab,C=t.rightOperations,m=t.leftOperations,i=W(c),v=W(r),s=Ee(c),f=W(C),O=W(m);if(n==="auto"){if(s-O<e)return s-O;if(s+i>e+v-f)return s+i-v+f}else{if(n==="start")return s-O;if(n==="center")return s+(i-v)/2;if(n==="end")return s+i-v+f}return e}function He(t,e,n){var r=t.navsContainer,c=t.activeTab,C=W(r),m=W(c),i=Math.abs(C-m);return n==="next"?e+i:e-i}function Ue(t){var e=t.navsWrap,n=t.navsContainer,r=t.rightOperations,c=t.toRightBtn,C=W(e),m=W(n),i=W(r),v=W(c);return C-m+i-v}function Xe(t,e){return Math.max(0,Math.min(t,e))}function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(r){o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ze=L({name:"TTabNav",resizeObserver:null,props:{theme:h.theme,panels:{type:Array,default:function(){return[]}},action:Array,value:h.value,placement:h.placement,scrollPosition:h.scrollPosition,size:h.size,disabled:h.disabled,addable:h.addable,onChange:h.onChange,onAdd:h.onAdd,onRemove:h.onRemove,dragSort:h.dragSort,onDragSort:h.onDragSort},setup:function(e){var n=M("tabs"),r=Q({ChevronLeftIcon:De,ChevronRightIcon:je,AddIcon:Le}),c=r.ChevronLeftIcon,C=r.ChevronRightIcon,m=r.AddIcon,i=M(),v=p(),s=v.SIZE,f=N(0),O=N(),P=N(),A=N(),k=N(),x=N(),d=N(),S=N(0),y=g(function(){var T;return["top","bottom"].includes(e==null||(T=e.placement)===null||T===void 0?void 0:T.toLowerCase())}),u=function(){return{navsContainer:O.value,navsWrap:P.value,leftOperations:A.value,rightOperations:k.value,toRightBtn:x.value,activeTab:d.value}},b=g(function(){return["left","right"].includes(e.placement.toLowerCase())}),w=g(function(){return f.value>1}),B=g(function(){return f.value<S.value-1}),R=g(function(){return b.value?{}:{transform:"translate3d(".concat(-f.value,"px, 0, 0)")}}),D=g(function(){return e.addable?{"min-height":"48px"}:null}),j=g(function(){return o(o(o({},"".concat(n.value,"__btn"),!0),s.value.medium,e.size==="medium"),s.value.large,e.size==="large")}),F=g(function(){return Z(o({},"".concat(n.value,"__btn--left"),!0),j.value)}),le=g(function(){return Z(o({},"".concat(n.value,"__btn--right"),!0),j.value)}),ue=g(function(){return Z(o({},"".concat(n.value,"__add-btn"),!0),j.value)}),oe=g(function(){return o(o(o(o({},"".concat(n.value,"__nav-container"),!0),"".concat(n.value,"__nav--card"),e.theme==="card"),"".concat(i.value,"-is-").concat(e.placement),!0),"".concat(i.value,"-is-addable"),e.addable)}),ie=g(function(){return o(o({},"".concat(n.value,"__nav-scroll"),!0),"".concat(i.value,"-is-scrollable"),w.value||B.value)}),ve=g(function(){return["".concat(n.value,"__nav-wrap"),"".concat(i.value,"-is-smooth"),o({},"".concat(i.value,"-is-vertical"),b.value)]}),V=function(a){f.value=Xe(a,S.value)},J=function(a){V(He(u(),f.value,a))},ce=function(a){if(!(!w.value&&!B.value)){a.preventDefault();var _=a.deltaX,I=a.deltaY;Math.abs(_)>Math.abs(I)?V(f.value+_):V(f.value+I)}},H=function(){setTimeout(function(){V($e(u(),f.value,e.scrollPosition))},0)},U=function(){G(function(){S.value=Ue(u())})};$([function(){return e.placement},function(){return e.panels}],U),$([function(){return e.scrollPosition}],H),Pe(ee(U),O.value);var se=function(a){var _;(_=e.onAdd)===null||_===void 0||_.call(e,{e:a})},de=function(a,_){var I=_.value,z=_.disabled;if(z||e.value===I)return!1;e.onChange(I)},fe=function(a){var _=a.e,I=a.value,z=a.index;e.onRemove({e:_,value:I,index:z})},be=function(a){a!=null&&a.$el&&(a==null?void 0:a.value)===e.value&&d.value!==a.$el&&(d.value=a.$el,H())},me=Ae(e),he=me.setNavsWrap;te(function(){he(P.value),U(),H()});var ge=function(){return e.panels.map(function(a,_){var I,z;a!=null&&(I=a.children)!==null&&I!==void 0&&I.label?z=a.children.label():Ie(a.label)?z=a.label(Be):z=a.label||"选项卡".concat(_+1);var X=e.dragSort;return X&&a.draggable===!1&&(X=a.draggable),l(Fe,{ref:be,draggable:X,key:a.value,index:_,theme:e.theme,size:e.size,placement:e.placement,label:z,active:a.value===e.value,disabled:e.disabled||a.disabled,removable:a.removable,value:a.value,onClick:function(_e){return de(_e,a)},onTabRemove:fe,onTabPanelRemove:a.onRemove},null)})},Ce=function(){return[l("div",{ref:A,class:["".concat(n.value,"__operations"),"".concat(n.value,"__operations--left")]},[l(Y,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[w.value?l("div",{class:F.value,onClick:function(){return J("prev")}},[l(c,null,null)]):null]}})]),l("div",{ref:k,class:["".concat(n.value,"__operations"),"".concat(n.value,"__operations--right")]},[l(Y,{name:"fade",mode:"out-in",appear:!0},{default:function(){return[B.value?l("div",{ref:x,class:le.value,onClick:function(){return J("next")}},[l(C,null,null)]):null]}}),e.addable?l("div",{class:ue.value,onClick:se},[l(m,null,null)]):null,y.value&&e.action])]},Te=function(){var a=ge();return l("div",{class:oe.value},[l("div",{class:ie.value,onWheel:ce},[l("div",{ref:P,class:ve.value,style:R.value},[e.theme!=="card"&&l(Ve,{placement:e.placement,value:e.value,navs:a},null),a])])])};return function(){return l("div",{ref:O,class:["".concat(n.value,"__nav")],style:D.value},[Ce(),Te()])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Ge=L({name:"TTabs",props:h,setup:function(e){var n=M("tabs"),r=M(),c=we(),C=Me(e),m=C.value,i=C.modelValue,v=xe(m,i,e.defaultValue||"",e.onChange),s=ae(v,2),f=s[0],O=s[1];ze("tabs",{value:f});var P=function(u){var b;(b=e.onAdd)===null||b===void 0||b.call(e,{e:u.e})},A=function(u){O(u)},k=function(u){var b,w=u.e,B=u.value,R=u.index;(b=e.onRemove)===null||b===void 0||b.call(e,{value:B,index:R,e:w})},x=function(){var u=c("default");if(!u)return[];var b=function(B){return B.map(function(R){return R.children&&We(R.children)?b(R.children):R}).flat().filter(function(R){return R.type.name==="TTabPanel"})};return b(u)},d=function(){var u,b=((u=e.list)!==null&&u!==void 0&&u.length?e.list:x())||[],w=c("action"),B=b.map(function(D){var j=D;return D.props&&Object.keys(D.props).forEach(function(F){j[F]=D.props[F]}),j}),R={theme:e.theme,value:f.value,size:e.size,disabled:e.disabled,placement:e.placement,scrollPosition:e.scrollPosition,addable:e.addable,panels:B,dragSort:e.dragSort,action:w};return l("div",{class:o(o({},"".concat(r.value,"-tabs__header"),!0),"".concat(r.value,"-is-").concat(e.placement),!0)},[l(Ze,K(R,{onDragSort:e.onDragSort,onChange:A,onAdd:P,onRemove:k}),null)])},S=function(){var u,b=x();if((u=e.list)!==null&&u!==void 0&&u.length)return e.list.map(function(w){return l(re,K(w,{onRemove:k}),null)});if(b&&b.length)return l("div",{class:["".concat(r.value,"-tabs__content")]},[b])};return function(){return l("div",{class:[n.value]},[e.placement!=="bottom"?[d(),S()]:[S(),d()]])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var ea=ne(Ge),aa=ne(re);export{aa as T,ea as a};
