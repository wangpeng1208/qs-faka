import{d as oe,r as j,t as ce,b as g,a1 as ae,$ as ue,M as u,G as de,w as ve,n as se,o as fe,h as me,ab as ge,aa as Ce,N as ne,T as ye}from"./vue-d500b9b9.js";import{h as G,g as _e,G as le,E as he,n as z,ap as be,aq as Be,W as we,X as Ee,p as Oe,ar as Se,as as Fe,at as ke}from"./index-1ae915eb.js";import{_ as Ie}from"./dep-cc1906a8-b100bfdb.js";import{u as Te,g as Pe}from"./dep-581cd4f1-74792024.js";/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var re={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function,null]},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function,null]},confirmLoading:{type:Boolean,default:void 0},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,dialogClassName:{type:String,default:""},dialogStyle:{type:Object},draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},lazy:Boolean,mode:{type:String,default:"modal",validator:function(e){return e?["modal","modeless","normal","full-screen"].includes(e):!0}},placement:{type:String,default:"top",validator:function(e){return e?["top","center"].includes(e):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","info","warning","danger","success"].includes(e):!0}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onBeforeClose:Function,onBeforeOpen:Function,onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Me(r){var e=!1,i=!1,l=function(d){e&&i&&(r==null||r(d)),e=!1,i=!1},v=function(d){e=d.target===d.currentTarget},a=function(d){i=d.target===d.currentTarget};return{onClick:l,onMousedown:v,onMouseup:a}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ie(r){return Number.isNaN(Number(r))?r:"".concat(Number(r),"px")}function Ne(r){var e=r,i=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight;e.addEventListener("mousedown",function(v){var a=v.clientX-e.offsetLeft,y=v.clientY-e.offsetTop,d=e.offsetWidth,P=e.offsetHeight;if(d>i||P>l)return;function S(b){var f=b.clientX-a,m=b.clientY-y;f<0&&(f=0),m<0&&(m=0),i-e.offsetWidth-f<0&&(f=i-e.offsetWidth),l-e.offsetHeight-m<0&&(m=l-e.offsetHeight),e.style.position="absolute",e.style.left="".concat(f,"px"),e.style.top="".concat(m,"px")}function h(){document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",h)}document.addEventListener("mousemove",S),document.addEventListener("mouseup",h),document.addEventListener("dragend",h)})}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Le={body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function]},closeBtn:{type:[String,Boolean,Function],default:!0},confirmBtn:{type:[String,Object,Function]},confirmLoading:{type:Boolean,default:void 0},footer:{type:[Boolean,Function]},header:{type:[String,Boolean,Function],default:!0},theme:{type:String,default:"default",validator:function(e){return e?["default","info","warning","danger","success"].includes(e):!0}},onCancel:Function,onCloseBtnClick:Function,onConfirm:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function te(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);e&&(l=l.filter(function(v){return Object.getOwnPropertyDescriptor(r,v).enumerable})),i.push.apply(i,l)}return i}function X(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?te(Object(i),!0).forEach(function(l){z(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}var Ae=oe({name:"TDialogCard",directives:{draggable:function(e,i){e&&i&&i.value&&Ne(e)}},props:X(X({},re),Le),setup:function(e,i){var l=i.expose,v=j(null),a=G("dialog"),y=G(),d=Oe(),P=_e(),S=le("dialog"),h=S.globalConfig,b=he({CloseIcon:be,InfoCircleFilledIcon:Be,CheckCircleFilledIcon:we,ErrorCircleFilledIcon:Ee}),f=b.CloseIcon,m=b.InfoCircleFilledIcon,M=b.CheckCircleFilledIcon,w=b.ErrorCircleFilledIcon,N=ce(e),U=N.cancelBtn,$=N.confirmBtn,V=N.confirmLoading,K=function(_){var s;return(s=e.onConfirm)===null||s===void 0?void 0:s.call(e,{e:_})},Y=function(_){var s;return(s=e.onCancel)===null||s===void 0?void 0:s.call(e,{e:_})},L=Te({confirmBtnAction:K,cancelBtnAction:Y}),H=L.getConfirmBtn,W=L.getCancelBtn,F=g(function(){return e.mode==="modeless"}),B=g(function(){return e.mode==="full-screen"}),R=function(_){var s;return e==null||(s=e.onCloseBtnClick)===null||s===void 0?void 0:s.call(e,{e:_})},k=function(_){F.value&&e!==null&&e!==void 0&&e.draggable&&_.stopPropagation()},J=function(){!v.value&&F.value&&e.draggable||(v.value.style.position="relative",v.value.style.left="unset",v.value.style.top="unset")};l({$el:v,resetPosition:J});var A=g(function(){var C=["".concat(a.value),"".concat(a.value,"__modal-").concat(e.theme),F.value&&e.draggable&&"".concat(a.value,"--draggable"),e.dialogClassName];return B.value?C.push("".concat(a.value,"__fullscreen")):C.push.apply(C,["".concat(a.value,"--default"),"".concat(a.value,"--").concat(e.placement)]),C}),q=g(function(){return B.value?X({},e.dialogStyle):X({width:ie(e.width)},e.dialogStyle)}),Q=function(){var _=g(function(){var O;return((O=$.value)===null||O===void 0?void 0:O.loading)||V.value}),s=u("div",null,[W({cancelBtn:U.value,globalCancel:h.value.cancel,className:"".concat(a.value,"__cancel")}),H({theme:e==null?void 0:e.theme,confirmBtn:$.value,globalConfirm:h.value.confirm,globalConfirmBtnTheme:h.value.confirmBtnTheme,className:"".concat(a.value,"__confirm"),confirmLoading:_.value})]),x=d("footer",s),Z=function(){var E,o=(E=d("header",u("h5",{class:"title"},null)))!==null&&E!==void 0?E:!1,n=B.value?["".concat(a.value,"__header"),"".concat(a.value,"__header--fullscreen")]:"".concat(a.value,"__header"),t=B.value?["".concat(a.value,"__close"),"".concat(a.value,"__close--fullscreen")]:"".concat(a.value,"__close"),c=function(){var ee={info:u(m,{class:"".concat(y.value,"-is-info")},null),warning:u(w,{class:"".concat(y.value,"-is-warning")},null),danger:u(w,{class:"".concat(y.value,"-is-error")},null),success:u(M,{class:"".concat(y.value,"-is-success")},null)};return ee[e==null?void 0:e.theme]};return(o||(e==null?void 0:e.closeBtn))&&u("div",{class:n,onMousedown:k},[u("div",{class:"".concat(a.value,"__header-content")},[c(),o]),e!=null&&e.closeBtn?u("span",{class:t,onClick:R},[d("closeBtn",u(f,null,null))]):null])},p=function(){var E=P("default","body"),o=(e==null?void 0:e.theme)==="default"?["".concat(a.value,"__body")]:["".concat(a.value,"__body__icon")];return B.value&&x?o.push("".concat(a.value,"__body--fullscreen")):B.value&&o.push("".concat(a.value,"__body--fullscreen--without-footer")),u("div",{class:o,onMousedown:k},[E])},I=function(){var E=B.value?["".concat(a.value,"__footer"),"".concat(a.value,"__footer--fullscreen")]:"".concat(a.value,"__footer");return x&&u("div",{class:E,onMousedown:k},[x])};return u(de,null,[Z(),p(),!!e.footer&&I()])};return function(){return ae(u("div",{key:"dialog",ref:v,class:A.value,style:q.value},[Q()]),[[ue("draggable"),F.value&&e.draggable]])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var xe=["theme","onConfirm","onCancel","onCloseBtnClick"],D,je=function(e){D={x:e.clientX,y:e.clientY},setTimeout(function(){D=null},100)};typeof window<"u"&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",je,!0);var De=1,ze=oe({name:"TDialog",inheritAttrs:!1,props:re,emits:["update:visible"],setup:function(e,i){var l=G("dialog"),v=G(),a=j(null),y=le("dialog"),d=y.globalConfig,P=function(n){var t;(t=e.onConfirm)===null||t===void 0||t.call(e,n)},S=function(n){var t;(t=e.onCancel)===null||t===void 0||t.call(e,n),I({e:n.e,trigger:"cancel"})},h=Se(function(){return e.attach});Fe();var b=j(),f=j(),m=g(function(){return e.mode==="modal"}),M=g(function(){return e.mode==="modeless"}),w=g(function(){return e.mode==="full-screen"}),N=g(function(){return e.visible}),U=g(function(){return["".concat(l.value,"__mask"),!e.showOverlay&&"".concat(v.value,"-is-hidden")]}),$=g(function(){return w.value?["".concat(l.value,"__position_fullscreen")]:m.value||M.value?["".concat(l.value,"__position"),!!e.top&&"".concat(l.value,"--top"),"".concat(e.placement&&!e.top?"".concat(l.value,"--").concat(e.placement):"")]:[]}),V=g(function(){return w.value||m.value||M.value?["".concat(l.value,"__wrap")]:null}),K=g(function(){if(w.value)return{};var o=e.top,n={};if(o!==void 0){var t=ie(o);n={paddingTop:t}}return n}),Y=ke("dialog",{visible:N}),L=Y.isTopInteractivePopup,H=j(!1);ve(function(){return e.visible},function(o){if(o){var n;H.value=!0,(m.value&&!e.showInAttachedElement||w.value)&&(e.preventScrollThrough&&document.body.appendChild(f.value),se(function(){var t;if(D&&(t=a.value)!==null&&t!==void 0&&t.$el){var c=a.value.$el;c.style.transformOrigin="".concat(D.x-c.offsetLeft,"px ").concat(D.y-c.offsetTop,"px")}})),(n=document.activeElement)===null||n===void 0||n.blur()}else F();B(o)});function W(){var o,n;(o=f.value.parentNode)===null||o===void 0||(n=o.removeChild)===null||n===void 0||n.call(o,f.value)}function F(){clearTimeout(b.value),b.value=setTimeout(function(){W()},150)}var B=function(n){n?(document.addEventListener("keydown",k),e.confirmOnEnter&&document.addEventListener("keydown",R)):(document.removeEventListener("keydown",k),e.confirmOnEnter&&document.removeEventListener("keydown",R))},R=function(n){var t=n.target;if(t.tagName.toLowerCase()!=="input"){var c=n.code;if((c==="Enter"||c==="NumpadEnter")&&L()){var T;(T=e.onConfirm)===null||T===void 0||T.call(e,{e:n})}}},k=function(n){if(n.code==="Escape"&&L()){var t,c;(t=e.onEscKeydown)===null||t===void 0||t.call(e,{e:n}),((c=e.closeOnEscKeydown)!==null&&c!==void 0?c:d.value.closeOnEscKeydown)&&(I({e:n,trigger:"esc"}),n.stopImmediatePropagation())}},J=function(n){var t;if(e.showOverlay&&((t=e.closeOnOverlayClick)!==null&&t!==void 0?t:d.value.closeOnOverlayClick)){var c;(c=e.onOverlayClick)===null||c===void 0||c.call(e,{e:n}),I({e:n,trigger:"overlay"})}},A=Me(J),q=A.onClick,Q=A.onMousedown,C=A.onMouseup,_=function(n){var t;(t=e.onCloseBtnClick)===null||t===void 0||t.call(e,n),I({trigger:"close-btn",e:n.e})},s=function(){var n;(n=e.onBeforeOpen)===null||n===void 0||n.call(e)},x=function(){var n;(n=e.onOpened)===null||n===void 0||n.call(e)},Z=function(){var n;(n=e.onBeforeClose)===null||n===void 0||n.call(e)},p=function(){var n,t,c;(n=a.value)===null||n===void 0||(t=n.resetPosition)===null||t===void 0||t.call(n),(c=e.onClosed)===null||c===void 0||c.call(e)},I=function(n){var t;(t=e.onClose)===null||t===void 0||t.call(e,n),i.emit("update:visible",!1)},O=function(){var n=e.theme;e.onConfirm,e.onCancel,e.onCloseBtnClick;var t=Ie(e,xe);return u("div",{class:V.value},[u("div",{class:$.value,style:K.value,onClick:q,onMousedown:Q,onMouseup:C},[u(Ae,ne({ref:a,theme:n},t,{onConfirm:P,onCancel:S,onCloseBtnClick:_}),i.slots)])])};fe(function(){var o=document.documentElement.scrollHeight>document.documentElement.clientHeight,n=o?Pe():0;f.value=document.createElement("style"),f.value.dataset.id="td_dialog_".concat(+new Date,"_").concat(De+=1),f.value.innerHTML=`
        html body {
          overflow-y: hidden;
          width: calc(100% - `.concat(n,`px);
        }
      `)}),me(function(){B(!1),W()});var E=g(function(){var o=e.destroyOnClose,n=e.visible,t=e.lazy;return H.value?n||!o:!t});return function(){var o=(m.value||w.value)&&u("div",{key:"mask",class:U.value},null),n=O(),t=[o,n],c={zIndex:e.zIndex},T=["".concat(l.value,"__ctx"),z(z(z({},"".concat(l.value,"__ctx--fixed"),m.value||w.value),"".concat(l.value,"__ctx--absolute"),m.value&&e.showInAttachedElement),"".concat(l.value,"__ctx--modeless"),M.value)];return u(ye,{disabled:!e.attach||!h.value,to:h.value},{default:function(){return[u(ge,{duration:300,name:"".concat(l.value,"-zoom__vue"),onBeforeEnter:s,onAfterEnter:x,onBeforeLeave:Z,onAfterLeave:p},{default:function(){return[E.value&&ae(u("div",ne({class:T,style:c},i.attrs),[t]),[[Ce,e.visible]])]}})]}})}}});export{ze as _,Ae as a};
