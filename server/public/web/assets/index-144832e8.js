import{g as N,l as ee,h as $,n as j,bB as B,p as L,E as ne,A as te,H as x,Y as re,b4 as A,O as le,V as oe,w as H}from"./index-1ae915eb.js";import{d as V,r as I,M as f,A as ie,o as ae,j as ue,b as Q,e as ce,G as de,N as R}from"./vue-d500b9b9.js";import{P as ve}from"./index-ca6ec6df.js";import{D as J}from"./index-e6da58d2.js";import{C as se}from"./chevron-right-c3c09f0e.js";import{o as K}from"./omit-a270a1e2.js";/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var fe={active:Boolean,content:{type:[String,Function],default:""},disabled:Boolean,divider:Boolean,prefixIcon:{type:Function},theme:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},value:{type:[String,Number,Object]},onClick:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function X(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function G(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X(Object(n),!0).forEach(function(t){j(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var F=V({name:"TDropdownItem",props:G(G({},fe),{},{maxColumnWidth:{type:[String,Number],default:100},minColumnWidth:{type:[String,Number],default:10},isSubmenu:Boolean}),setup:function(e){var n=L(),t=N(),a=I();ee(e.isSubmenu?null:a);var p=n("prefixIcon"),m=$("dropdown__item"),O=function(g){var _;e.disabled||(_=e.onClick)===null||_===void 0||_.call(e,e.value,{e:g})};return function(){var d=t("default","content"),g=[m.value,"".concat(m.value,"--theme-").concat(e.theme),j(j({},"".concat(m.value,"--active"),e.active),"".concat(m.value,"--disabled"),e.disabled)];return f("li",{class:g,onClick:O,style:{maxWidth:B(e.maxColumnWidth),minWidth:B(e.minColumnWidth)},ref:a},[e.prefixIcon?f("div",{class:"".concat(m.value,"-icon")},[p]):null,d])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var U={direction:{type:String,default:"right",validator:function(e){return e?["left","right"].includes(e):!0}},disabled:Boolean,hideAfterItemClick:{type:Boolean,default:!0},maxColumnWidth:{type:[String,Number],default:100},maxHeight:{type:Number,default:300},minColumnWidth:{type:[String,Number],default:10},options:{type:Array,default:function(){return[]}},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placement:{type:String,default:"bottom-left",validator:function(e){return e?["top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"].includes(e):!0}},popupProps:{type:Object},trigger:{type:String,default:"hover",validator:function(e){return e?["hover","click","focus","context-menu"].includes(e):!0}},onClick:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function q(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function pe(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q(Object(n),!0).forEach(function(t){j(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var Z=V({name:"TDropdownMenu",props:U,setup:function(e){var n=$("dropdown"),t=$("dropdown__menu"),a=ie({}),p=I(null),m=I(),O=I(!1),d=ne({ChevronRightIcon:se}),g=d.ChevronRightIcon,_=function(l){var c,i,b=l.data,P=l.context;b==null||(c=b.onClick)===null||c===void 0||c.call(b,b,P),(i=e.onClick)===null||i===void 0||i.call(e,b,P)},h=function(l,c){var i=l.target.scrollTop;a[c]=i};ae(function(){if(m.value){var u,l=parseInt((u=window)===null||u===void 0?void 0:u.getComputedStyle(m.value).height,10);l>=e.maxHeight&&(O.value=!0)}p.value=document.querySelector(".".concat(n.value,"__item")).scrollHeight+2});var s=function(l){return te(l)?l(ue):l},v=function(l,c){var i,b=[],P;return(i=l.forEach)===null||i===void 0||i.call(l,function(k,C){var o=pe({},k),S=C-Math.ceil(a[c]/p.value),M=S>=0?S:C;o.children?(o.children=v(o.children,c+1),P=f("div",{key:C},[f(F,{style:o.style,class:["".concat(n.value,"__item"),"".concat(n.value,"__item--suffix"),o.class],value:o.value,theme:o.theme,active:o.active,prefixIcon:o.prefixIcon,disabled:o.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,isSubmenu:!0},{default:function(){return[f("div",{class:"".concat(n.value,"__item-content")},[f("span",{class:"".concat(n.value,"__item-text")},[s(o.content)]),f(g,{class:"".concat(n.value,"__item-direction"),size:"16"},null)]),f("div",{class:["".concat(n.value,"__submenu-wrapper"),j({},"".concat(n.value,"__submenu-wrapper--").concat(e.direction),e.direction)],style:{position:"absolute",top:"".concat(M*p.value,"px")}},[f("div",{class:["".concat(n.value,"__submenu"),j({},"".concat(n.value,"__submenu--disabled"),o.disabled)],style:{position:"static",maxHeight:"".concat(e.maxHeight,"px")},onScroll:function(D){return h(D,c+1)}},[f("ul",null,[o.children])])])]}}),o.divider?f(J,null,null):null])):P=f("div",{key:C},[f(F,{style:o.style,class:["".concat(n.value,"__item"),o.class],value:o.value,theme:o.theme,active:o.active,prefixIcon:o.prefixIcon,disabled:o.disabled,minColumnWidth:e.minColumnWidth,maxColumnWidth:e.maxColumnWidth,onClick:o.disabled||o.children?function(){return null}:function(w,y){return _({data:o,context:y})}},{default:function(){return[f("span",{class:"".concat(n.value,"__item-text")},[s(o.content)])]}}),o.divider?f(J,null,null):null]),b.push(P)}),b};return function(){return f("div",{class:[t.value,"".concat(t.value,"--").concat(e.direction),j({},"".concat(t.value,"--overflow"),O.value)],style:{maxHeight:"".concat(e.maxHeight,"px")},ref:m,onScroll:function(l){return h(l,0)}},[v(e.options,0)])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function z(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function W(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z(Object(n),!0).forEach(function(t){j(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var T=function(e){var n,t,a;if(!e)return[];if(x(e)&&((n=e[0])===null||n===void 0||(n=n.type)===null||n===void 0?void 0:n.name)==="TDropdownMenu"){var p,m,O=(p=e[0])===null||p===void 0||(p=p.children)===null||p===void 0||(m=p.default)===null||m===void 0?void 0:m.call(p);if(x(O))return T(O)}return x(e)?(e=e.reduce(function(d,g){return d=d.concat(x(g.children)?g.children:g),d},[]),e.map(function(d){var g,_,h,s,v,u,l,c,i,b,P=(g=d.children)===null||g===void 0||(_=g.content)===null||_===void 0?void 0:_.call(g),k=((h=d.children)===null||h===void 0||(s=h.prefixIcon)===null||s===void 0?void 0:s.call(h))||((v=d.children)===null||v===void 0||(u=v["prefix-icon"])===null||u===void 0?void 0:u.call(v)),C=(l=d.children)===null||l===void 0||(c=l.default)===null||c===void 0?void 0:c.call(l),o=C==null||(i=C.filter)===null||i===void 0?void 0:i.call(C,function(w){var y;return!["TDropdownMenu","TDropdownItem"].includes((y=w.type)===null||y===void 0?void 0:y.name)}),S=C==null||(b=C.filter)===null||b===void 0?void 0:b.call(C,function(w){var y;return!re(w.children)&&["TDropdownMenu","TDropdownItem"].includes((y=w.type)===null||y===void 0?void 0:y.name)}),M=Object.keys(d.props||{}).reduce(function(w,y){var D;return d.props[y]===""&&((D=d.type)===null||D===void 0?void 0:D.name)==="TDropdownItem"&&["active","divider","disabled"].includes(y)?w[A(y)]=!0:w[A(y)]=d.props[y],w},{});return W(W(W({content:P||o||C},M),k?{prefixIcon:function(){return k}}:{}),{},{children:(S==null?void 0:S.length)>0?T(S):null})}).filter(function(d){return!!d.content})):x(e)&&x((t=e[0])===null||t===void 0?void 0:t.children)?T((a=e[0])===null||a===void 0?void 0:a.children):[]};function me(r){var e,n,t,a,p=le(),m=ce(),O=((e=p("DropdownMenu"))===null||e===void 0||(e=e[0])===null||e===void 0||(e=e.children)===null||e===void 0||(n=e.default)===null||n===void 0?void 0:n.call(e))||((t=m.slots)===null||t===void 0||(a=t.dropdown)===null||a===void 0?void 0:a.call(t)),d=Q(function(){return r.options&&r.options.length>0?r.options:T(O)});return d}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Y(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),n.push.apply(n,t)}return n}function E(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y(Object(n),!0).forEach(function(t){j(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}var he=V({name:"TDropdown",props:U,setup:function(e,n){var t=n.attrs,a=L(),p=$("dropdown"),m=I(null),O=I(!1),d=Q(function(){var h,s,v=(h=e.popupProps)===null||h===void 0?void 0:h.delay;return oe(v)?v+10:x(v)?((s=v[1])!==null&&s!==void 0?s:v[0])+10:160}),g=function(s,v){var u;if(e.hideAfterItemClick){var l,c,i,b;setTimeout(function(){return O.value=!1},d.value),(l=e.popupProps)===null||l===void 0||(c=l.onVisibleChange)===null||c===void 0||c.call(l,!1,v),(i=e.popupProps)===null||i===void 0||(b=i["on-visible-change"])===null||b===void 0||b.call(i,!1,v)}e==null||(u=e.onClick)===null||u===void 0||u.call(e,s,v)},_=function(s,v){var u,l,c,i;O.value=s,(u=e.popupProps)===null||u===void 0||(l=u.onVisibleChange)===null||l===void 0||l.call(u,s,v),(c=e.popupProps)===null||c===void 0||(i=c["on-visible-change"])===null||i===void 0||i.call(c,s,v)};return function(){var h,s,v=(h=a("default"))===null||h===void 0?void 0:h[0],u=me(e),l=E(E(E({},t),{},{disabled:e.disabled,placement:e.placement,trigger:e.trigger},K(e.popupProps,["onVisibleChange","on-visible-change"])),{},{overlayInnerClassName:[p.value,(s=e.popupProps)===null||s===void 0?void 0:s.overlayInnerClassName]});return f(ve,R({destroyOnClose:!0,ref:m,visible:O.value,onVisibleChange:_,expandAnimation:!0},l),{default:function(){return[v]},content:function(){var i;return f(de,null,[a("panelTopContent"),(i=u.value)!==null&&i!==void 0&&i.length?f(Z,R(K(e,"onClick"),{options:u.value,onClick:g}),null):null,a("panelBottomContent")])}})}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var _e=H(he),je=H(F),Pe=H(Z);export{_e as D,je as a,Pe as b};
