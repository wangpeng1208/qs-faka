import{df as h}from"./echarts-415f4206.js";import{g as y}from"./workbench-ca1c7079.js";import{b as g,R as b}from"./index-ae3a9dfb.js";import{C as w}from"./index-c2a11f34.js";import{C as A,R as k}from"./index-2146274c.js";import{d as C,r as l,l as D,V,W as o,M as r,X as R,_ as m,u as z}from"./vue-d500b9b9.js";import{_ as B}from"./index-6b6fbd51.js";import"./omit-82a91481.js";import"./dep-0742ae64-0833915c.js";import"./dep-cc1906a8-b100bfdb.js";import"./dep-34b004f3-3e1a5725.js";import"./isNil-c75b1b34.js";import"./libs-d79b82a8.js";import"./plugins-f7b3b094.js";import"./others-381f73b9.js";const L={name:"DashboardBase"},T=C({...L,setup(W){const _=async()=>{i()},s=l("month"),p=()=>({legend:{icon:"rect",itemWidth:12,itemHeight:4,itemGap:48,textStyle:{fontSize:12},left:"center",bottom:"0",orient:"horizontal",data:["交易额","结算额"]},tooltip:{trigger:"item"},grid:{left:"5px",right:"5px",containLabel:!0,bottom:"60px"},xAxis:[{type:"category",data:t.value.xAxis,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{alignWithLabel:!0},axisLabel:{formatter:e=>`${e} 元`}}],series:[{type:"bar",name:"交易额",data:t.value.series},{type:"bar",name:"结算额",data:t.value.finallyAmount}]}),t=l({xAxis:[],series:[],finallyAmount:[]}),a=l();(async()=>{const{data:e}=await y();a.value=e,await i()})();const i=async()=>{if(t.value.xAxis=[],t.value.series=[],t.value.finallyAmount=[],s.value==="week")for(let e=0;e<a.value.res_week.length;e++)t.value.xAxis.push(a.value.res_week[e].week),t.value.series.push(a.value.res_week[e].day_amount),t.value.finallyAmount.push(a.value.res_week[e].finally_amount);else for(let e=0;e<a.value.res_month.length;e++)t.value.xAxis.push(a.value.res_month[e].month),t.value.series.push(a.value.res_month[e].month_amount),t.value.finallyAmount.push(a.value.res_month[e].month_finally_amount)};return(e,n)=>{const u=g,d=b,c=w,f=A,v=k;return D(),V(v,{gutter:[16,16]},{default:o(()=>[r(f,{xs:12,xl:12},{default:o(()=>[r(c,{bordered:!1,title:"交易统计",class:R({"dashboard-overview-card":!0,"overview-panel":!0})},{actions:o(()=>[r(d,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=x=>s.value=x),variant:"default-filled",onChange:_},{default:o(()=>[r(u,{value:"week"},{default:o(()=>[...n[1]||(n[1]=[m("最近一周",-1)])]),_:1}),r(u,{value:"month"},{default:o(()=>[...n[2]||(n[2]=[m("最近一年",-1)])]),_:1})]),_:1},8,["modelValue"])]),default:o(()=>[r(z(h),{class:"chart",option:p(),autoresize:""},null,8,["option"])]),_:1})]),_:1})]),_:1})}}});const K=B(T,[["__scopeId","data-v-490dad1b"]]);export{K as default};
