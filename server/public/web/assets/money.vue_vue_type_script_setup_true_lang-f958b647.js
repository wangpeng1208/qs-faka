import{d as F,f as R}from"./user-ba2345e5.js";import{M as d}from"./index-6b6fbd51.js";import{D as T,a as N}from"./index-d44b8ee5.js";import{D as B}from"./index-43af1be0.js";import{S as C}from"./index-18bbad02.js";import{F as O,a as P}from"./index-0fff1870.js";import{I as j}from"./index-912dcce2.js";import{I as q}from"./index-757197b9.js";import{D as E}from"./index-f937956d.js";import{d as L,A as _,r as f,l as W,V as G,W as t,M as o,_ as r,a3 as i}from"./vue-d500b9b9.js";const H={name:"MoneyPopup"},ne=L({...H,emits:["success"],setup(J,{expose:b,emit:y}){const v=[{label:"加钱",value:"inc"},{label:"扣钱",value:"dec"},{label:"解冻",value:"unfreeze"},{label:"冻结",value:"freeze"},{label:"加预存",value:"customchannelfeeadd"},{label:"扣预存",value:"customchannelfeedec"},{label:"加保证金",value:"customchanneldepositadd"},{label:"扣保证金",value:"customchanneldepositdec"}],a=_({...{user_id:0,action:"inc",money:"",mark:""}}),n=_({money:0,freeze_money:0,fee_money:0,deposit_money:0}),p=f(),c=f(!1),D=f("资金管理"),V=l=>{g(l),c.value=!0},g=async l=>{a.user_id=l;const{data:e}=await F({id:l});for(const s in n)n[s]=e[s]};b({init:V});const k={money:[{required:!0,message:"必填",type:"error"}]},x=y,w=async()=>{const l=await p.value.validate();if(typeof l!="object"&&l)try{const e=await R(a);e.code===1?(d.success("操作成功"),c.value=!1,x("success")):d.error(e.msg)}catch(e){d.error(e.msg)}};return(l,e)=>{const s=T,I=N,h=B,A=C,u=O,M=j,S=q,U=P,z=E;return W(),G(z,{visible:c.value,"onUpdate:visible":e[3]||(e[3]=m=>c.value=m),"close-on-overlay-click":!1,"destroy-on-close":!0,header:D.value,"on-confirm":w},{default:t(()=>[o(I,{title:""},{default:t(()=>[r(i(n)+" ",1),o(s,{label:"可用余额："},{default:t(()=>[r(i(n.money)+"元",1)]),_:1}),o(s,{label:"冻结余额："},{default:t(()=>[r(i(n.freeze_money)+"元",1)]),_:1}),o(s,{label:"预存："},{default:t(()=>[r(i(n.fee_money)+"元",1)]),_:1}),o(s,{label:"保证金："},{default:t(()=>[r(i(n.deposit_money)+"元",1)]),_:1})]),_:1}),o(h,null,{default:t(()=>[...e[4]||(e[4]=[r("资金操作",-1)])]),_:1}),o(U,{ref_key:"formRef",ref:p,"label-align":"left",data:a,rules:k,"label-width":80},{default:t(()=>[o(u,{label:"操作类型",name:"action"},{default:t(()=>[o(A,{modelValue:a.action,"onUpdate:modelValue":e[0]||(e[0]=m=>a.action=m),options:v},null,8,["modelValue"])]),_:1}),o(u,{label:"操作金额",name:"money"},{default:t(()=>[o(M,{modelValue:a.money,"onUpdate:modelValue":e[1]||(e[1]=m=>a.money=m),clearable:"",placeholder:"请输入操作金额",theme:"column",suffix:"元",min:"0",style:{width:"600px"}},null,8,["modelValue"])]),_:1}),o(u,{label:"操作备注",name:"mark"},{default:t(()=>[o(S,{modelValue:a.mark,"onUpdate:modelValue":e[2]||(e[2]=m=>a.mark=m),clearable:"",placeholder:"请输入操作备注"},null,8,["modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["visible","header"])}}});export{ne as _};
