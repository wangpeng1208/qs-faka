import{d as e}from"./plugins-f7b3b094.js";import{r as a}from"./index-5ae314bf.js";function r(t){return a.post({url:"/merchantapi/user/message/list",params:t})}function n(t){return a.post({url:"/merchantapi/user/message/read",params:t})}function u(){return a.post({url:"/merchantapi/user/message/readAll"})}function i(){return a.post({url:"/merchantapi/user/message/unReadCount"})}function g(t){return a.post({url:"/merchantapi/user/message/del",params:t})}const d=e("message",{state:()=>({msgDataList:[],unReadMsgCount:0}),getters:{msgData(){return this.msgDataList},unReadCount(){return this.unReadMsgCount}},actions:{async getMsgData(){const{data:t}=await r({page:1,limit:5,status:0});this.msgDataList=t.list;const s=await i();s.code===1&&(this.unReadMsgCount=s.data??0)},async setMsgRead(t){(await n({id:t})).code===1&&await this.getMsgData()},async setMsgReadAll(){(await u()).code===1&&this.msgData.forEach(s=>{s.status=!0})}},persist:!0});export{u as a,g as d,r as l,n as r,d as u};
