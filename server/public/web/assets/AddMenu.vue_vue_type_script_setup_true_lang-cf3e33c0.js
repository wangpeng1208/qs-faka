import{bP as k,bQ as y,bR as A}from"./index-ebc513dd.js";import{T as S}from"./index-f001b1b6.js";import{S as x}from"./index-b206f515.js";import{D as w}from"./index-c22455b5.js";import{d as C,r as s,l as i,V as m,W as l,M as U,m as B,G as D,a5 as T,_ as V,a3 as N}from"./vue-51c2f431.js";const $=C({__name:"AddMenu",emits:["refresh"],setup(E,{expose:f,emit:_}){const c=s([]);(async()=>{const e=await k();e.code&&(c.value=e.data)})();const a=s([]),u=async()=>{const e=await y();e.code&&e.data!==void 0&&(a.value=e.data)};u();const n=s(!1),p=s("添加菜单"),v=_,g=async e=>{if(a.value.length>0&&a.value.some(r=>r.menu_id===e))return;(await A({menu_id:e})).code&&(u(),v("refresh"))};return f({init:()=>{n.value=!0}}),(e,o)=>{const r=S,h=x,M=w;return i(),m(M,{visible:n.value,"onUpdate:visible":o[0]||(o[0]=t=>n.value=t),"close-on-overlay-click":!1,"destroy-on-close":!0,header:p.value,footer:!1},{default:l(()=>[U(h,{align:"center","break-line":""},{default:l(()=>[(i(!0),B(D,null,T(c.value,(t,b)=>(i(),m(r,{key:b,theme:a.value.some(d=>d.id===t.id)?"default":"primary",onClick:d=>g(t.id)},{default:l(()=>[V(N(t.title),1)]),_:2},1032,["theme","onClick"]))),128))]),_:1})]),_:1},8,["visible","header"])}}});export{$ as _};
