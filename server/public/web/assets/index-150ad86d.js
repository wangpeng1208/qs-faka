import{_ as W}from"./bg_index3-eb28e339.js";import{e as Y,a8 as Z,r as s,l as ee,P as u,Q as g,f as n,a7 as e,ab as i,ae as N,a9 as m,a4 as d,H as y,a3 as x,I as te,ac as le,ad as ae}from"./vue-bf422dc1.js";import{q as oe}from"./complaint-f66da340.js";import{q as se}from"./order-a917f661.js";import{c as ne,_ as de}from"./index-45c41893.js";import{f as ue}from"./date-20546ee0.js";import ie from"./ComplaintDeatil-fad0eb81.js";import re from"./MiniHeader-06d79721.js";import{M as q,d as ce,I as _e,B as ve,F as pe,e as me,f as he,v as fe,S as ye,w as be,N as ge}from"./ui-ba7aaa7e.js";import"./libs-51817cd7.js";import"./plugins-ca970193.js";import"./others-9f318174.js";import"./echarts-bf9d612c.js";import"./icons-a8498fb6.js";import"./index-b02b5348.js";import"./PlaintDialog-1b10c320.js";const l=w=>(le("data-v-80bb48e3"),w=w(),ae(),w),xe={id:"index",class:"order-wrapper"},we={class:"order-banner"},ke={class:"container"},Te=l(()=>e("dt",null,[e("img",{src:W,style:{transform:"scaleX(-1)",height:"150px"}})],-1)),Ce={class:"order-search"},Ve={class:"order-search-box"},qe={class:"item"},Se={class:"input-group"},Ie={style:{width:"100%",display:"flex"}},Be={style:{width:"20%"}},Me=l(()=>e("span",null,"查询类型",-1)),De=l(()=>e("span",null,"订单号",-1)),He=l(()=>e("span",null,"查询密码",-1)),Le={style:{width:"20%"}},Re=l(()=>e("span",null,"查询类型",-1)),Ue=l(()=>e("div",{class:"p d-none d-lg-block"},[e("span",null,"免责声明："),y("平台不参与商品售卖，如需售后请点击联系商家，若需要平台介入售后：可在【订单投诉】等待平台处理。(且平台只处理24小时内订单)")],-1)),Ne={class:"order"},Qe={key:0,class:"container"},ze=l(()=>e("div",{class:"no-order"},[e("p",null,"没有查询到订单信息")],-1)),$e=l(()=>e("div",{class:"no-order"},[e("p",null,"订单未支付")],-1)),je={class:"order-list"},Fe={class:"h",style:{display:"flex","justify-content":"space-between","align-items":"center"}},Oe=l(()=>e("dt",null,"下单时间",-1)),Xe=l(()=>e("dt",null,"付款方式",-1)),Ae=l(()=>e("dt",null,"支付金额",-1)),Ee=l(()=>e("dt",null,"已发卡密",-1)),Pe=l(()=>e("dt",null,"商品名称",-1)),Ge={style:{"max-width":"303px"}},Je={style:{"text-align":"center"}},Ke={style:{}},We=["innerHTML"],Ye={class:"remark"},Ze=l(()=>e("span",null,"使用说明",-1)),et=["innerHTML"],tt={class:"remark"},lt=l(()=>e("span",null,"联系商家",-1)),at={class:"contact-content"},ot={key:0},st={key:1},nt={key:2},dt=l(()=>e("div",{class:"container copyright"},[y(" 防骗提示：如果您查询卡密时发现有以下情况,证明您很有可能被骗,请及时与快发卡客服联系 "),e("br"),y(' 1.卡密内容为"联系XX取卡"、"付款成功，等待充值" 2.以各种理由推脱到第二天发货 3.商品有问题，卖家不售后 4.承诺充值返现 5.购买的商品为实物，需要快递发货 ')],-1)),ut=Y({__name:"index",setup(w){const Q=Z(),{tscx:z,orderId:B}=Q.currentRoute.value.query,a=s({value:"1",label:"订单查询",text:"轻松查询订单,即刻享受卡密自动交易",submitText:"查询订单"});z&&(a.value={value:"2",label:"投诉查询",text:"轻松查询投诉,保障您的消费权益",submitText:"查询投诉"});const $=[{label:"订单查询",value:"1"},{label:"投诉查询",value:"2"}],j=p=>{p.value==="1"?(a.value.text="轻松查询订单,即刻享受卡密自动交易",a.value.submitText="查询订单"):(a.value.text="轻松查询投诉,保障您的消费权益",a.value.submitText="查询投诉"),a.value=p},S=s(!1),h=s("");B&&(h.value=B);const M=s(3),b=s(""),D=s(""),_=s({trade_no:"Dd240318072806b1a72b16",create_at:1,total_price:"",quantity:"",status:0}),H=s(""),k=s({name:"",remark:""}),f=s({wechat:"",mobile:"",qq:""}),T=s(!1),C=s(!1),v=s(""),L=s(),R=async()=>{var o;if(!h.value.length){q.error("请输入订单号！");return}let p=2;/^1[3456789]\d{9}$/.test(h.value)&&(p=3),M.value=p,S.value=!1,T.value=!0;try{let t;if(a.value.value==="1"?t=await se({orderid:h.value,queryType:M.value,pwd:v.value}):t=await oe({trade_no:h.value,pwd:v.value}),T.value=!1,t.code===1001){C.value=!0;return}if(t.code===0){q.error(t.msg);return}a.value.value==="1"?(_.value=t.data.order,b.value=t.data.outCards,D.value=b.value.replace(/\n/g,"<br />"),H.value=t.data.paytype,k.value=t.data.goods,f.value=t.data.shop.shop_contact,S.value=!0,C.value=!1,v.value=""):(o=L.value)==null||o.init(t.data)}catch{T.value=!1,q.error("查询出错")}},U=ee({content:"查询",loading:!1}),F=()=>{v.value?(U.content="查询中...",U.loading=!0,R()):q.error("请输入查询密码")},O=()=>{const p=`${k.value.name}-${_.value.trade_no}.txt`,o=b.value,t=window.URL.createObjectURL(new Blob([o])),r=document.createElement("a");r.style.display="none",r.href=t,r.setAttribute("download",p),document.body.appendChild(r),r.click()},X=()=>{ne(b.value)};return(p,o)=>{const t=ce,r=_e,V=ve,A=pe,E=me,P=he,I=fe,G=ye,J=be,K=ge;return u(),g("div",xe,[n(re),e("div",we,[e("div",ke,[e("dl",null,[Te,e("dd",null,i(a.value.text),1)]),e("div",Ce,[e("div",Ve,[e("div",qe,[e("div",Se,[e("div",Ie,[e("div",Be,[Me,n(t,{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=c=>a.value=c),class:"searchType","value-type":"object",size:"large",options:$,onChange:j},null,8,["modelValue"])]),e("div",{style:N(a.value.value=="2"?"width:30%;margin-right: 20px;":"width: 60%;margin-right: 20px;")},[De,n(r,{modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=c=>h.value=c),class:"orderid_input",size:"large",placeholder:"请输入订单号"},null,8,["modelValue"])],4),a.value.value=="2"?(u(),g("div",{key:0,style:N(a.value.value=="2"?"width:30%;margin-right: 20px;":"")},[He,n(r,{modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=c=>v.value=c),class:"orderid_input",size:"large",placeholder:"请输入查询密码"},null,8,["modelValue"])],4)):m("",!0),e("div",Le,[Re,n(V,{class:"order-btn",onClick:R},{default:d(()=>[y(i(a.value.submitText),1)]),_:1})])])])]),Ue])])])]),n(P,{visible:C.value,"onUpdate:visible":o[4]||(o[4]=c=>C.value=c),"close-on-overlay-click":!1,header:"提示",mode:"modal",draggable:"","confirm-btn":"确定","on-confirm":F},{body:d(()=>[n(E,{ref:"form","label-align":"top"},{default:d(()=>[n(A,{label:"",name:"name"},{default:d(()=>[n(r,{modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=c=>v.value=c),placeholder:"请输入查询密码",style:{width:"500px"}},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["visible"]),e("div",Ne,[S.value?(u(),g("div",Qe,[n(J,null,{default:d(()=>[_.value?m("",!0):(u(),x(I,{key:0,class:"col-lg-12"},{default:d(()=>[ze]),_:1})),_.value.status==0?(u(),x(I,{key:1,class:"col-lg-12"},{default:d(()=>[$e]),_:1})):(u(),x(I,{key:2,span:12},{default:d(()=>[e("div",je,[n(V,null,{default:d(()=>[y("订单号："+i(_.value.trade_no),1)]),_:1}),e("div",Fe,[e("dl",null,[Oe,e("dd",null,i(te(ue)(_.value.create_at)),1)]),e("dl",null,[Xe,e("dd",null,i(H.value),1)]),e("dl",null,[Ae,e("dd",null,i(_.value.total_price)+"元",1)]),e("dl",null,[Ee,e("dd",null,"发放卡密"+i(_.value.quantity)+"张",1)]),e("dl",null,[Pe,e("dd",Ge,i(k.value.name),1)])]),e("div",Je,[n(G,null,{default:d(()=>[b.value?(u(),x(V,{key:0,onClick:O},{default:d(()=>[y("导出卡密")]),_:1})):m("",!0),b.value?(u(),x(V,{key:1,tip:"点击复制",onClick:X},{default:d(()=>[y("复制卡密")]),_:1})):m("",!0)]),_:1})]),e("div",Ke,[e("div",{id:"copyText",innerHTML:D.value},null,8,We),e("div",Ye,[Ze,e("div",{innerHTML:k.value.remark},null,8,et)]),e("div",tt,[lt,e("div",at,[f.value.mobile?(u(),g("div",ot,[e("span",null,"手机号："+i(f.value.mobile),1)])):m("",!0),f.value.qq?(u(),g("div",st,[e("span",null,"QQ号："+i(f.value.qq),1)])):m("",!0),f.value.wechat?(u(),g("div",nt,[e("span",null,"微信号："+i(f.value.wechat),1)])):m("",!0)])])])])]),_:1}))]),_:1})])):m("",!0)]),n(K,{loading:T.value,text:"加载中...",fullscreen:""},null,8,["loading"]),dt,n(ie,{ref_key:"complaintDeatilRef",ref:L},null,512)])}}});const Ct=de(ut,[["__scopeId","data-v-80bb48e3"]]);export{Ct as default};
