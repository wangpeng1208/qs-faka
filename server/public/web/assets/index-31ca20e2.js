import{_ as xl}from"./dep-cc1906a8-b100bfdb.js";import{_ as Tl,a as Ye}from"./dep-0742ae64-e2730b23.js";import{S as xe,v as rl,x as $l,y as jl,z as Nl,A as ul,p as ol,l as Bl,m as de,n as il,q as ae,o as Rl,s as Y,t as Be,B as Dl,C as ee,D as ge,E as Fl,F as oe,G as vl,H as Ml,I as El,J as qe,K as Te,N as Ll,O as zl,w as Re}from"./index-ebc513dd.js";import{F as Hl}from"./fake-arrow-cad1ce15.js";import{S as Kl,p as Ul}from"./index-e2b6bb2b.js";import{a as Gl,b as Yl,c as ql,i as Jl}from"./index-d5e568e3.js";import{d as Se,i as De,b as C,r as le,o as cl,h as sl,M as F,F as fl,e as Wl,w as Oe,G as Je,N as Ce,t as Zl,I as We,n as $e}from"./vue-51c2f431.js";import{o as Xl}from"./omit-7a5ea809.js";import{T as Ql}from"./index-f001b1b6.js";function et(){}var lt=1/0,tt=xe&&1/rl(new xe([,-0]))[1]==lt?function(l){return new xe(l)}:et;const nt=tt;var at=200;function rt(l,e,t){var n=-1,i=Gl,f=l.length,h=!0,d=[],r=d;if(t)h=!1,i=Yl;else if(f>=at){var p=e?null:nt(l);if(p)return rl(p);h=!1,i=jl,r=new $l}else r=e?[]:d;e:for(;++n<f;){var T=l[n],N=e?e(T):T;if(T=t||T!==0?T:0,h&&N===N){for(var E=r.length;E--;)if(r[E]===N)continue e;e&&r.push(N),d.push(T)}else i(r,N,t)||(r!==d&&r.push(N),d.push(T))}return d}function Ze(l,e){return l&&l.length?rt(l,Nl(e)):[]}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var ut={checkAll:Boolean,content:{type:[String,Function]},default:{type:[String,Function]},disabled:Boolean,label:{type:String,default:""},title:{type:String,default:""},value:{type:[String,Number,Boolean]}};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ot(l,e){var t=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!t){if(Array.isArray(l)||(t=it(l))||e&&l&&typeof l.length=="number"){t&&(l=t);var n=0,i=function(){};return{s:i,n:function(){return n>=l.length?{done:!0}:{done:!1,value:l[n++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,h=!0,d=!1;return{s:function(){t=t.call(l)},n:function(){var p=t.next();return h=p.done,p},e:function(p){d=!0,f=p},f:function(){try{h||t.return==null||t.return()}finally{if(d)throw f}}}}function it(l,e){if(l){if(typeof l=="string")return Xe(l,e);var t={}.toString.call(l).slice(8,-1);return t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set"?Array.from(l):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Xe(l,e):void 0}}function Xe(l,e){(e==null||e>l.length)&&(e=l.length);for(var t=0,n=Array(e);t<e;t++)n[t]=l[t];return n}var je=function(e,t,n,i){if(t){var f;return((f=n.value.filter(function(d){return d.value===e})[0])===null||f===void 0?void 0:f.label)||(e==null?void 0:e.toString())}var h=i.value.get(e);return(h==null?void 0:h.label)||(e==null?void 0:e.toString())},vt=function(e,t,n,i){var f=[],h=ot(e),d;try{for(h.s();!(d=h.n()).done;){var r=d.value,p=je(r,t,n,i);p&&f.push(p)}}catch(T){h.e(T)}finally{h.f()}return f},dl=function(e,t){var n=ul(e),i=n.indexOf(t);return i<0?n.push(t):n.splice(i,1),{value:n,isCheck:i<0}};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Pe=Symbol("selectProvide");/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function Qe(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(l,i).enumerable})),t.push.apply(t,n)}return t}function el(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qe(Object(t),!0).forEach(function(n){ae(l,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(t,n))})}return l}function ct(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!fl(l)}var Ne=Se({name:"TOption",props:el(el({},ut),{},{createAble:Boolean,multiple:Boolean,index:Number,rowIndex:Number,trs:Map,scrollType:String,isVirtual:Boolean,bufferSize:Number,checkAll:Boolean}),emits:["row-mounted"],setup:function(e,t){var n=De(Pe),i=ol(),f=Wl(),h=f.vnode,d=C(function(){return n.value.max!==0&&n.value.max<=n.value.selectValue.length}),r=C(function(){return i.value||e.multiple&&d.value&&!a.value&&!n.value.isCheckAll}),p=Bl(),T=de("select"),N=il(),E=N.STATUS,q=N.SIZE,H=le(),_=le(!1),a=C(function(){return n.value.isCheckAll&&!e.disabled?!0:e.multiple?n.value.selectValue.includes(e.value):n.value.selectValue===e.value}),x=C(function(){return e.checkAll?n.value.indeterminate:!1}),k=C(function(){return["".concat(T.value,"-option"),[q.value[n.value.size]],ae(ae(ae({},E.value.disabled,r.value),E.value.selected,a.value),"".concat(T.value,"-option__hover"),(_.value||n.value.hoverIndex===e.index)&&!r.value)]}),g=C(function(){return e.label||e.value}),j=function(O){if(!(e.disabled||r.value)){if(e.multiple){B(!a.value,{e:O}),O.preventDefault();return}if(e.createAble){var y,I;if((y=(I=n.value).handleCreate)===null||y===void 0||y.call(I,e.value),n.value.multiple){n.value.handleValueChange([].concat(Y(n.value.selectValue),[e.value]),{selectedOptions:n.value.getSelectedOptions(),trigger:"check",e:O});return}}var w=n.value.getSelectedOptions(e.value);n.value.handleValueChange(e.value,{option:w==null?void 0:w[0],selectedOptions:w,trigger:"check",e:O}),n.value.handlePopupVisibleChange(!1,{e:O}),n.value.emitBlur(O)}},B=function(O,y){var I;if(e.checkAll){n.value.onCheckAllChange(O);return}var w=dl(n.value.selectValue,e.value),M=n.value.getSelectedOptions(w.value),b=(I=n.value.getSelectedOptions(e.value))===null||I===void 0?void 0:I[0];n.value.handleValueChange(w.value,{option:b,selectedOptions:M,trigger:O?"check":"uncheck",e:y.e})},P=function(){var O=h.props||{};return Reflect.has(O,"title")?e.title:typeof g.value=="string"?g.value:null};return cl(function(){var m=e.trs,O=e.rowIndex,y=e.isVirtual;y&&(m.set(O,H.value),t.emit("row-mounted"))}),sl(function(){if(e.isVirtual){var m=e.trs,O=e.rowIndex;m.delete(O)}}),Rl(H),function(){var m=p("default","content")||g.value;return F("li",{ref:H,class:k.value,title:P(),onMouseenter:function(){return _.value=!0},onMouseleave:function(){return _.value=!1},onClick:j},[n&&e.multiple?F(ql,{checked:a.value,disabled:r.value,onChange:B,indeterminate:x.value},ct(m)?m:{default:function(){return[m]}}):F("span",null,[m])])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var st={divider:{type:Boolean,default:!0},label:{type:String}};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var pl=Se({name:"TOptionGroup",props:st,setup:function(e){var t=De(Pe),n=de("select-option-group"),i=il(),f=i.SIZE,h=Be(),d=C(function(){return[n.value,f.value[t.value.size],ae({},"".concat(n.value,"__divider"),e.divider)]});return function(){var r;return F("li",{class:d.value},[((r=e.label)!==null&&r!==void 0?r:!1)&&F("div",{class:"".concat(n.value,"__header")},[e.label]),h("default")])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var G={autoWidth:Boolean,autofocus:Boolean,borderless:Boolean,clearable:Boolean,collapsedItems:{type:Function},creatable:Boolean,disabled:{type:Boolean,default:void 0},empty:{type:[String,Function]},filter:{type:Function},filterable:Boolean,inputProps:{type:Object},inputValue:{type:[String,Number],default:void 0},defaultInputValue:{type:[String,Number]},keys:{type:Object},label:{type:[String,Function]},loading:Boolean,loadingText:{type:[String,Function]},max:{type:Number,default:0},minCollapsedNum:{type:Number,default:0},multiple:Boolean,options:{type:Array},panelBottomContent:{type:[String,Function]},panelTopContent:{type:[String,Function]},placeholder:{type:String,default:void 0},popupProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:Boolean,prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},reserveKeyword:Boolean,scroll:{type:Object},selectInputProps:{type:Object},showArrow:{type:Boolean,default:!0},size:{type:String,default:"medium",validator:function(e){return e?["small","medium","large"].includes(e):!0}},status:{type:String,default:"default",validator:function(e){return e?["default","success","warning","error"].includes(e):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tagInputProps:{type:Object},tagProps:{type:Object},tips:{type:[String,Function]},value:{type:[String,Number,Boolean,Object,Array],default:void 0},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:void 0},valueDisplay:{type:[String,Function]},valueType:{type:String,default:"value",validator:function(e){return e?["value","object"].includes(e):!0}},onBlur:Function,onChange:Function,onClear:Function,onCreate:Function,onEnter:Function,onFocus:Function,onInputChange:Function,onPopupVisibleChange:Function,onRemove:Function,onSearch:Function};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ft(l){var e=l.displayOptions,t=l.optionsList,n=l.innerPopupVisible,i=l.setInnerPopupVisible,f=l.selectPanelRef,h=l.isFilterable,d=l.isRemoteSearch,r=l.getSelectedOptions,p=l.setInnerValue,T=l.onCheckAllChange,N=l.innerValue,E=l.popupContentRef,q=l.multiple,H=l.max,_=l.isCheckAll,a=le(-1),x=le([]),k=le([]),g=de(),j=function(P){var m,O,y=e.value.length,I=a.value;switch(P.code){case"ArrowUp":P.preventDefault(),a.value===-1?I=0:a.value===0||a.value>e.value.length-1?I=y-1:I--,(m=t.value[I])!==null&&m!==void 0&&m.disabled&&I--,a.value=I;break;case"ArrowDown":P.preventDefault(),a.value===-1||a.value>=y-1?I=0:I++,(O=t.value[I])!==null&&O!==void 0&&O.disabled&&I++,a.value=I;break;case"Enter":if(a.value===-1)break;var w=f.value.isVirtual&&h.value&&k.value.length?k.value:d.value?t.value:x.value;if(w.length||(w=t.value),!n.value){i(!0,{e:P});break}if(q){var b;if(a.value===-1)return;if(w[a.value].checkAll){T(!_.value);return}var $=(b=w[a.value])===null||b===void 0?void 0:b.value;if(!$)return;var R=dl(N.value,$);if(H>0&&R.value.length>H)return;var D=r(R.value);p(R.value,{option:D.find(function(K){return K.value==$}),selectedOptions:D,trigger:R.isCheck?"check":"uncheck",e:P}),x.value=[]}else{var M=r(w[a.value].value);p(w[a.value].value,{option:M==null?void 0:M[0],selectedOptions:r(w[a.value].value),trigger:"check",e:P}),i(!1,{e:P})}break;case"Escape":i(!1,{e:P});break}};return Oe(n,function(B){B&&(a.value=-1,k.value=[],x.value=[])}),Oe(a,function(B){var P,m=(P=f.value)===null||P===void 0||(P=P.innerRef)===null||P===void 0||(P=P.querySelector(".".concat(g.value,"-select-option")))===null||P===void 0?void 0:P.clientHeight,O=m*B;E.value.scrollTo({top:O,behavior:"smooth"})}),{hoverIndex:a,handleKeyDown:j,virtualFilteredOptions:k,filteredOptions:x}}/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var dt=function(e){var t,n,i,f,h,d=C(function(){var y,I,w;return((y=e.scroll)===null||y===void 0?void 0:y.type)==="virtual"&&((I=e.options.value)===null||I===void 0?void 0:I.length)>(((w=e.scroll)===null||w===void 0?void 0:w.threshold)||100)}),r=((t=e.scroll)===null||t===void 0?void 0:t.type)==="virtual"?Dl({container:e.popupContentRef,data:e.options,fixedHeight:((n=e.scroll)===null||n===void 0?void 0:n.isFixedRowHeight)||!1,lineHeight:((i=e.scroll)===null||i===void 0?void 0:i.rowHeight)||28,bufferSize:((f=e.scroll)===null||f===void 0?void 0:f.bufferSize)||20,threshold:((h=e.scroll)===null||h===void 0?void 0:h.threshold)||100}):{},p=r.trs,T=p===void 0?null:p,N=r.visibleData,E=N===void 0?null:N,q=r.handleScroll,H=q===void 0?null:q,_=r.scrollHeight,a=_===void 0?null:_,x=r.translateY,k=x===void 0?null:x,g=r.handleRowMounted,j=g===void 0?null:g,B=-1,P=function(I){if(d.value){var w=I.target,M=w.scrollTop;Math.abs(B-M)>5?(H(),B=M):B=-1}};cl(function(){var y;(y=e.popupContentRef.value)===null||y===void 0||y.addEventListener("scroll",P)}),sl(function(){var y;(y=e.popupContentRef.value)===null||y===void 0||y.removeEventListener("scroll",P)});var m=C(function(){return{position:"absolute",width:"1px",height:"1px",transition:"transform 0.2s",transform:"translate(0, ".concat(a.value,"px)"),"-ms-transform":"translate(0, ".concat(a.value,"px)"),"-moz-transform":"translate(0, ".concat(a.value,"px)"),"-webkit-transform":"translate(0, ".concat(a.value,"px)")}}),O=C(function(){return{transform:"translate(0, ".concat(k.value,"px)"),"-ms-transform":"translate(0, ".concat(k.value,"px)"),"-moz-transform":"translate(0, ".concat(k.value,"px)"),"-webkit-transform":"translate(0, ".concat(k.value,"px)")}});return{trs:T,scrollHeight:a,translateY:k,visibleData:E,handleRowMounted:j,isVirtual:d,cursorStyle:m,panelStyle:O}};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function ye(l,e){var t=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!t){if(Array.isArray(l)||(t=pt(l))||e&&l&&typeof l.length=="number"){t&&(l=t);var n=0,i=function(){};return{s:i,n:function(){return n>=l.length?{done:!0}:{done:!1,value:l[n++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,h=!0,d=!1;return{s:function(){t=t.call(l)},n:function(){var p=t.next();return h=p.done,p},e:function(p){d=!0,f=p},f:function(){try{h||t.return==null||t.return()}finally{if(d)throw f}}}}function pt(l,e){if(l){if(typeof l=="string")return ll(l,e);var t={}.toString.call(l).slice(8,-1);return t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set"?Array.from(l):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ll(l,e):void 0}}function ll(l,e){(e==null||e>l.length)&&(e=l.length);for(var t=0,n=Array(e);t<e;t++)n[t]=l[t];return n}function tl(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(l,i).enumerable})),t.push.apply(t,n)}return t}function J(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tl(Object(t),!0).forEach(function(n){ae(l,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):tl(Object(t)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(t,n))})}return l}var ht=function(e,t,n,i){var f=Fl(),h=le([]),d=C(function(){var _,a=0,x=((_=e.options)===null||_===void 0?void 0:_.map(function(D){var K=function(re){var Z=t.value,X=Z.value,pe=Z.label,ie=Z.disabled,W=J(J({},re),{},{index:a,label:oe(re,pe),value:oe(re,X),disabled:oe(re,ie)||!1});return a++,W};return D.children?J(J({},D),{},{children:D.children.map(function(te){return K(te)})}):K(D)}))||[],k=f("Option"),g=f("OptionGroup");if(ee(g)){var j=ye(g),B;try{for(j.s();!(B=j.n()).done;){var P,m=B.value,O=J(J({group:(P=m.props)===null||P===void 0?void 0:P.label},m.props),{},{children:[]}),y=f("Option",m.children);if(ee(y)){var I=ye(y),w;try{for(I.s();!(w=I.n()).done;){var M=w.value;O.children.push(J(J({},M.props),{},{slots:M.children,index:a})),a++}}catch(D){I.e(D)}finally{I.f()}x.push(O)}}}catch(D){j.e(D)}finally{j.f()}}if(ee(k)){var b=ye(k),$;try{for(b.s();!($=b.n()).done;){var R=$.value;x.push(J(J({},R.props),{},{slots:R.children,index:a})),a++}}catch(D){b.e(D)}finally{b.f()}}return x}),r=C(function(){var _=[],a=function(k){var g=ye(k),j;try{for(g.s();!(j=g.n()).done;){var B=j.value;B.children?a(B.children):_.push(B)}}catch(P){g.e(P)}finally{g.f()}};return a(d.value),_}),p=C(function(){var _=new Map;return h.value.concat(r.value).forEach(function(a){_.set(a.value,a)}),_}),T=function(a){var x,k;return ge(e.filter)?e.filter("".concat(n.value),a):((x=a.label)===null||x===void 0||(k=x.toLowerCase)===null||k===void 0?void 0:k.call(x).indexOf("".concat(n.value).toLowerCase()))>-1},N=le([]),E=function(a,x){return a.filter(function(k){if(!k.checkAll)return ee(x)?x.includes(k.value):x===k.value})},q=C(function(){var _=E(r.value,i.value);N.value=Ze([].concat(Y(N.value),Y(_)),"value");var a=E(N.value,i.value);return Ze([].concat(Y(a),Y(r.value)),"value")}),H=C(function(){if(e.onSearch&&e.filterable||!n.value||!(e.filterable||ge(e.filter)))return d.value;var _,a=[];if(d.value.forEach(function(g){g.children&&a.push(J(J({},g),{},{children:g.children.filter(T)})),(g==null?void 0:g.checkAll)===!0&&(_=g),T(g)&&a.push(g)}),!ge(e.filter)){var x=a.filter(function(g){return g.label===n.value}),k=a.filter(function(g){return g.label!==n.value});a=x.concat(k)}return a.length&&_?[_].concat(Y(a)):a});return{options:d,optionsMap:p,optionsList:r,optionsCache:h,displayOptions:H,filterMethods:T,searchDisplayOptions:q}};/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */function gt(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!fl(l)}var mt=Se({name:"TSelectPanel",props:{inputValue:G.inputValue,panelTopContent:G.panelTopContent,panelBottomContent:G.panelBottomContent,empty:G.empty,creatable:G.creatable,loading:G.loading,loadingText:G.loadingText,multiple:G.multiple,filterable:G.filterable,filter:G.filter,scroll:G.scroll,keys:G.keys},setup:function(e,t){var n=t.expose,i=de("select"),f=Be(),h=Ml(),d=vl("select"),r=d.t,p=d.globalConfig,T=De(Pe),N=le(null),E=C(function(){return e.keys}),q=C(function(){return T.value.popupContentRef.value}),H=C(function(){return e.creatable&&e.filterable&&e.inputValue}),_=C(function(){return T.value.displayOptions}),a=dt({scroll:e.scroll,popupContentRef:q,options:_}),x=a.trs,k=a.visibleData,g=a.handleRowMounted,j=a.isVirtual,B=a.panelStyle,P=a.cursorStyle,m=C(function(){return!_.value.length}),O=function(){return F("ul",{class:["".concat(i.value,"__create-option"),"".concat(i.value,"__list")]},[F(Ne,{value:e.inputValue,label:"".concat(e.inputValue),createAble:!0,class:"".concat(i.value,"__create-option--special")},null)])},y=function(b){return F("ul",{class:"".concat(i.value,"__list")},[b.map(function($,R){var D,K;if($.children){var te;return F(pl,{label:$.group,divider:$.divider},gt(te=y($.children))?te:{default:function(){return[te]}})}var re=["index","$index","className","tagName"],Z=E.value||{},X=Z.value,pe=Z.label,ie=Z.disabled,W=[X,pe,ie].includes("content"),ve=Xl($,re.concat(W?"content":[]));return F(Ne,Ce(ve,j.value?{rowIndex:$.$index,trs:x,scrollType:(D=e.scroll)===null||D===void 0?void 0:D.type,isVirtual:j.value,bufferSize:(K=e.scroll)===null||K===void 0?void 0:K.bufferSize,key:"".concat($.$index||"","_").concat(R,"_").concat($.value)}:{key:"".concat(R,"_").concat($.value)},{index:R,multiple:e.multiple,onRowMounted:g}),$.slots)})])},I=C(function(){return{small:"s",medium:"m",large:"l"}[T.value.size]});n({innerRef:N,visibleData:k,isVirtual:j,displayOptions:_});var w=function(b,$){return F("div",{ref:N,class:["".concat(i.value,"__dropdown-inner"),"".concat(i.value,"__dropdown-inner--size-").concat(I.value)],style:$},[H.value&&O(),e.loading&&h("loadingText",{defaultNode:F("div",{class:"".concat(i.value,"__loading-tips")},[r(p.value.loadingText)])}),!e.loading&&m.value&&!H.value&&F("div",{class:"".concat(i.value,"__empty")},[f("empty")||r(p.value.empty)]),!m.value&&y(b)])};return function(){return j.value?F(Je,null,[f("panelTopContent"),F("div",null,[F("div",{style:P.value},null),w(k.value,B.value)]),f("panelBottomContent")]):F(Je,null,[f("panelTopContent"),w(_.value),f("panelBottomContent")])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var bt=["overlayClassName"];function yt(l,e){var t=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!t){if(Array.isArray(l)||(t=Ct(l))||e&&l&&typeof l.length=="number"){t&&(l=t);var n=0,i=function(){};return{s:i,n:function(){return n>=l.length?{done:!0}:{done:!1,value:l[n++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f,h=!0,d=!1;return{s:function(){t=t.call(l)},n:function(){var p=t.next();return h=p.done,p},e:function(p){d=!0,f=p},f:function(){try{h||t.return==null||t.return()}finally{if(d)throw f}}}}function Ct(l,e){if(l){if(typeof l=="string")return nl(l,e);var t={}.toString.call(l).slice(8,-1);return t==="Object"&&l.constructor&&(t=l.constructor.name),t==="Map"||t==="Set"?Array.from(l):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nl(l,e):void 0}}function nl(l,e){(e==null||e>l.length)&&(e=l.length);for(var t=0,n=Array(e);t<e;t++)n[t]=l[t];return n}function al(l,e){var t=Object.keys(l);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(l);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(l,i).enumerable})),t.push.apply(t,n)}return t}function U(l){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?al(Object(t),!0).forEach(function(n){ae(l,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(t)):al(Object(t)).forEach(function(n){Object.defineProperty(l,n,Object.getOwnPropertyDescriptor(t,n))})}return l}var Ot=Se({name:"TSelect",props:U(U({},G),{},{valueDisplayOptions:{type:Object}}),setup:function(e,t){var n=t.slots,i=de(),f=ol(),h=El(),d=Be(),r=de("select"),p=vl("select"),T=p.globalConfig,N=p.t,E=Zl(e),q=E.popupVisible,H=E.inputValue,_=E.modelValue,a=E.value,x=qe(H,e.defaultInputValue,e.onInputChange,"inputValue"),k=Te(x,2),g=k[0],j=k[1],B=Ll(a,_,e.defaultValue,e.onChange),P=Te(B,2),m=P[0],O=P[1],y=le(null),I=le(null),w=C(function(){var v,o,u;return{label:((v=e.keys)===null||v===void 0?void 0:v.label)||"label",value:((o=e.keys)===null||o===void 0?void 0:o.value)||"value",disabled:((u=e.keys)===null||u===void 0?void 0:u.disabled)||"disabled"}}),M=C(function(){return e.valueType==="object"}),b=C(function(){return m.value===void 0?e.multiple?[]:void 0:M.value?e.multiple?m.value.map(function(v){return v[w.value.value]}):m.value[w.value.value]:m.value}),$=ht(e,w,g,b),R=$.optionsMap,D=$.optionsList,K=$.optionsCache,te=$.displayOptions,re=$.filterMethods,Z=$.searchDisplayOptions,X=function(o,u){if(M.value){var c=w.value,V=c.value,s=c.label,S=function(z){if(z!==void 0){var Q=R.value.get(z);return ae(ae({},V,oe(Q,"value")),s,oe(Q,"label"))}};o=e.multiple?o.map(function(L){return S(L)}):S(o)}if(o!==m.value&&(e.multiple&&!e.reserveKeyword&&u.trigger=="check"&&j(""),O(o,U({selectedOptions:se(o)},u)),e.multiple&&u.trigger==="uncheck"&&u.option)){var A;(A=e.onRemove)===null||A===void 0||A.call(e,{value:oe(u.option,w.value.value),data:u.option,e:u.e})}},pe=qe(q,!1,function(v,o){var u;(u=e.onPopupVisibleChange)===null||u===void 0||u.call(e,v,o)},"popupVisible"),ie=Te(pe,2),W=ie[0],ve=ie[1],Fe=C(function(){var v;return(v=!e.multiple&&W.value&&je(b.value,ce.value,be,R)||e.placeholder)!==null&&v!==void 0?v:N(T.value.placeholder)}),Me=C(function(){return e.multiple?vt(b.value,ce.value,be,R):je(b.value,ce.value,be,R)}),hl=C(function(){if(!e.multiple)return U(U({},R.value.get(b.value)),{},{value:b.value,label:Me.value});var v=ee(b.value)?b.value.map(function(u){return R.value.get(u)}):[],o={value:v,onClose:e.multiple?function(u){return Ie(u)}:function(){}};return e.minCollapsedNum&&ee(b.value)?U(U({},o),{},{displayValue:Array.isArray(v)?v.slice(0,e.minCollapsedNum):[]}):o}),Ee=C(function(){return!!(e.filterable||T.value.filterable||ge(e.filter))}),ce=C(function(){return!!((e.filterable||T.value.filterable)&&ge(e.onSearch))}),Ie=function(o,u){var c,V=u||{},s=V.e,S=V.trigger,A=S===void 0?"tag-remove":S;s&&s.stopPropagation();var L=ul(b.value),z=L[o];if(L.splice(o,1),A==="backspace"){for(var Q,he=-1,ne=o,ue=He();ne>=0;){var fe;if(!((fe=ue[ne])!==null&&fe!==void 0&&fe.disabled)){he=ne;break}ne-=1}if(he<0)return;var ke=ue[he],Ge=ue.filter(function(Ae){return Ae.value!==ke.value});X(Ge.map(function(Ae){return Ae.value}),{selectedOptions:Ge,trigger:A,e:s}),(Q=e.onRemove)===null||Q===void 0||Q.call(e,{value:ke.value,data:ke,e:s});return}A!=="clear"&&X(L,{selectedOptions:se(L),trigger:A,e:s}),(c=e.onRemove)===null||c===void 0||c.call(e,{value:z,data:R.value.get(z),e:s})},Le=function(){var o;g.value&&((o=e.onCreate)===null||o===void 0||o.call(e,g.value),W.value||j(""))},ze=C(function(){var v;return(v=I.value)===null||v===void 0?void 0:v.popupRef.getOverlay()}),we=C(function(){return D.value.filter(function(v){return!v.disabled&&!(v["check-all"]||v["check-all"]==="")&&!v.checkAll&&re(v)})}),se=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.value;return D.value.filter(function(u){if(!u.checkAll)return ee(o)?o.includes(u.value):o===u.value})},He=function(){var o=[],u=M.value?m.value:b.value,c=ee(u)?u:[u];return c.forEach(function(V){var s=R.value.get(M.value?V.value:V);s?o.push(s):o.push(M.value?V:{value:V})}),o},Ke=function(o){if(e.multiple){var u=w.value.value,c=b.value.filter(function(A){return D.value.find(function(L){return L.value===A&&L.disabled})}),V=we.value.map(function(A){return A.value}),s=M.value?m.value.map(function(A){return oe(A,u)}):m.value,S=o?Y(new Set([].concat(Y(s),Y(V),Y(c)))):Y(c);X(S,{selectedOptions:se(S),trigger:o?"check":"clear"})}},Ve=C(function(){return _e.value===0?!1:_e.value===(ce.value?Z.value.length:we.value.length)}),me=ft({displayOptions:te,optionsList:D,innerPopupVisible:W,setInnerPopupVisible:ve,selectPanelRef:y,isFilterable:Ee,isRemoteSearch:ce,getSelectedOptions:se,setInnerValue:X,onCheckAllChange:Ke,isCheckAll:Ve,innerValue:b,popupContentRef:ze,multiple:e.multiple,max:e.max}),gl=me.hoverIndex,ml=me.virtualFilteredOptions,bl=me.handleKeyDown,yl=me.filteredOptions,_e=C(function(){var v=we.value.map(function(u){return u.value}),o=Jl(b.value,v);return o.length}),Cl=C(function(){return!Ve.value&&_e.value!==0}),Ol=C(function(){return{max:e.max,multiple:e.multiple,hoverIndex:gl.value,selectValue:b.value,reserveKeyword:e.reserveKeyword,handleValueChange:X,handlerInputChange:j,handlePopupVisibleChange:ve,handleCreate:Le,size:e.size,popupContentRef:ze,indeterminate:Cl.value,isCheckAll:Ve.value,onCheckAllChange:Ke,getSelectedOptions:se,displayOptions:te.value,emitBlur:Il}});We(Pe,Ol);var Ue=function(){!e.multiple&&ee(m.value)&&O(void 0,{selectedOptions:[],trigger:"default"}),e.multiple&&!ee(m.value)&&O([],{selectedOptions:[],trigger:"default"})},Sl=zl(function(v,o){var u,c=o.e;(u=e.onSearch)===null||u===void 0||u.call(e,"".concat(v),{e:c})},300),Pl=function(o,u){o&&!W.value&&ve(!0,{e:u.e}),j(o),Sl("".concat(o),{e:u.e}),$e(function(){var c,V;ml.value=(c=y.value)===null||c===void 0?void 0:c.visibleData,yl.value=(V=y.value)===null||V===void 0?void 0:V.displayOptions})},Il=function(o){var u;(u=e.onBlur)===null||u===void 0||u.call(e,{e:o,value:b.value})},wl=function(o,u){ve(o,u),o&&u.trigger==="trigger-element-click"&&j("")},Vl=function(){var v=Tl(Ye.mark(function o(u){var c,V,s;return Ye.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(s=e.popupProps,!e.loading){S.next=1;break}return S.abrupt("return");case 1:s==null||(c=s["on-scroll-to-bottom"])===null||c===void 0||c.call(s,u),s==null||(V=s.onScrollToBottom)===null||V===void 0||V.call(s,u);case 2:case"end":return S.stop()}},o)}));return function(u){return v.apply(this,arguments)}}(),_l=function(o){if(e.multiple){var u=[],c=yt(o||[]),V;try{for(c.s();!(V=c.n()).done;){var s=V.value,S=R.value.get(s);S&&u.push(S)}}catch(L){c.e(L)}finally{c.f()}K.value=Array.from(new Set([].concat(u,Y(K.value))))}else{var A=R.value.get(o);A&&(K.value=Array.from(new Set([A].concat(Y(K.value)))))}};Oe(m,function(v){Ue(),$e(function(){_l(v)})},{immediate:!0}),Oe(function(){return e.multiple},function(){Ue()});var kl=function(o){var u;if(y.value){var c=(u=y.value)===null||u===void 0||(u=u.innerRef)===null||u===void 0?void 0:u.querySelector(".".concat(i.value,"-is-selected"));$e(function(){if(c&&o){var V=getComputedStyle(c),s=V.paddingBottom,S=getComputedStyle(o),A=S.marginBottom,L=parseInt(s,10)+parseInt(A,10),z=c.offsetTop-o.offsetTop-(o.clientHeight-c.clientHeight)+L;o.scrollTop=z}})}},be=C(function(){return ce.value?Z.value:He()}),Al=function(){var o=function(){var c,V,s;if(!(!e.multiple||((c=e.selectInputProps)===null||c===void 0?void 0:c.multiple)===!1))return(V=(s=b.value.slice(0,e.minCollapsedNum?e.minCollapsedNum:b.value.length)).map)===null||V===void 0?void 0:V.call(s,function(S,A){var L,z=be.value.find(function(Q){if(Q.value===S)return!0});return F(Ql,Ce({key:A,closable:!(z!=null&&z.disabled)&&!f.value&&!h.value,size:e.size},e.tagProps,{onClose:function(he){var ne,ue,fe=he.e;fe.stopPropagation(),(ne=e.tagProps)===null||ne===void 0||(ue=ne.onClose)===null||ue===void 0||ue.call(ne,{e:fe}),Ie(A)}}),{default:function(){return[z?(L=z.label)!==null&&L!==void 0?L:z==null?void 0:z.value:S]}})})};return d("valueDisplay",{params:hl.value})||o()};return We("updateScrollTop",kl),function(){var v=e.popupProps||{},o=v.overlayClassName,u=xl(v,bt);return F("div",{class:"".concat(r.value,"__wrap")},[F(Kl,Ce({autoWidth:e.autoWidth,readonly:h.value,borderless:e.borderless,multiple:e.multiple,clearable:e.clearable,loading:e.loading,status:e.status,tips:function(){return d("tips")},minCollapsedNum:e.minCollapsedNum,autofocus:e.autofocus,suffix:e.suffix,valueDisplayOptions:e.valueDisplayOptions},{ref:I,class:r.value,value:Me.value,disabled:f.value,popupVisible:W.value,inputValue:W.value?g.value:"",placeholder:"".concat(Fe.value),allowInput:Ee.value,"collapsed-items":e.collapsedItems,inputProps:U(U({size:e.size,autofocus:e.autofocus},e.inputProps),{},{onkeydown:bl}),tagInputProps:U({size:e.size},e.tagInputProps),onTagChange:function(V,s){Ie(s.index,s)},tagProps:U({},e.tagProps),popupProps:U(U({overlayClassName:["".concat(r.value,"__dropdown"),o]},u),{},{onScrollToBottom:Vl}),label:e.label,prefixIcon:e.prefixIcon,suffix:e.suffix,suffixIcon:function(){return e.suffixIcon||n.suffixIcon?d("suffixIcon"):e.showArrow&&F(Hl,{overlayClassName:"".concat(r.value,"__right-icon"),isActive:W.value},null)},valueDisplay:Al,onPopupVisibleChange:wl,onInputChange:Pl,onClear:function(V){var s,S=V.e;X(e.multiple?[]:void 0,{option:null,selectedOptions:se(e.multiple?[]:void 0),trigger:"clear",e:S}),(s=e.onClear)===null||s===void 0||s.call(e,{e:S})},onEnter:function(V,s){var S=s.e;setTimeout(function(){var A;(A=e.onEnter)===null||A===void 0||A.call(e,{inputValue:"".concat(g.value),e:S,value:b.value}),Le()},0)},onBlur:function(V,s){var S,A=s.e;(S=e.onBlur)===null||S===void 0||S.call(e,{e:A,value:b.value})},onFocus:function(V,s){var S,A=s.e;(S=e.onFocus)===null||S===void 0||S.call(e,{e:A,value:b.value})}},e.selectInputProps),{label:n.label,prefixIcon:n.prefixIcon,suffix:n.suffix,panel:function(){return F(mt,Ce({ref:y},Ul(e,["multiple","empty","loading","loadingText","filterable","creatable","panelTopContent","panelBottomContent","filter","scroll","keys"]),{inputValue:g.value}),n)},collapsedItems:n.collapsedItems})])}}});/**
 * tdesign v1.16.1
 * (c) 2025 tdesign
 * @license MIT
 */var Tt=Re(Ot),$t=Re(Ne);Re(pl);export{$t as O,Tt as S,rt as b};
